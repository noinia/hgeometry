<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstrainedClassMethods #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE MultiWayIf #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998


This module converts Template Haskell syntax into Hs syntax
-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.ThToHs.html"><span class="hs-identifier">GHC.ThToHs</span></a></span><span>
</span><span id="line-18"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#convertToHsExpr"><span class="hs-identifier">convertToHsExpr</span></a></span><span>
</span><span id="line-19"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#convertToPat"><span class="hs-identifier">convertToPat</span></a></span><span>
</span><span id="line-20"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#convertToHsDecls"><span class="hs-identifier">convertToHsDecls</span></a></span><span>
</span><span id="line-21"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#convertToHsType"><span class="hs-identifier">convertToHsType</span></a></span><span>
</span><span id="line-22"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#thRdrNameGuesses"><span class="hs-identifier">thRdrNameGuesses</span></a></span><span>
</span><span id="line-23"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">init</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">last</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Prelude.Basic.html#tail"><span class="hs-identifier">tail</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hs</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html"><span class="hs-identifier">GHC.Tc.Errors.Types</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Name</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html"><span class="hs-identifier">GHC.Parser.PostProcess</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html"><span class="hs-identifier">GHC.Types.Name.Occurrence</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OccName</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hs</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.html"><span class="hs-identifier">GHC.Core.Coercion</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Coercion</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Role"><span class="hs-identifier">Role</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.Prim.html"><span class="hs-identifier">GHC.Builtin.Types.Prim</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.Prim.html#fUNTyCon"><span class="hs-identifier">fUNTyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hs</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html"><span class="hs-identifier">GHC.Types.Fixity</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hs</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html"><span class="hs-identifier">GHC.Types.SourceText</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html"><span class="hs-identifier">Language.Haskell.Syntax.Basic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier">FieldLabelString</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ap</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#first"><span class="hs-identifier">first</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">for_</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier">nonEmpty</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">catMaybes</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isNothing</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Internal.TH.Syntax</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Foreign.ForeignPtr.html"><span class="hs-identifier">Foreign.ForeignPtr</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Foreign.Ptr.html"><span class="hs-identifier">Foreign.Ptr</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/System.IO.Unsafe.html"><span class="hs-identifier">System.IO.Unsafe</span></a></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-68"></span><span class="hs-comment">--              The external interface</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="annot"><a href="GHC.ThToHs.html#convertToHsDecls"><span class="hs-identifier hs-type">convertToHsDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#RunSpliceFailReason"><span class="hs-identifier hs-type">RunSpliceFailReason</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-71"></span><span id="convertToHsDecls"><span class="annot"><span class="annottext">convertToHsDecls :: Origin
-&gt; SrcSpan -&gt; [Dec] -&gt; Either RunSpliceFailReason [LHsDecl GhcPs]
</span><a href="GHC.ThToHs.html#convertToHsDecls"><span class="hs-identifier hs-var hs-var">convertToHsDecls</span></a></span></span><span> </span><span id="local-6989586621682772081"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772081"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772082"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772082"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772083"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772083"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><span class="annottext">Origin
-&gt; SrcSpan
-&gt; CvtM' RunSpliceFailReason [LHsDecl GhcPs]
-&gt; Either RunSpliceFailReason [LHsDecl GhcPs]
forall err a. Origin -&gt; SrcSpan -&gt; CvtM' err a -&gt; Either err a
</span><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-var">initCvt</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772081"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772082"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM' RunSpliceFailReason [LHsDecl GhcPs]
 -&gt; Either RunSpliceFailReason [LHsDecl GhcPs])
-&gt; CvtM' RunSpliceFailReason [LHsDecl GhcPs]
-&gt; Either RunSpliceFailReason [LHsDecl GhcPs]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
 -&gt; [LHsDecl GhcPs])
-&gt; CvtM'
     RunSpliceFailReason [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
-&gt; CvtM' RunSpliceFailReason [LHsDecl GhcPs]
forall a b.
(a -&gt; b)
-&gt; CvtM' RunSpliceFailReason a -&gt; CvtM' RunSpliceFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))] -&gt; [LHsDecl GhcPs]
[Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Dec
 -&gt; CvtM'
      RunSpliceFailReason
      (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))))
-&gt; [Dec]
-&gt; CvtM'
     RunSpliceFailReason [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Dec
-&gt; CvtM'
     RunSpliceFailReason (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
</span><a href="#local-6989586621682772086"><span class="hs-identifier hs-var">cvt_dec</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772083"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>    </span><span id="local-6989586621682772086"><span class="annot"><span class="annottext">cvt_dec :: Dec -&gt; CvtM' RunSpliceFailReason (Maybe (LHsDecl GhcPs))
</span><a href="#local-6989586621682772086"><span class="hs-identifier hs-var hs-var">cvt_dec</span></a></span></span><span> </span><span id="local-6989586621682772087"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621682772087"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-75"></span><span>      </span><span class="annot"><span class="annottext">ThingBeingConverted
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
-&gt; CvtM' RunSpliceFailReason (Maybe (LHsDecl GhcPs))
forall a.
ThingBeingConverted
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
</span><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-var">wrapMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dec -&gt; ThingBeingConverted
</span><a href="GHC.Tc.Errors.Types.html#ConvDec"><span class="hs-identifier hs-var">ConvDec</span></a></span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621682772087"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
 -&gt; CvtM' RunSpliceFailReason (Maybe (LHsDecl GhcPs)))
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
-&gt; CvtM' RunSpliceFailReason (Maybe (LHsDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dec -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621682772087"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><a href="GHC.ThToHs.html#convertToHsExpr"><span class="hs-identifier hs-type">convertToHsExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#RunSpliceFailReason"><span class="hs-identifier hs-type">RunSpliceFailReason</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span id="convertToHsExpr"><span class="annot"><span class="annottext">convertToHsExpr :: Origin
-&gt; SrcSpan -&gt; Exp -&gt; Either RunSpliceFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#convertToHsExpr"><span class="hs-identifier hs-var hs-var">convertToHsExpr</span></a></span></span><span> </span><span id="local-6989586621682772091"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772091"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772092"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772092"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772093"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682772093"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; SrcSpan
-&gt; CvtM' RunSpliceFailReason (LHsExpr GhcPs)
-&gt; Either RunSpliceFailReason (LHsExpr GhcPs)
forall err a. Origin -&gt; SrcSpan -&gt; CvtM' err a -&gt; Either err a
</span><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-var">initCvt</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772091"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772092"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM' RunSpliceFailReason (LHsExpr GhcPs)
 -&gt; Either RunSpliceFailReason (LHsExpr GhcPs))
-&gt; CvtM' RunSpliceFailReason (LHsExpr GhcPs)
-&gt; Either RunSpliceFailReason (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ThingBeingConverted
-&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
-&gt; CvtM' RunSpliceFailReason (LHsExpr GhcPs)
forall a.
ThingBeingConverted
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
</span><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-var">wrapMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp -&gt; ThingBeingConverted
</span><a href="GHC.Tc.Errors.Types.html#ConvExp"><span class="hs-identifier hs-var">ConvExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682772093"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (LHsExpr GhcPs)
 -&gt; CvtM' RunSpliceFailReason (LHsExpr GhcPs))
-&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
-&gt; CvtM' RunSpliceFailReason (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682772093"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><a href="GHC.ThToHs.html#convertToPat"><span class="hs-identifier hs-type">convertToPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#RunSpliceFailReason"><span class="hs-identifier hs-type">RunSpliceFailReason</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span id="convertToPat"><span class="annot"><span class="annottext">convertToPat :: Origin -&gt; SrcSpan -&gt; Pat -&gt; Either RunSpliceFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#convertToPat"><span class="hs-identifier hs-var hs-var">convertToPat</span></a></span></span><span> </span><span id="local-6989586621682772096"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772096"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772097"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772097"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772098"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772098"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; SrcSpan
-&gt; CvtM' RunSpliceFailReason (LPat GhcPs)
-&gt; Either RunSpliceFailReason (LPat GhcPs)
forall err a. Origin -&gt; SrcSpan -&gt; CvtM' err a -&gt; Either err a
</span><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-var">initCvt</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772096"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772097"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM' RunSpliceFailReason (LPat GhcPs)
 -&gt; Either RunSpliceFailReason (LPat GhcPs))
-&gt; CvtM' RunSpliceFailReason (LPat GhcPs)
-&gt; Either RunSpliceFailReason (LPat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ThingBeingConverted
-&gt; CvtM' ConversionFailReason (LPat GhcPs)
-&gt; CvtM' RunSpliceFailReason (LPat GhcPs)
forall a.
ThingBeingConverted
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
</span><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-var">wrapMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat -&gt; ThingBeingConverted
</span><a href="GHC.Tc.Errors.Types.html#ConvPat"><span class="hs-identifier hs-var">ConvPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772098"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (LPat GhcPs)
 -&gt; CvtM' RunSpliceFailReason (LPat GhcPs))
-&gt; CvtM' ConversionFailReason (LPat GhcPs)
-&gt; CvtM' RunSpliceFailReason (LPat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772098"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="annot"><a href="GHC.ThToHs.html#convertToHsType"><span class="hs-identifier hs-type">convertToHsType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#RunSpliceFailReason"><span class="hs-identifier hs-type">RunSpliceFailReason</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span id="convertToHsType"><span class="annot"><span class="annottext">convertToHsType :: Origin
-&gt; SrcSpan -&gt; Type -&gt; Either RunSpliceFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#convertToHsType"><span class="hs-identifier hs-var hs-var">convertToHsType</span></a></span></span><span> </span><span id="local-6989586621682772101"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772101"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772102"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772102"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772103"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772103"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; SrcSpan
-&gt; CvtM' RunSpliceFailReason (LHsType GhcPs)
-&gt; Either RunSpliceFailReason (LHsType GhcPs)
forall err a. Origin -&gt; SrcSpan -&gt; CvtM' err a -&gt; Either err a
</span><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-var">initCvt</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772101"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772102"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM' RunSpliceFailReason (LHsType GhcPs)
 -&gt; Either RunSpliceFailReason (LHsType GhcPs))
-&gt; CvtM' RunSpliceFailReason (LHsType GhcPs)
-&gt; Either RunSpliceFailReason (LHsType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ThingBeingConverted
-&gt; CvtM' ConversionFailReason (LHsType GhcPs)
-&gt; CvtM' RunSpliceFailReason (LHsType GhcPs)
forall a.
ThingBeingConverted
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
</span><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-var">wrapMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; ThingBeingConverted
</span><a href="GHC.Tc.Errors.Types.html#ConvType"><span class="hs-identifier hs-var">ConvType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772103"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (LHsType GhcPs)
 -&gt; CvtM' RunSpliceFailReason (LHsType GhcPs))
-&gt; CvtM' ConversionFailReason (LHsType GhcPs)
-&gt; CvtM' RunSpliceFailReason (LHsType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772103"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-90"></span><span class="hs-keyword">newtype</span><span> </span><span id="CvtM%27"><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-var">CvtM'</span></a></span></span><span> </span><span id="local-6989586621682770431"><span class="annot"><a href="#local-6989586621682770431"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621682770432"><span class="annot"><a href="#local-6989586621682770432"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CvtM"><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unCvtM"><span class="annot"><span class="annottext">forall err a.
CvtM' err a -&gt; Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="GHC.ThToHs.html#unCvtM"><span class="hs-identifier hs-var hs-var">unCvtM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682770431"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682770432"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772109"><span id="local-6989586621682772113"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b)
-&gt; (forall a b. a -&gt; CvtM' err b -&gt; CvtM' err a)
-&gt; Functor (CvtM' err)
forall a b. a -&gt; CvtM' err b -&gt; CvtM' err a
forall a b. (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
forall err a b. a -&gt; CvtM' err b -&gt; CvtM' err a
forall err a b. (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall err a b. (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
fmap :: forall a b. (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
$c&lt;$ :: forall err a b. a -&gt; CvtM' err b -&gt; CvtM' err a
&lt;$ :: forall a b. a -&gt; CvtM' err b -&gt; CvtM' err a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>        </span><span class="hs-comment">-- Push down the Origin (that is configurable by</span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-comment">-- -fenable-th-splice-warnings) and source location;</span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-comment">-- Can fail, with a single error message</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">type</span><span> </span><span id="CvtM"><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#ConversionFailReason"><span class="hs-identifier hs-type">ConversionFailReason</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- NB: If the conversion succeeds with (Right x), there should</span><span>
</span><span id="line-99"></span><span class="hs-comment">--     be no exception values hiding in x</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- Reason: so a (head []) in TH code doesn't subsequently</span><span>
</span><span id="line-101"></span><span class="hs-comment">--         make GHC crash when it tries to walk the generated tree</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- Use the SrcSpan everywhere, for lack of anything better.</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- See Note [Source locations within TH splices].</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682770407"><span id="local-6989586621682772122"><span id="local-6989586621682772125"><span id="local-6989586621682772128"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770407"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>    </span><span id="local-6989586621682772131"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; CvtM' err a
</span><span class="hs-identifier hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621682772132"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772132"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a)
-&gt; (Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772133"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772133"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, a) -&gt; Either err (SrcSpan, a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772133"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772132"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621682772135"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. CvtM' err (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
</span><span class="hs-operator hs-var hs-var hs-var">(&lt;*&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM' err (a -&gt; b) -&gt; CvtM' err a -&gt; CvtM' err b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-identifier hs-var">ap</span></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682770406"><span id="local-6989586621682772140"><span id="local-6989586621682772143"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770406"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772146"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772146"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682772147"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. CvtM' err a -&gt; (a -&gt; CvtM' err b) -&gt; CvtM' err b
</span><span class="hs-operator hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621682772148"><span class="annot"><span class="annottext">a -&gt; CvtM' err b
</span><a href="#local-6989586621682772148"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, b)) -&gt; CvtM' err b
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, b)) -&gt; CvtM' err b)
-&gt; (Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, b)) -&gt; CvtM' err b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772149"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772149"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772150"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772150"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772146"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772149"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772150"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682772151"><span class="annot"><span class="annottext">err
</span><a href="#local-6989586621682772151"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">err -&gt; Either err (SrcSpan, b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">err
</span><a href="#local-6989586621682772151"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772152"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772152"><span class="hs-identifier hs-var">loc'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682772153"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772153"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CvtM' err b -&gt; Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, b)
forall err a.
CvtM' err a -&gt; Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="GHC.ThToHs.html#unCvtM"><span class="hs-identifier hs-var">unCvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; CvtM' err b
</span><a href="#local-6989586621682772148"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772153"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772149"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772152"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Return first success or first error.</span><span>
</span><span id="line-116"></span><span class="hs-comment">--</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- Primary case should be the first because it</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- would determine returned error message</span><span>
</span><span id="line-119"></span><span id="local-6989586621682770468"><span id="local-6989586621682770469"><span class="annot"><a href="GHC.ThToHs.html#orOnFail"><span class="hs-identifier hs-type">orOnFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770468"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770469"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770468"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770469"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770468"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770469"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-120"></span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772155"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772155"><span class="hs-identifier hs-var">m1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="orOnFail"><span class="annot"><span class="annottext">orOnFail :: forall err a. CvtM' err a -&gt; CvtM' err a -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#orOnFail"><span class="hs-operator hs-var hs-var">`orOnFail`</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772156"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772156"><span class="hs-identifier hs-var">m2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a)
-&gt; (Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772157"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772157"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772158"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772158"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either err (SrcSpan, a)
-&gt; Either err (SrcSpan, a) -&gt; Either err (SrcSpan, a)
forall {a} {b}. Either a b -&gt; Either a b -&gt; Either a b
</span><a href="#local-6989586621682772159"><span class="hs-identifier hs-var">choose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772155"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772157"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772158"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772156"><span class="hs-identifier hs-var">m2</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772157"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772158"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621682772159"><span class="annot"><span class="annottext">choose :: Either a b -&gt; Either a b -&gt; Either a b
</span><a href="#local-6989586621682772159"><span class="hs-identifier hs-var hs-var">choose</span></a></span></span><span> </span><span id="local-6989586621682772160"><span class="annot"><span class="annottext">r :: Either a b
</span><a href="#local-6989586621682772160"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="annot"><span class="annottext">Either a b
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621682772160"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><a href="#local-6989586621682772159"><span class="hs-identifier hs-var">choose</span></a></span><span> </span><span class="annot"><span class="annottext">Either a b
</span><span class="hs-identifier">_</span></span><span>          </span><span id="local-6989586621682772161"><span class="annot"><span class="annottext">r :: Either a b
</span><a href="#local-6989586621682772161"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621682772161"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><a href="#local-6989586621682772159"><span class="hs-identifier hs-var">choose</span></a></span><span> </span><span id="local-6989586621682772162"><span class="annot"><span class="annottext">err :: Either a b
</span><a href="#local-6989586621682772162"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621682772162"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#orOnFail"><span class="hs-operator hs-type">`orOnFail`</span></a></span><span> </span><span class="hs-comment">-- The same fixity as for &lt;|&gt;</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span id="local-6989586621682770474"><span id="local-6989586621682770475"><span id="local-6989586621682770476"><span class="annot"><a href="GHC.ThToHs.html#mapCvtMError"><span class="hs-identifier hs-type">mapCvtMError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682770474"><span class="hs-identifier hs-type">err1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682770475"><span class="hs-identifier hs-type">err2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770474"><span class="hs-identifier hs-type">err1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770476"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770475"><span class="hs-identifier hs-type">err2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770476"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-129"></span><span id="mapCvtMError"><span class="annot"><span class="annottext">mapCvtMError :: forall err1 err2 a. (err1 -&gt; err2) -&gt; CvtM' err1 a -&gt; CvtM' err2 a
</span><a href="GHC.ThToHs.html#mapCvtMError"><span class="hs-identifier hs-var hs-var">mapCvtMError</span></a></span></span><span> </span><span id="local-6989586621682772166"><span class="annot"><span class="annottext">err1 -&gt; err2
</span><a href="#local-6989586621682772166"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772167"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err1 (SrcSpan, a)
</span><a href="#local-6989586621682772167"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either err2 (SrcSpan, a)) -&gt; CvtM' err2 a
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin -&gt; SrcSpan -&gt; Either err2 (SrcSpan, a)) -&gt; CvtM' err2 a)
-&gt; (Origin -&gt; SrcSpan -&gt; Either err2 (SrcSpan, a)) -&gt; CvtM' err2 a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772168"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772168"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772169"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772169"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(err1 -&gt; err2)
-&gt; Either err1 (SrcSpan, a) -&gt; Either err2 (SrcSpan, a)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">err1 -&gt; err2
</span><a href="#local-6989586621682772166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either err1 (SrcSpan, a) -&gt; Either err2 (SrcSpan, a))
-&gt; Either err1 (SrcSpan, a) -&gt; Either err2 (SrcSpan, a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err1 (SrcSpan, a)
</span><a href="#local-6989586621682772167"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772168"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772169"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span id="local-6989586621682770411"><span id="local-6989586621682770412"><span class="annot"><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-type">initCvt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770411"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770412"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682770411"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770412"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-132"></span><span id="initCvt"><span class="annot"><span class="annottext">initCvt :: forall err a. Origin -&gt; SrcSpan -&gt; CvtM' err a -&gt; Either err a
</span><a href="GHC.ThToHs.html#initCvt"><span class="hs-identifier hs-var hs-var">initCvt</span></a></span></span><span> </span><span id="local-6989586621682772171"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772171"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772172"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772172"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772173"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772173"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SrcSpan, a) -&gt; a) -&gt; Either err (SrcSpan, a) -&gt; Either err a
forall a b. (a -&gt; b) -&gt; Either err a -&gt; Either err b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)
</span><a href="#local-6989586621682772173"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772171"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772172"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621682770489"><span class="annot"><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-type">force</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682770489"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-135"></span><span id="force"><span class="annot"><span class="annottext">force :: forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var hs-var">force</span></a></span></span><span> </span><span id="local-6989586621682772177"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772177"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772177"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; CvtM () -&gt; CvtM ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; CvtM ()
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621682770493"><span class="annot"><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-type">failWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#ConversionFailReason"><span class="hs-identifier hs-type">ConversionFailReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770493"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-138"></span><span id="failWith"><span class="annot"><span class="annottext">failWith :: forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var hs-var">failWith</span></a></span></span><span> </span><span id="local-6989586621682772179"><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772179"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a))
-&gt; CvtM' ConversionFailReason a
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; Either ConversionFailReason (SrcSpan, a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772179"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Origin"><span class="hs-identifier hs-type">Origin</span></a></span><span>
</span><span id="line-141"></span><span id="getOrigin"><span class="annot"><span class="annottext">getOrigin :: CvtM Origin
</span><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-var hs-var">getOrigin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, Origin))
-&gt; CvtM Origin
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682772181"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772181"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772182"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772182"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, Origin) -&gt; Either ConversionFailReason (SrcSpan, Origin)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772182"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772181"><span class="hs-identifier hs-var">origin</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="annot"><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-type">getL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-144"></span><span id="getL"><span class="annot"><span class="annottext">getL :: CvtM SrcSpan
</span><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-var hs-var">getL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, SrcSpan))
-&gt; CvtM SrcSpan
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772184"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772184"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SrcSpan)
-&gt; Either ConversionFailReason (SrcSpan, SrcSpan)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772184"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772184"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- NB: This is only used in conjunction with LineP pragmas.</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- See Note [Source locations within TH splices].</span><span>
</span><span id="line-148"></span><span class="annot"><a href="GHC.ThToHs.html#setL"><span class="hs-identifier hs-type">setL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span id="setL"><span class="annot"><span class="annottext">setL :: SrcSpan -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#setL"><span class="hs-identifier hs-var hs-var">setL</span></a></span></span><span> </span><span id="local-6989586621682772186"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772186"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, ()))
-&gt; CvtM ()
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, ()) -&gt; Either ConversionFailReason (SrcSpan, ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772186"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span id="local-6989586621682770495"><span id="local-6989586621682770496"><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#NoAnn"><span class="hs-identifier hs-type">NoAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770495"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682770496"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770495"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770496"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-152"></span><span id="returnLA"><span class="annot"><span class="annottext">returnLA :: forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var hs-var">returnLA</span></a></span></span><span> </span><span id="local-6989586621682772190"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621682772190"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan
 -&gt; Either ConversionFailReason (SrcSpan, LocatedAn ann e))
-&gt; CvtM' ConversionFailReason (LocatedAn ann e)
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772191"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772191"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, LocatedAn ann e)
-&gt; Either ConversionFailReason (SrcSpan, LocatedAn ann e)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772191"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EpAnn ann -&gt; e -&gt; LocatedAn ann e
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; EpAnn ann
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772191"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621682772190"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621682770503"><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682770503"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770503"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-155"></span><span id="returnJustLA"><span class="annot"><span class="annottext">returnJustLA :: forall a. a -&gt; CvtM (Maybe (LocatedA a))
</span><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-var hs-var">returnJustLA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA a -&gt; Maybe (LocatedA a))
-&gt; CvtM' ConversionFailReason (LocatedA a)
-&gt; CvtM' ConversionFailReason (Maybe (LocatedA a))
forall a b.
(a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">LocatedA a -&gt; Maybe (LocatedA a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (LocatedA a)
 -&gt; CvtM' ConversionFailReason (Maybe (LocatedA a)))
-&gt; (a -&gt; CvtM' ConversionFailReason (LocatedA a))
-&gt; a
-&gt; CvtM' ConversionFailReason (Maybe (LocatedA a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; CvtM' ConversionFailReason (LocatedA a)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span id="local-6989586621682770509"><span id="local-6989586621682770510"><span id="local-6989586621682770511"><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#NoAnn"><span class="hs-identifier hs-type">NoAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770509"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770509"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770510"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682770511"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682770510"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770511"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-158"></span><span id="wrapParLA"><span class="annot"><span class="annottext">wrapParLA :: forall ann a b. NoAnn ann =&gt; (LocatedAn ann a -&gt; b) -&gt; a -&gt; CvtM b
</span><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-var hs-var">wrapParLA</span></a></span></span><span> </span><span id="local-6989586621682772201"><span class="annot"><span class="annottext">LocatedAn ann a -&gt; b
</span><a href="#local-6989586621682772201"><span class="hs-identifier hs-var">add_par</span></a></span></span><span> </span><span id="local-6989586621682772202"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772202"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, b))
-&gt; CvtM' ConversionFailReason b
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772203"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772203"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, b) -&gt; Either ConversionFailReason (SrcSpan, b)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772203"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedAn ann a -&gt; b
</span><a href="#local-6989586621682772201"><span class="hs-identifier hs-var">add_par</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn ann -&gt; a -&gt; LocatedAn ann a
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; EpAnn ann
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772203"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772202"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span id="local-6989586621682770427"><span class="annot"><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-type">wrapMsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#ThingBeingConverted"><span class="hs-identifier hs-type">ThingBeingConverted</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#ConversionFailReason"><span class="hs-identifier hs-type">ConversionFailReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770427"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM%27"><span class="hs-identifier hs-type">CvtM'</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#RunSpliceFailReason"><span class="hs-identifier hs-type">RunSpliceFailReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770427"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-161"></span><span id="wrapMsg"><span class="annot"><span class="annottext">wrapMsg :: forall a.
ThingBeingConverted
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
</span><a href="GHC.ThToHs.html#wrapMsg"><span class="hs-identifier hs-var hs-var">wrapMsg</span></a></span></span><span> </span><span id="local-6989586621682772204"><span class="annot"><span class="annottext">ThingBeingConverted
</span><a href="#local-6989586621682772204"><span class="hs-identifier hs-var">what</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason -&gt; RunSpliceFailReason)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' RunSpliceFailReason a
forall err1 err2 a. (err1 -&gt; err2) -&gt; CvtM' err1 a -&gt; CvtM' err2 a
</span><a href="GHC.ThToHs.html#mapCvtMError"><span class="hs-identifier hs-var">mapCvtMError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ThingBeingConverted -&gt; ConversionFailReason -&gt; RunSpliceFailReason
</span><a href="GHC.Tc.Errors.Types.html#ConversionFail"><span class="hs-identifier hs-var">ConversionFail</span></a></span><span> </span><span class="annot"><span class="annottext">ThingBeingConverted
</span><a href="#local-6989586621682772204"><span class="hs-identifier hs-var">what</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span id="local-6989586621682770516"><span class="annot"><a href="GHC.ThToHs.html#wrapL"><span class="hs-identifier hs-type">wrapL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-164"></span><span id="wrapL"><span class="annot"><span class="annottext">wrapL :: forall a. CvtM a -&gt; CvtM (Located a)
</span><a href="GHC.ThToHs.html#wrapL"><span class="hs-identifier hs-var hs-var">wrapL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772207"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772207"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, Located a))
-&gt; CvtM' ConversionFailReason (Located a)
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin
  -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, Located a))
 -&gt; CvtM' ConversionFailReason (Located a))
-&gt; (Origin
    -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, Located a))
-&gt; CvtM' ConversionFailReason (Located a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772208"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772208"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772209"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772209"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772207"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772208"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772209"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682772210"><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772210"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; Either ConversionFailReason (SrcSpan, Located a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772210"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772211"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772211"><span class="hs-identifier hs-var">loc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772212"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772212"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, Located a)
-&gt; Either ConversionFailReason (SrcSpan, Located a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772211"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; a -&gt; Located a
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772209"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772212"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span id="local-6989586621682770519"><span class="annot"><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-type">wrapLN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770519"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-169"></span><span id="wrapLN"><span class="annot"><span class="annottext">wrapLN :: forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var hs-var">wrapLN</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772215"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772215"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedN a))
-&gt; CvtM' ConversionFailReason (LocatedN a)
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin
  -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedN a))
 -&gt; CvtM' ConversionFailReason (LocatedN a))
-&gt; (Origin
    -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedN a))
-&gt; CvtM' ConversionFailReason (LocatedN a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772216"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772216"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772217"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772217"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772215"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772216"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772217"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682772218"><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772218"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; Either ConversionFailReason (SrcSpan, LocatedN a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772218"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772219"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772219"><span class="hs-identifier hs-var">loc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772220"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772220"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, LocatedN a)
-&gt; Either ConversionFailReason (SrcSpan, LocatedN a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772219"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; a -&gt; LocatedN a
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772217"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772220"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span id="local-6989586621682770522"><span class="annot"><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-type">wrapLA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770522"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770522"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-174"></span><span id="wrapLA"><span class="annot"><span class="annottext">wrapLA :: forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var hs-var">wrapLA</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span id="local-6989586621682772223"><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772223"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Origin
 -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedA a))
-&gt; CvtM' ConversionFailReason (LocatedA a)
forall err a.
(Origin -&gt; SrcSpan -&gt; Either err (SrcSpan, a)) -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-var">CvtM</span></a></span><span> </span><span class="annot"><span class="annottext">((Origin
  -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedA a))
 -&gt; CvtM' ConversionFailReason (LocatedA a))
-&gt; (Origin
    -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, LocatedA a))
-&gt; CvtM' ConversionFailReason (LocatedA a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682772224"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772224"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span id="local-6989586621682772225"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772225"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Origin -&gt; SrcSpan -&gt; Either ConversionFailReason (SrcSpan, a)
</span><a href="#local-6989586621682772223"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621682772224"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772225"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682772226"><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772226"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; Either ConversionFailReason (SrcSpan, LocatedA a)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="#local-6989586621682772226"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772227"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772227"><span class="hs-identifier hs-var">loc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772228"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772228"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, LocatedA a)
-&gt; Either ConversionFailReason (SrcSpan, LocatedA a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772227"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; a -&gt; LocatedA a
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772225"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682772228"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">{-
Note [Source locations within TH splices]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider a TH splice such as $(x), where `x` evaluates to `id True`. What
source locations should we use for subexpressions within the splice, such as
`id` and `True`? We basically have two options:

1. Don't give anything within the splice a SrcSpan. That is, use the `noLoc`
   everywhere.
2. Give everything within the splice the same `SrcSpan` as where the splice
   occurs (i.e., where $(x) occurs).

We implement option (2) for the following reasons:

* We want SrcSpans on binding locations so that variables bound in the
  spliced-in declarations get a location that at least relates to the splice
  point.

* Generally speaking, having *some* SrcSpan for each sub-expression in the AST
  in better than having no SrcSpan at all. This extra information can be useful
  for programs that walk over the AST directly.

Because of our choice of option (2), we are very careful not to use the noLoc
function anywhere in GHC.ThToHs. Instead, we thread around a SrcSpan in CvtM
and allow retrieving the SrcSpan through combinators such as getL, returnLA,
wrapParLA, etc.

Note that CvtM is actually a *state* monad vis-&#224;-vis SrcSpan, not just a
reader monad. This is because LineP pragmas can change the source location
within a splice&#8212;see testsuite/tests/th/TH_linePragma.hs for an example. This
is a bit unusual, since it changes the source location from that of the splice
point to that of the code being spliced in. Nevertheless, LineP is *the* reason
why CvtM is a state monad.
-}</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-214"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDecs"><span class="hs-identifier hs-type">cvtDecs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-215"></span><span id="cvtDecs"><span class="annot"><span class="annottext">cvtDecs :: [Dec] -&gt; CvtM [LHsDecl GhcPs]
</span><a href="GHC.ThToHs.html#cvtDecs"><span class="hs-identifier hs-var hs-var">cvtDecs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
 -&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)])
-&gt; CvtM'
     ConversionFailReason
     [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a b.
(a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">(CvtM'
   ConversionFailReason
   [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
 -&gt; CvtM'
      ConversionFailReason [GenLocated SrcSpanAnnA (HsDecl GhcPs)])
-&gt; ([Dec]
    -&gt; CvtM'
         ConversionFailReason
         [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))])
-&gt; [Dec]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Dec
 -&gt; CvtM'
      ConversionFailReason
      (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))))
-&gt; [Dec]
-&gt; CvtM'
     ConversionFailReason
     [Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Dec -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
Dec
-&gt; CvtM'
     ConversionFailReason
     (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
</span><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-type">cvtDec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span id="cvtDec"><span class="annot"><span class="annottext">cvtDec :: Dec -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var hs-var">cvtDec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.ValD</span></span><span> </span><span id="local-6989586621682772231"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772231"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682772232"><span class="annot"><span class="annottext">Body
</span><a href="#local-6989586621682772232"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span id="local-6989586621682772233"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772233"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.VarP</span></span><span> </span><span id="local-6989586621682772235"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772235"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772231"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772236"><span class="annot"><a href="#local-6989586621682772236"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772235"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772238"><span class="annot"><a href="#local-6989586621682772238"><span class="hs-identifier hs-var">cl'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-type">cvtClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-type">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772236"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Clause</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682772232"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772233"><span class="hs-identifier hs-type">ds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772243"><span class="annot"><a href="#local-6989586621682772243"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">Hs.ValD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkFunBind"><span class="hs-identifier hs-type">mkFunBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772243"><span class="hs-identifier hs-type">th_origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772236"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772238"><span class="hs-identifier hs-type">cl'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772247"><span class="annot"><a href="#local-6989586621682772247"><span class="hs-identifier hs-var">pat'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772231"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-227"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772248"><span class="annot"><a href="#local-6989586621682772248"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-type">cvtGuard</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772232"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772250"><span class="annot"><a href="#local-6989586621682772250"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-type">cvtLocalDecs</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#WhereClause"><span class="hs-identifier hs-type">WhereClause</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772233"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">Hs.ValD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-230"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772247"><span class="hs-identifier hs-type">pat'</span></a></span><span>
</span><span id="line-231"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-type">emptyComments</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772248"><span class="hs-identifier hs-type">body'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772250"><span class="hs-identifier hs-type">ds'</span></a></span><span>
</span><span id="line-232"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-233"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_mult"><span class="hs-identifier hs-var">pat_mult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsNoMultAnn"><span class="hs-identifier hs-type">HsNoMultAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-234"></span><span>                  </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.FunD</span></span><span> </span><span id="local-6989586621682772262"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772262"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772263"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682772263"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682772263"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason
 -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs)))
-&gt; ConversionFailReason
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#FunBindLacksEquations"><span class="hs-identifier hs-var">FunBindLacksEquations</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772262"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772266"><span class="annot"><a href="#local-6989586621682772266"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772262"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772267"><span class="annot"><a href="#local-6989586621682772267"><span class="hs-identifier hs-var">cls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-type">cvtClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-type">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772266"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772263"><span class="hs-identifier hs-type">cls</span></a></span><span>
</span><span id="line-242"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772268"><span class="annot"><a href="#local-6989586621682772268"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-243"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">Hs.ValD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkFunBind"><span class="hs-identifier hs-type">mkFunBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772268"><span class="hs-identifier hs-type">th_origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772266"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772267"><span class="hs-identifier hs-type">cls'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.SigD</span></span><span> </span><span id="local-6989586621682772270"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772270"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772271"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772271"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772272"><span class="annot"><a href="#local-6989586621682772272"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772270"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-247"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772273"><span class="annot"><a href="#local-6989586621682772273"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772271"><span class="hs-identifier hs-type">typ</span></a></span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-249"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772272"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-type">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772273"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.KiSigD</span></span><span> </span><span id="local-6989586621682772279"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772279"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772280"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772280"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772281"><span class="annot"><a href="#local-6989586621682772281"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772279"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-253"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772283"><span class="annot"><a href="#local-6989586621682772283"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigKind"><span class="hs-identifier hs-type">cvtSigKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772280"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-254"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772285"><span class="annot"><a href="#local-6989586621682772285"><span class="hs-identifier hs-var hs-var">sig'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XStandaloneKindSig GhcPs
-&gt; LIdP GhcPs -&gt; LHsSigType GhcPs -&gt; StandaloneKindSig GhcPs
forall pass.
XStandaloneKindSig pass
-&gt; LIdP pass -&gt; LHsSigType pass -&gt; StandaloneKindSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#StandaloneKindSig"><span class="hs-identifier hs-var">StandaloneKindSig</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;type&quot;, TokDcolon)
XStandaloneKindSig GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
LocatedN RdrName
</span><a href="#local-6989586621682772281"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621682772283"><span class="hs-identifier hs-var">ki'</span></a></span><span>
</span><span id="line-255"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#KindSigD"><span class="hs-identifier hs-type">Hs.KindSigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772285"><span class="hs-identifier hs-type">sig'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.InfixD</span></span><span> </span><span id="local-6989586621682772289"><span class="annot"><span class="annottext">Fixity
</span><a href="#local-6989586621682772289"><span class="hs-identifier hs-var">fx</span></a></span></span><span> </span><span id="local-6989586621682772290"><span class="annot"><span class="annottext">NamespaceSpecifier
</span><a href="#local-6989586621682772290"><span class="hs-identifier hs-var">th_ns_spec</span></a></span></span><span> </span><span id="local-6989586621682772291"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772291"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-comment">-- Fixity signatures are allowed for variables, constructors, and types</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-comment">-- the renamer automatically looks for types during renaming, even when</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-comment">-- the RdrName says it's a variable or a constructor. So, just assume</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-comment">-- it's a variable or constructor and proceed.</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772292"><span class="annot"><a href="#local-6989586621682772292"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vcNameN"><span class="hs-identifier hs-var">vcNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772291"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-263"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-264"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772296"><span class="hs-identifier hs-type">ns_spec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772292"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvtFixity"><span class="hs-identifier hs-type">cvtFixity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772289"><span class="hs-identifier hs-type">fx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-266"></span><span>    </span><span id="local-6989586621682772296"><span class="annot"><span class="annottext">ns_spec :: NamespaceSpecifier
</span><a href="#local-6989586621682772296"><span class="hs-identifier hs-var hs-var">ns_spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><a href="#local-6989586621682772290"><span class="hs-identifier hs-var">th_ns_spec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-267"></span><span>      </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><span class="hs-identifier hs-var">TH.NoNamespaceSpecifier</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><a href="GHC.Hs.Binds.html#NoNamespaceSpecifier"><span class="hs-identifier hs-var">Hs.NoNamespaceSpecifier</span></a></span><span>
</span><span id="line-268"></span><span>      </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><span class="hs-identifier hs-var">TH.TypeNamespaceSpecifier</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EpToken &quot;type&quot; -&gt; NamespaceSpecifier
</span><a href="GHC.Hs.Binds.html#TypeNamespaceSpecifier"><span class="hs-identifier hs-var">Hs.TypeNamespaceSpecifier</span></a></span><span> </span><span class="annot"><span class="annottext">EpToken &quot;type&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><span class="hs-identifier hs-var">TH.DataNamespaceSpecifier</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EpToken &quot;data&quot; -&gt; NamespaceSpecifier
</span><a href="GHC.Hs.Binds.html#DataNamespaceSpecifier"><span class="hs-identifier hs-var">Hs.DataNamespaceSpecifier</span></a></span><span> </span><span class="annot"><span class="annottext">EpToken &quot;data&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.DefaultD</span></span><span> </span><span id="local-6989586621682772302"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772302"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772303"><span class="annot"><a href="#local-6989586621682772303"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Type
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [Type]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
Type
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772302"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DefD"><span class="hs-identifier hs-type">Hs.DefD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><a href="#local-6989586621682772303"><span class="hs-identifier hs-type">tys'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PragmaD</span></span><span> </span><span id="local-6989586621682772308"><span class="annot"><span class="annottext">Pragma
</span><a href="#local-6989586621682772308"><span class="hs-identifier hs-var">prag</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pragma -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="annot"><span class="annottext">Pragma
</span><a href="#local-6989586621682772308"><span class="hs-identifier hs-var">prag</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TySynD</span></span><span> </span><span id="local-6989586621682772311"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772311"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772312"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772312"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772313"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772313"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772314"><span class="annot"><a href="#local-6989586621682772314"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772315"><span class="annot"><a href="#local-6989586621682772315"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772311"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772312"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772317"><span class="annot"><a href="#local-6989586621682772317"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772313"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-282"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdSExt"><span class="hs-identifier hs-var">tcdSExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772314"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772315"><span class="hs-identifier hs-type">tvs'</span></a></span><span>
</span><span id="line-283"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-284"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772317"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DataD</span></span><span> </span><span id="local-6989586621682772327"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772327"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772328"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772328"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772329"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772329"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772330"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772330"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772331"><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772331"><span class="hs-identifier hs-var">constrs</span></a></span></span><span> </span><span id="local-6989586621682772332"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772332"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtDataDec"><span class="hs-identifier hs-var">cvtDataDec</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772327"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772328"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772329"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772330"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772331"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772332"><span class="hs-identifier hs-var">derivs</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NewtypeD</span></span><span> </span><span id="local-6989586621682772335"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772335"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772336"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772336"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772337"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772337"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772338"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772338"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772339"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772339"><span class="hs-identifier hs-var">constr</span></a></span></span><span> </span><span id="local-6989586621682772340"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772340"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772341"><span class="annot"><a href="#local-6989586621682772341"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772342"><span class="annot"><a href="#local-6989586621682772342"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772343"><span class="annot"><a href="#local-6989586621682772343"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772335"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772336"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772337"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772344"><span class="annot"><a href="#local-6989586621682772344"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`traverse`</span></span><span> </span><span class="annot"><a href="#local-6989586621682772338"><span class="hs-identifier hs-type">ksig</span></a></span><span>
</span><span id="line-292"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772346"><span class="annot"><a href="#local-6989586621682772346"><span class="hs-identifier hs-var">con'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-type">cvtDataDefnCons</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621682772338"><span class="hs-identifier hs-type">ksig</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewTypeCon"><span class="hs-identifier hs-type">NewTypeCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772339"><span class="hs-identifier hs-type">constr</span></a></span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772349"><span class="annot"><a href="#local-6989586621682772349"><span class="hs-identifier hs-var">derivs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-type">cvtDerivs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772340"><span class="hs-identifier hs-type">derivs</span></a></span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772351"><span class="annot"><a href="#local-6989586621682772351"><span class="hs-identifier hs-var hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCHsDataDefn GhcPs
AnnDataDefn
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-295"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs CType)
Maybe (GenLocated SrcSpanAnnP CType)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-296"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772341"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-297"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
Maybe (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621682772344"><span class="hs-identifier hs-var">ksig'</span></a></span><span>
</span><span id="line-298"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: DataDefnCons (LConDecl GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621682772346"><span class="hs-identifier hs-var">con'</span></a></span><span>
</span><span id="line-299"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
[GenLocated EpAnnCO (HsDerivingClause GhcPs)]
</span><a href="#local-6989586621682772349"><span class="hs-identifier hs-var">derivs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-300"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdDExt"><span class="hs-identifier hs-var">tcdDExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-302"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772342"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772343"><span class="hs-identifier hs-type">tvs'</span></a></span><span>
</span><span id="line-303"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-304"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772351"><span class="hs-identifier hs-type">defn</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeDataD</span></span><span> </span><span id="local-6989586621682772364"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772364"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772365"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772365"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772366"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772366"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772367"><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772367"><span class="hs-identifier hs-var">constrs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtTypeDataDec"><span class="hs-identifier hs-var">cvtTypeDataDec</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772364"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772365"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772366"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772367"><span class="hs-identifier hs-var">constrs</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ClassD</span></span><span> </span><span id="local-6989586621682772370"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772370"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772371"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772371"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621682772372"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772372"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772373"><span class="annot"><span class="annottext">[FunDep]
</span><a href="#local-6989586621682772373"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span id="local-6989586621682772374"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772374"><span class="hs-identifier hs-var">decs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772375"><span class="annot"><a href="#local-6989586621682772375"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772376"><span class="annot"><a href="#local-6989586621682772376"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772377"><span class="annot"><a href="#local-6989586621682772377"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772370"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772371"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772372"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772378"><span class="annot"><a href="#local-6989586621682772378"><span class="hs-identifier hs-var">fds'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_fundep"><span class="hs-identifier hs-type">cvt_fundep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772373"><span class="hs-identifier hs-type">fds</span></a></span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772380"><span class="annot"><a href="#local-6989586621682772380"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772381"><span class="annot"><a href="#local-6989586621682772381"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772382"><span class="annot"><a href="#local-6989586621682772382"><span class="hs-identifier hs-var">fams'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772383"><span class="annot"><a href="#local-6989586621682772383"><span class="hs-identifier hs-var">at_defs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772384"><span class="annot"><a href="#local-6989586621682772384"><span class="hs-identifier hs-var">adts'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_ci_decs"><span class="hs-identifier hs-type">cvt_ci_decs</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#ClssDecl"><span class="hs-identifier hs-type">ClssDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772374"><span class="hs-identifier hs-type">decs</span></a></span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621682772384"><span class="hs-identifier hs-type">adts'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-type">failWith</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#DefaultDataInstDecl"><span class="hs-identifier hs-type">DefaultDataInstDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772384"><span class="hs-identifier hs-type">adts'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-316"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdCExt"><span class="hs-identifier hs-var">tcdCExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpNoLayout"><span class="hs-identifier hs-type">EpNoLayout</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-type">NoAnnSortKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdCtxt"><span class="hs-identifier hs-var">tcdCtxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-type">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772375"><span class="hs-identifier hs-type">cxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772376"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772377"><span class="hs-identifier hs-type">tvs'</span></a></span><span>
</span><span id="line-318"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-319"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdFDs"><span class="hs-identifier hs-var">tcdFDs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772378"><span class="hs-identifier hs-type">fds'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkClassOpSigs"><span class="hs-identifier hs-type">Hs.mkClassOpSigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772381"><span class="hs-identifier hs-type">sigs'</span></a></span><span>
</span><span id="line-320"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772380"><span class="hs-identifier hs-type">binds'</span></a></span><span>
</span><span id="line-321"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772382"><span class="hs-identifier hs-type">fams'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdATDefs"><span class="hs-identifier hs-var">tcdATDefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772383"><span class="hs-identifier hs-type">at_defs'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-322"></span><span>                                                     </span><span class="hs-comment">-- no docs in TH ^^</span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InstanceD</span></span><span> </span><span id="local-6989586621682772401"><span class="annot"><span class="annottext">Maybe Overlap
</span><a href="#local-6989586621682772401"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621682772402"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772402"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772403"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772403"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682772404"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772404"><span class="hs-identifier hs-var">decs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772405"><span class="annot"><a href="#local-6989586621682772405"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772406"><span class="annot"><a href="#local-6989586621682772406"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772407"><span class="annot"><a href="#local-6989586621682772407"><span class="hs-identifier hs-var">fams'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772408"><span class="annot"><a href="#local-6989586621682772408"><span class="hs-identifier hs-var">ats'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772409"><span class="annot"><a href="#local-6989586621682772409"><span class="hs-identifier hs-var">adts'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
-&gt; [Dec]
-&gt; CvtM
     (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs])
</span><a href="GHC.ThToHs.html#cvt_ci_decs"><span class="hs-identifier hs-var">cvt_ci_decs</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="GHC.Tc.Errors.Types.html#InstanceDecl"><span class="hs-identifier hs-var">InstanceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772404"><span class="hs-identifier hs-var">decs</span></a></span><span>
</span><span id="line-327"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-type">nonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772407"><span class="hs-identifier hs-type">fams'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682772411"><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnA (FamilyDecl GhcPs))
</span><a href="#local-6989586621682772411"><span class="hs-identifier hs-var">bad_fams</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-328"></span><span>            </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM' ConversionFailReason (ZonkAny 1)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">THDeclDescriptor -&gt; IllegalDecls -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalDeclaration"><span class="hs-identifier hs-var">IllegalDeclaration</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="GHC.Tc.Errors.Types.html#InstanceDecl"><span class="hs-identifier hs-var">InstanceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">(IllegalDecls -&gt; ConversionFailReason)
-&gt; IllegalDecls -&gt; ConversionFailReason
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LFamilyDecl GhcPs) -&gt; IllegalDecls
</span><a href="GHC.Tc.Errors.Types.html#IllegalFamDecls"><span class="hs-identifier hs-var">IllegalFamDecls</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LFamilyDecl GhcPs)
NonEmpty (GenLocated SrcSpanAnnA (FamilyDecl GhcPs))
</span><a href="#local-6989586621682772411"><span class="hs-identifier hs-var">bad_fams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772414"><span class="annot"><a href="#local-6989586621682772414"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-type">cvtContext</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-type">funPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772402"><span class="hs-identifier hs-type">ctxt</span></a></span><span>
</span><span id="line-330"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772417"><span class="annot"><a href="#local-6989586621682772417"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772418"><span class="annot"><a href="#local-6989586621682772418"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772403"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772419"><span class="annot"><a href="#local-6989586621682772419"><span class="hs-identifier hs-var hs-var">inst_ty'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772417"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs))
-&gt; HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsImplicitSigType"><span class="hs-identifier hs-var">mkHsImplicitSigType</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; HsSigType GhcPs)
-&gt; LHsType GhcPs -&gt; HsSigType GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-332"></span><span>                         </span><span class="annot"><span class="annottext">[Type]
-&gt; SrcSpanAnnA
-&gt; LHsContext GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsQualTy"><span class="hs-identifier hs-var">mkHsQualTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772402"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772417"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772414"><span class="hs-identifier hs-var">ctxt'</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; LHsType GhcPs) -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772417"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621682772418"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-333"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-334"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_ext"><span class="hs-identifier hs-var">cid_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-type">NoAnnSortKey</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_poly_ty"><span class="hs-identifier hs-var">cid_poly_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772419"><span class="hs-identifier hs-type">inst_ty'</span></a></span><span>
</span><span id="line-335"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_binds"><span class="hs-identifier hs-var">cid_binds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772405"><span class="hs-identifier hs-type">binds'</span></a></span><span>
</span><span id="line-336"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_sigs"><span class="hs-identifier hs-var">cid_sigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkClassOpSigs"><span class="hs-identifier hs-type">Hs.mkClassOpSigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772406"><span class="hs-identifier hs-type">sigs'</span></a></span><span>
</span><span id="line-337"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_tyfam_insts"><span class="hs-identifier hs-var">cid_tyfam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772408"><span class="hs-identifier hs-type">ats'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_datafam_insts"><span class="hs-identifier hs-var">cid_datafam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772409"><span class="hs-identifier hs-type">adts'</span></a></span><span>
</span><span id="line-338"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#cid_overlap_mode"><span class="hs-identifier hs-var">cid_overlap_mode</span></a></span><span>
</span><span id="line-339"></span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-type">l2l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772417"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621682772433"><span class="hs-identifier hs-type">overlap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772401"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-341"></span><span>  </span><span id="local-6989586621682772433"><span class="annot"><span class="annottext">overlap :: Overlap -&gt; OverlapMode
</span><a href="#local-6989586621682772433"><span class="hs-identifier hs-var hs-var">overlap</span></a></span></span><span> </span><span id="local-6989586621682772434"><span class="annot"><span class="annottext">Overlap
</span><a href="#local-6989586621682772434"><span class="hs-identifier hs-var">pragma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-342"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Overlap
</span><a href="#local-6989586621682772434"><span class="hs-identifier hs-var">pragma</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-343"></span><span>      </span><span class="annot"><span class="annottext">Overlap
</span><span class="hs-identifier hs-var">TH.Overlaps</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; OverlapMode
</span><a href="GHC.Types.Basic.html#Overlaps"><span class="hs-identifier hs-var">Hs.Overlaps</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# OVERLAPS&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>      </span><span class="annot"><span class="annottext">Overlap
</span><span class="hs-identifier hs-var">TH.Overlappable</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; OverlapMode
</span><a href="GHC.Types.Basic.html#Overlappable"><span class="hs-identifier hs-var">Hs.Overlappable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# OVERLAPPABLE&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><span class="annottext">Overlap
</span><span class="hs-identifier hs-var">TH.Overlapping</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; OverlapMode
</span><a href="GHC.Types.Basic.html#Overlapping"><span class="hs-identifier hs-var">Hs.Overlapping</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# OVERLAPPING&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>      </span><span class="annot"><span class="annottext">Overlap
</span><span class="hs-identifier hs-var">TH.Incoherent</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; OverlapMode
</span><a href="GHC.Types.Basic.html#Incoherent"><span class="hs-identifier hs-var">Hs.Incoherent</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# INCOHERENT&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignD</span></span><span> </span><span id="local-6989586621682772442"><span class="annot"><span class="annottext">Foreign
</span><a href="#local-6989586621682772442"><span class="hs-identifier hs-var">ford</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772443"><span class="annot"><a href="#local-6989586621682772443"><span class="hs-identifier hs-var">ford'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Foreign -&gt; CvtM (ForeignDecl GhcPs)
</span><a href="GHC.ThToHs.html#cvtForD"><span class="hs-identifier hs-var">cvtForD</span></a></span><span> </span><span class="annot"><span class="annottext">Foreign
</span><a href="#local-6989586621682772442"><span class="hs-identifier hs-var">ford</span></a></span><span>
</span><span id="line-353"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772443"><span class="hs-identifier hs-type">ford'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DataFamilyD</span></span><span> </span><span id="local-6989586621682772447"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772447"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772448"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772448"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772449"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772449"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772450"><span class="annot"><a href="#local-6989586621682772450"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772451"><span class="annot"><a href="#local-6989586621682772451"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772447"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772448"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-357"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772452"><span class="annot"><a href="#local-6989586621682772452"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtMaybeKindToFamilyResultSig"><span class="hs-identifier hs-type">cvtMaybeKindToFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772449"><span class="hs-identifier hs-type">kind</span></a></span><span>
</span><span id="line-358"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-type">FamDecl</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-359"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamily"><span class="hs-identifier hs-type">DataFamily</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevel"><span class="hs-identifier hs-type">TopLevel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772450"><span class="hs-identifier hs-type">tc'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772451"><span class="hs-identifier hs-type">tvs'</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772452"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DataInstD</span></span><span> </span><span id="local-6989586621682772459"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772459"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772460"><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772460"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621682772461"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772461"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621682772462"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772462"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772463"><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772463"><span class="hs-identifier hs-var">constrs</span></a></span></span><span> </span><span id="local-6989586621682772464"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772464"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772465"><span class="annot"><a href="#local-6989586621682772465"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772466"><span class="annot"><a href="#local-6989586621682772466"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772467"><span class="annot"><a href="#local-6989586621682772467"><span class="hs-identifier hs-var">bndrs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772468"><span class="annot"><a href="#local-6989586621682772468"><span class="hs-identifier hs-var">typats'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Maybe [TyVarBndr ()]
-&gt; Type
-&gt; CvtM
     (LHsContext GhcPs, LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
      HsFamEqnPats GhcPs)
</span><a href="GHC.ThToHs.html#cvt_datainst_hdr"><span class="hs-identifier hs-var">cvt_datainst_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772459"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772460"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772461"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-363"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772470"><span class="annot"><a href="#local-6989586621682772470"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`traverse`</span></span><span> </span><span class="annot"><a href="#local-6989586621682772462"><span class="hs-identifier hs-type">ksig</span></a></span><span>
</span><span id="line-364"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772471"><span class="annot"><a href="#local-6989586621682772471"><span class="hs-identifier hs-var">cons'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-type">cvtDataDefnCons</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621682772462"><span class="hs-identifier hs-type">ksig</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataTypeCons"><span class="hs-identifier hs-type">DataTypeCons</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621682772463"><span class="hs-identifier hs-type">constrs</span></a></span><span>
</span><span id="line-365"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772473"><span class="annot"><a href="#local-6989586621682772473"><span class="hs-identifier hs-var">derivs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-type">cvtDerivs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772464"><span class="hs-identifier hs-type">derivs</span></a></span><span>
</span><span id="line-366"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772474"><span class="annot"><a href="#local-6989586621682772474"><span class="hs-identifier hs-var hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCHsDataDefn GhcPs
AnnDataDefn
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-367"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs CType)
Maybe (GenLocated SrcSpanAnnP CType)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-368"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772465"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-369"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
Maybe (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621682772470"><span class="hs-identifier hs-var">ksig'</span></a></span><span>
</span><span id="line-370"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: DataDefnCons (LConDecl GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621682772471"><span class="hs-identifier hs-var">cons'</span></a></span><span>
</span><span id="line-371"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
[GenLocated EpAnnCO (HsDerivingClause GhcPs)]
</span><a href="#local-6989586621682772473"><span class="hs-identifier hs-var">derivs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span>
</span><span id="line-374"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_ext"><span class="hs-identifier hs-var">dfid_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-375"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_inst"><span class="hs-identifier hs-var">dfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-376"></span><span>                           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-377"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772466"><span class="hs-identifier hs-type">tc'</span></a></span><span>
</span><span id="line-378"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772467"><span class="hs-identifier hs-type">bndrs'</span></a></span><span>
</span><span id="line-379"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772468"><span class="hs-identifier hs-type">typats'</span></a></span><span>
</span><span id="line-380"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772474"><span class="hs-identifier hs-type">defn</span></a></span><span>
</span><span id="line-381"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NewtypeInstD</span></span><span> </span><span id="local-6989586621682772488"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772488"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772489"><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772489"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621682772490"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772490"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621682772491"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772491"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772492"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772492"><span class="hs-identifier hs-var">constr</span></a></span></span><span> </span><span id="local-6989586621682772493"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772493"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772494"><span class="annot"><a href="#local-6989586621682772494"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772495"><span class="annot"><a href="#local-6989586621682772495"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772496"><span class="annot"><a href="#local-6989586621682772496"><span class="hs-identifier hs-var">bndrs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772497"><span class="annot"><a href="#local-6989586621682772497"><span class="hs-identifier hs-var">typats'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Maybe [TyVarBndr ()]
-&gt; Type
-&gt; CvtM
     (LHsContext GhcPs, LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
      HsFamEqnPats GhcPs)
</span><a href="GHC.ThToHs.html#cvt_datainst_hdr"><span class="hs-identifier hs-var">cvt_datainst_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772488"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772489"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772490"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-385"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772498"><span class="annot"><a href="#local-6989586621682772498"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`traverse`</span></span><span> </span><span class="annot"><a href="#local-6989586621682772491"><span class="hs-identifier hs-type">ksig</span></a></span><span>
</span><span id="line-386"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772499"><span class="annot"><a href="#local-6989586621682772499"><span class="hs-identifier hs-var">con'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-type">cvtDataDefnCons</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621682772491"><span class="hs-identifier hs-type">ksig</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewTypeCon"><span class="hs-identifier hs-type">NewTypeCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772492"><span class="hs-identifier hs-type">constr</span></a></span><span>
</span><span id="line-387"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772500"><span class="annot"><a href="#local-6989586621682772500"><span class="hs-identifier hs-var">derivs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-type">cvtDerivs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772493"><span class="hs-identifier hs-type">derivs</span></a></span><span>
</span><span id="line-388"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772501"><span class="annot"><a href="#local-6989586621682772501"><span class="hs-identifier hs-var hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCHsDataDefn GhcPs
AnnDataDefn
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-389"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs CType)
Maybe (GenLocated SrcSpanAnnP CType)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-390"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772494"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-391"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
Maybe (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621682772498"><span class="hs-identifier hs-var">ksig'</span></a></span><span>
</span><span id="line-392"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: DataDefnCons (LConDecl GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621682772499"><span class="hs-identifier hs-var">con'</span></a></span><span>
</span><span id="line-393"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
[GenLocated EpAnnCO (HsDerivingClause GhcPs)]
</span><a href="#local-6989586621682772500"><span class="hs-identifier hs-var">derivs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-394"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span>
</span><span id="line-395"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_ext"><span class="hs-identifier hs-var">dfid_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-396"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_inst"><span class="hs-identifier hs-var">dfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-397"></span><span>                           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-398"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772495"><span class="hs-identifier hs-type">tc'</span></a></span><span>
</span><span id="line-399"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772496"><span class="hs-identifier hs-type">bndrs'</span></a></span><span>
</span><span id="line-400"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772497"><span class="hs-identifier hs-type">typats'</span></a></span><span>
</span><span id="line-401"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772501"><span class="hs-identifier hs-type">defn</span></a></span><span>
</span><span id="line-402"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TySynInstD</span></span><span> </span><span id="local-6989586621682772503"><span class="annot"><span class="annottext">TySynEqn
</span><a href="#local-6989586621682772503"><span class="hs-identifier hs-var">eqn</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772504"><span class="annot"><a href="#local-6989586621682772504"><span class="hs-identifier hs-var">eqn'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TySynEqn -&gt; CvtM (LTyFamInstEqn GhcPs)
</span><a href="GHC.ThToHs.html#cvtTySynEqn"><span class="hs-identifier hs-var">cvtTySynEqn</span></a></span><span> </span><span class="annot"><span class="annottext">TySynEqn
</span><a href="#local-6989586621682772503"><span class="hs-identifier hs-var">eqn</span></a></span><span>
</span><span id="line-406"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-type">TyFamInstD</span></a></span><span>
</span><span id="line-407"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tfid_ext"><span class="hs-identifier hs-var">tfid_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-408"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tfid_inst"><span class="hs-identifier hs-var">tfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tfid_xtn"><span class="hs-identifier hs-var">tfid_xtn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tfid_eqn"><span class="hs-identifier hs-var">tfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772504"><span class="hs-identifier hs-type">eqn'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OpenTypeFamilyD</span></span><span> </span><span id="local-6989586621682772513"><span class="annot"><span class="annottext">TypeFamilyHead
</span><a href="#local-6989586621682772513"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772514"><span class="annot"><a href="#local-6989586621682772514"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772515"><span class="annot"><a href="#local-6989586621682772515"><span class="hs-identifier hs-var">tyvars'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772516"><span class="annot"><a href="#local-6989586621682772516"><span class="hs-identifier hs-var">result'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772517"><span class="annot"><a href="#local-6989586621682772517"><span class="hs-identifier hs-var">injectivity'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeFamilyHead
-&gt; CvtM
     (LocatedN RdrName, LHsQTyVars GhcPs, LFamilyResultSig GhcPs,
      Maybe (LInjectivityAnn GhcPs))
</span><a href="GHC.ThToHs.html#cvt_tyfam_head"><span class="hs-identifier hs-var">cvt_tyfam_head</span></a></span><span> </span><span class="annot"><span class="annottext">TypeFamilyHead
</span><a href="#local-6989586621682772513"><span class="hs-identifier hs-var">head</span></a></span><span>
</span><span id="line-412"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-type">FamDecl</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-413"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#OpenTypeFamily"><span class="hs-identifier hs-type">OpenTypeFamily</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevel"><span class="hs-identifier hs-type">TopLevel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772514"><span class="hs-identifier hs-type">tc'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772515"><span class="hs-identifier hs-type">tyvars'</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772516"><span class="hs-identifier hs-type">result'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772517"><span class="hs-identifier hs-type">injectivity'</span></a></span><span>
</span><span id="line-414"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ClosedTypeFamilyD</span></span><span> </span><span id="local-6989586621682772521"><span class="annot"><span class="annottext">TypeFamilyHead
</span><a href="#local-6989586621682772521"><span class="hs-identifier hs-var">head</span></a></span></span><span> </span><span id="local-6989586621682772522"><span class="annot"><span class="annottext">[TySynEqn]
</span><a href="#local-6989586621682772522"><span class="hs-identifier hs-var">eqns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772523"><span class="annot"><a href="#local-6989586621682772523"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772524"><span class="annot"><a href="#local-6989586621682772524"><span class="hs-identifier hs-var">tyvars'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772525"><span class="annot"><a href="#local-6989586621682772525"><span class="hs-identifier hs-var">result'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772526"><span class="annot"><a href="#local-6989586621682772526"><span class="hs-identifier hs-var">injectivity'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeFamilyHead
-&gt; CvtM
     (LocatedN RdrName, LHsQTyVars GhcPs, LFamilyResultSig GhcPs,
      Maybe (LInjectivityAnn GhcPs))
</span><a href="GHC.ThToHs.html#cvt_tyfam_head"><span class="hs-identifier hs-var">cvt_tyfam_head</span></a></span><span> </span><span class="annot"><span class="annottext">TypeFamilyHead
</span><a href="#local-6989586621682772521"><span class="hs-identifier hs-var">head</span></a></span><span>
</span><span id="line-418"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772527"><span class="annot"><a href="#local-6989586621682772527"><span class="hs-identifier hs-var">eqns'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtTySynEqn"><span class="hs-identifier hs-type">cvtTySynEqn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772522"><span class="hs-identifier hs-type">eqns</span></a></span><span>
</span><span id="line-419"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-type">FamDecl</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-420"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621682772527"><span class="hs-identifier hs-type">eqns'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevel"><span class="hs-identifier hs-type">TopLevel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772523"><span class="hs-identifier hs-type">tc'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772524"><span class="hs-identifier hs-type">tyvars'</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-421"></span><span>                           </span><span class="annot"><a href="#local-6989586621682772525"><span class="hs-identifier hs-type">result'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772526"><span class="hs-identifier hs-type">injectivity'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.RoleAnnotD</span></span><span> </span><span id="local-6989586621682772530"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772530"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772531"><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621682772531"><span class="hs-identifier hs-var">roles</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772532"><span class="annot"><a href="#local-6989586621682772532"><span class="hs-identifier hs-var">tc'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772530"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-425"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772533"><span class="annot"><a href="#local-6989586621682772533"><span class="hs-identifier hs-var">roles'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-type">cvtRole</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772531"><span class="hs-identifier hs-type">roles</span></a></span><span>
</span><span id="line-426"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span>
</span><span id="line-427"></span><span>                   </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RoleAnnotD"><span class="hs-identifier hs-type">Hs.RoleAnnotD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772532"><span class="hs-identifier hs-type">tc'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772533"><span class="hs-identifier hs-type">roles'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.StandaloneDerivD</span></span><span> </span><span id="local-6989586621682772538"><span class="annot"><span class="annottext">Maybe DerivStrategy
</span><a href="#local-6989586621682772538"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621682772539"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772539"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span id="local-6989586621682772540"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772540"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772541"><span class="annot"><a href="#local-6989586621682772541"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; [Type] -&gt; CvtM (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-var">cvtContext</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772539"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-431"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772542"><span class="annot"><a href="#local-6989586621682772542"><span class="hs-identifier hs-var">ds'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-type">cvtDerivStrategy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772538"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-432"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772544"><span class="annot"><a href="#local-6989586621682772544"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772545"><span class="annot"><a href="#local-6989586621682772545"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772540"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-433"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772546"><span class="annot"><a href="#local-6989586621682772546"><span class="hs-identifier hs-var hs-var">inst_ty'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772544"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs))
-&gt; HsSigType GhcPs -&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsImplicitSigType"><span class="hs-identifier hs-var">mkHsImplicitSigType</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; HsSigType GhcPs)
-&gt; LHsType GhcPs -&gt; HsSigType GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-434"></span><span>                        </span><span class="annot"><span class="annottext">[Type]
-&gt; SrcSpanAnnA
-&gt; LHsContext GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsQualTy"><span class="hs-identifier hs-var">mkHsQualTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772539"><span class="hs-identifier hs-var">cxt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772544"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772541"><span class="hs-identifier hs-var">cxt'</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; LHsType GhcPs) -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772544"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621682772545"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-435"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-type">DerivD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-436"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#deriv_ext"><span class="hs-identifier hs-var">deriv_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#deriv_strategy"><span class="hs-identifier hs-var">deriv_strategy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772542"><span class="hs-identifier hs-type">ds'</span></a></span><span>
</span><span id="line-438"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#deriv_type"><span class="hs-identifier hs-var">deriv_type</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-type">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772546"><span class="hs-identifier hs-type">inst_ty'</span></a></span><span>
</span><span id="line-439"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#deriv_overlap_mode"><span class="hs-identifier hs-var">deriv_overlap_mode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.DefaultSigD</span></span><span> </span><span id="local-6989586621682772554"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772554"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772555"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772555"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772556"><span class="annot"><a href="#local-6989586621682772556"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772554"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-443"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772557"><span class="annot"><a href="#local-6989586621682772557"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772555"><span class="hs-identifier hs-type">typ</span></a></span><span>
</span><span id="line-444"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-445"></span><span>                      </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772556"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682772557"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynD</span></span><span> </span><span id="local-6989586621682772560"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772560"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772561"><span class="annot"><span class="annottext">PatSynArgs
</span><a href="#local-6989586621682772561"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682772562"><span class="annot"><span class="annottext">PatSynDir
</span><a href="#local-6989586621682772562"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span id="local-6989586621682772563"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682772563"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772564"><span class="annot"><a href="#local-6989586621682772564"><span class="hs-identifier hs-var">nm'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772560"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-449"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772566"><span class="annot"><a href="#local-6989586621682772566"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682772567"><span class="hs-identifier hs-type">cvtArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772561"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-450"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772568"><span class="annot"><a href="#local-6989586621682772568"><span class="hs-identifier hs-var">dir'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682772569"><span class="hs-identifier hs-type">cvtDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772564"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772562"><span class="hs-identifier hs-type">dir</span></a></span><span>
</span><span id="line-451"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772570"><span class="annot"><a href="#local-6989586621682772570"><span class="hs-identifier hs-var">pat'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772563"><span class="hs-identifier hs-type">pat</span></a></span><span>
</span><span id="line-452"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">Hs.ValD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-453"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PSB"><span class="hs-identifier hs-type">PSB</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772564"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772566"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772570"><span class="hs-identifier hs-type">pat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772568"><span class="hs-identifier hs-type">dir'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>    </span><span id="local-6989586621682772567"><span class="annot"><span class="annottext">cvtArgs :: PatSynArgs
-&gt; CvtM'
     ConversionFailReason
     (HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
</span><a href="#local-6989586621682772567"><span class="hs-identifier hs-var hs-var">cvtArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.PrefixPatSyn</span></span><span> </span><span id="local-6989586621682772574"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772574"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Void]
-&gt; [LocatedN RdrName]
-&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs]
forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">Hs.PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><a href="Language.Haskell.Syntax.Type.html#noTypeArgs"><span class="hs-identifier hs-var">noTypeArgs</span></a></span><span> </span><span class="annot"><span class="annottext">([LocatedN RdrName]
 -&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
-&gt; CvtM' ConversionFailReason [LocatedN RdrName]
-&gt; CvtM'
     ConversionFailReason
     (HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM (LocatedN RdrName))
-&gt; [Name] -&gt; CvtM' ConversionFailReason [LocatedN RdrName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772574"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><a href="#local-6989586621682772567"><span class="hs-identifier hs-var">cvtArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.InfixPatSyn</span></span><span> </span><span id="local-6989586621682772579"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772579"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span id="local-6989586621682772580"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772580"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName
-&gt; LocatedN RdrName
-&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs]
forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">Hs.InfixCon</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedN RdrName
 -&gt; LocatedN RdrName
 -&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
-&gt; CvtM (LocatedN RdrName)
-&gt; CvtM'
     ConversionFailReason
     (LocatedN RdrName
      -&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772579"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">CvtM'
  ConversionFailReason
  (LocatedN RdrName
   -&gt; HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
-&gt; CvtM (LocatedN RdrName)
-&gt; CvtM'
     ConversionFailReason
     (HsConDetails Void (LocatedN RdrName) [RecordPatSynField GhcPs])
forall a b.
CvtM' ConversionFailReason (a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772580"><span class="hs-identifier hs-var">a2</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><a href="#local-6989586621682772567"><span class="hs-identifier hs-var">cvtArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.RecordPatSyn</span></span><span> </span><span id="local-6989586621682772583"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772583"><span class="hs-identifier hs-var">sels</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772584"><span class="annot"><span class="annottext">mk_fld :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772584"><span class="hs-identifier hs-var hs-var hs-var">mk_fld</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#fldNameN"><span class="hs-identifier hs-var">fldNameN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772560"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772587"><span class="annot"><a href="#local-6989586621682772587"><span class="hs-identifier hs-var">sels'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM' ConversionFailReason (FieldOcc GhcPs))
-&gt; [Name] -&gt; CvtM' ConversionFailReason [FieldOcc GhcPs]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedN RdrName -&gt; FieldOcc GhcPs)
-&gt; CvtM (LocatedN RdrName)
-&gt; CvtM' ConversionFailReason (FieldOcc GhcPs)
forall a b.
(a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772588"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682772588"><span class="hs-identifier hs-var">li</span></a></span></span><span> </span><span id="local-6989586621682772589"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682772589"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs -&gt; LIdP GhcPs -&gt; FieldOcc GhcPs
forall pass. XCFieldOcc pass -&gt; LIdP pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; LocatedN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682772588"><span class="hs-identifier hs-var">li</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682772589"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM (LocatedN RdrName)
 -&gt; CvtM' ConversionFailReason (FieldOcc GhcPs))
-&gt; (Name -&gt; CvtM (LocatedN RdrName))
-&gt; Name
-&gt; CvtM' ConversionFailReason (FieldOcc GhcPs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772584"><span class="hs-identifier hs-var">mk_fld</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772583"><span class="hs-identifier hs-var">sels</span></a></span><span>
</span><span id="line-460"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772591"><span class="annot"><a href="#local-6989586621682772591"><span class="hs-identifier hs-var">vars'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-type">vNameN</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">mkNameS</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">nameBase</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772583"><span class="hs-identifier hs-type">sels</span></a></span><span>
</span><span id="line-461"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">Hs.RecCon</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">zipWith</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#RecordPatSynField"><span class="hs-identifier hs-type">RecordPatSynField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772587"><span class="hs-identifier hs-type">sels'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772591"><span class="hs-identifier hs-type">vars'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-comment">-- cvtDir :: LocatedN RdrName -&gt; (PatSynDir -&gt; CvtM (HsPatSynDir RdrName))</span><span>
</span><span id="line-464"></span><span>    </span><span id="local-6989586621682772569"><span class="annot"><span class="annottext">cvtDir :: LocatedN RdrName
-&gt; PatSynDir -&gt; CvtM' ConversionFailReason (HsPatSynDir GhcPs)
</span><a href="#local-6989586621682772569"><span class="hs-identifier hs-var hs-var">cvtDir</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PatSynDir
</span><span class="hs-identifier hs-var">Unidir</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs -&gt; CvtM' ConversionFailReason (HsPatSynDir GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs
forall id. HsPatSynDir id
</span><a href="Language.Haskell.Syntax.Binds.html#Unidirectional"><span class="hs-identifier hs-var">Unidirectional</span></a></span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><a href="#local-6989586621682772569"><span class="hs-identifier hs-var">cvtDir</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PatSynDir
</span><span class="hs-identifier hs-var">ImplBidir</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs -&gt; CvtM' ConversionFailReason (HsPatSynDir GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs
forall id. HsPatSynDir id
</span><a href="Language.Haskell.Syntax.Binds.html#ImplicitBidirectional"><span class="hs-identifier hs-var">ImplicitBidirectional</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><a href="#local-6989586621682772569"><span class="hs-identifier hs-var">cvtDir</span></a></span><span> </span><span id="local-6989586621682772613"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621682772613"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExplBidir</span></span><span> </span><span id="local-6989586621682772615"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682772615"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-467"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772616"><span class="annot"><a href="#local-6989586621682772616"><span class="hs-identifier hs-var">ms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Clause
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [Clause]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsMatchContextPs -&gt; Clause -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-var">cvtClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN RdrName -&gt; AnnFunRhs -&gt; HsMatchContext (LocatedN RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621682772613"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682772615"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-468"></span><span>         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772617"><span class="annot"><a href="#local-6989586621682772617"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-469"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ExplicitBidirectional"><span class="hs-identifier hs-type">ExplicitBidirectional</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-type">mkMatchGroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772617"><span class="hs-identifier hs-type">th_origin</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772616"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynSigD</span></span><span> </span><span id="local-6989586621682772621"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772621"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772622"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772622"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772623"><span class="annot"><a href="#local-6989586621682772623"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772621"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-473"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772624"><span class="annot"><a href="#local-6989586621682772624"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPatSynSigTy"><span class="hs-identifier hs-type">cvtPatSynSigTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772622"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-474"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772623"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682772624"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-comment">-- Implicit parameter bindings are handled in cvtLocalDecs and</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- cvtImplicitParamBind. They are not allowed in any other scope, so</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- reaching this case indicates an error.</span><span>
</span><span id="line-479"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDec"><span class="hs-identifier hs-var">cvtDec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.ImplicitParamBindD</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Exp
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#InvalidImplicitParamBinding"><span class="hs-identifier hs-var">InvalidImplicitParamBinding</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="hs-comment">-- Convert a @data@ declaration.</span><span>
</span><span id="line-483"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDec"><span class="hs-identifier hs-type">cvtDataDec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">]</span><span>
</span><span id="line-484"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span>
</span><span id="line-485"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span id="cvtDataDec"><span class="annot"><span class="annottext">cvtDataDec :: [Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtDataDec"><span class="hs-identifier hs-var hs-var">cvtDataDec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; [Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtGenDataDec"><span class="hs-identifier hs-var">cvtGenDataDec</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="hs-comment">-- Convert a @type data@ declaration.</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- These have neither contexts nor derived clauses.</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-491"></span><span class="annot"><a href="GHC.ThToHs.html#cvtTypeDataDec"><span class="hs-identifier hs-type">cvtTypeDataDec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">]</span><span>
</span><span id="line-492"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span id="cvtTypeDataDec"><span class="annot"><span class="annottext">cvtTypeDataDec :: Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtTypeDataDec"><span class="hs-identifier hs-var hs-var">cvtTypeDataDec</span></a></span></span><span> </span><span id="local-6989586621682772631"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772631"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772632"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772632"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772633"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772633"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772634"><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772634"><span class="hs-identifier hs-var">constrs</span></a></span></span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; [Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtGenDataDec"><span class="hs-identifier hs-var">cvtGenDataDec</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772631"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772632"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772633"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772634"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span class="hs-comment">-- Convert a @data@ or @type data@ declaration (flagged by the Bool arg).</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-498"></span><span class="annot"><a href="GHC.ThToHs.html#cvtGenDataDec"><span class="hs-identifier hs-type">cvtGenDataDec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">]</span><span>
</span><span id="line-499"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span>
</span><span id="line-500"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span id="cvtGenDataDec"><span class="annot"><span class="annottext">cvtGenDataDec :: Bool
-&gt; [Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtGenDataDec"><span class="hs-identifier hs-var hs-var">cvtGenDataDec</span></a></span></span><span> </span><span id="local-6989586621682772635"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772635"><span class="hs-identifier hs-var">type_data</span></a></span></span><span> </span><span id="local-6989586621682772636"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772636"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772637"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772637"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772638"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772638"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772639"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772639"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772640"><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621682772640"><span class="hs-identifier hs-var">constrs</span></a></span></span><span> </span><span id="local-6989586621682772641"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772641"><span class="hs-identifier hs-var">derivs</span></a></span></span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772642"><span class="annot"><a href="#local-6989586621682772642"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772643"><span class="annot"><a href="#local-6989586621682772643"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772644"><span class="annot"><a href="#local-6989586621682772644"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772636"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772637"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772638"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-503"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772645"><span class="annot"><a href="#local-6989586621682772645"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`traverse`</span></span><span> </span><span class="annot"><a href="#local-6989586621682772639"><span class="hs-identifier hs-type">ksig</span></a></span><span>
</span><span id="line-504"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772646"><span class="annot"><a href="#local-6989586621682772646"><span class="hs-identifier hs-var">cons'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-type">cvtDataDefnCons</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772635"><span class="hs-identifier hs-type">type_data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772639"><span class="hs-identifier hs-type">ksig</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-505"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataTypeCons"><span class="hs-identifier hs-type">DataTypeCons</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772635"><span class="hs-identifier hs-type">type_data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772640"><span class="hs-identifier hs-type">constrs</span></a></span><span>
</span><span id="line-506"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772647"><span class="annot"><a href="#local-6989586621682772647"><span class="hs-identifier hs-var">derivs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-type">cvtDerivs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772641"><span class="hs-identifier hs-type">derivs</span></a></span><span>
</span><span id="line-507"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772648"><span class="annot"><a href="#local-6989586621682772648"><span class="hs-identifier hs-var hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCHsDataDefn GhcPs
AnnDataDefn
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-508"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs CType)
Maybe (GenLocated SrcSpanAnnP CType)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-509"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772642"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-510"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
Maybe (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621682772645"><span class="hs-identifier hs-var">ksig'</span></a></span><span>
</span><span id="line-511"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: DataDefnCons (LConDecl GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621682772646"><span class="hs-identifier hs-var">cons'</span></a></span><span>
</span><span id="line-512"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
[GenLocated EpAnnCO (HsDerivingClause GhcPs)]
</span><a href="#local-6989586621682772647"><span class="hs-identifier hs-var">derivs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-513"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-514"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdDExt"><span class="hs-identifier hs-var">tcdDExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-515"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772643"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772644"><span class="hs-identifier hs-type">tvs'</span></a></span><span>
</span><span id="line-516"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-517"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772648"><span class="hs-identifier hs-type">defn</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- Convert a set of data constructors.</span><span>
</span><span id="line-520"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-type">cvtDataDefnCons</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-521"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDefnCons"><span class="hs-identifier hs-type">DataDefnCons</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDefnCons"><span class="hs-identifier hs-type">DataDefnCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span id="cvtDataDefnCons"><span class="annot"><span class="annottext">cvtDataDefnCons :: Bool
-&gt; Maybe Type
-&gt; DataDefnCons Con
-&gt; CvtM (DataDefnCons (LConDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtDataDefnCons"><span class="hs-identifier hs-var hs-var">cvtDataDefnCons</span></a></span></span><span> </span><span id="local-6989586621682772649"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772649"><span class="hs-identifier hs-var">type_data</span></a></span></span><span> </span><span id="local-6989586621682772650"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772650"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621682772651"><span class="annot"><span class="annottext">DataDefnCons Con
</span><a href="#local-6989586621682772651"><span class="hs-identifier hs-var">constrs</span></a></span></span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772652"><span class="annot"><span class="annottext">isGadtCon :: Con -&gt; Bool
</span><a href="#local-6989586621682772652"><span class="hs-identifier hs-var hs-var hs-var">isGadtCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GadtC</span></span><span>    </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[BangType]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-525"></span><span>              </span><span class="annot"><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecGadtC</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[VarBangType]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-526"></span><span>              </span><span class="annot"><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallC</span></span><span>  </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772656"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772656"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Con -&gt; Bool
</span><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span> </span><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772656"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-527"></span><span>              </span><span class="annot"><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span> </span><span class="annot"><span class="annottext">Con
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-528"></span><span>              </span><span id="local-6989586621682772657"><span class="annot"><span class="annottext">isGadtDecl :: Bool
</span><a href="#local-6989586621682772657"><span class="hs-identifier hs-var hs-var hs-var">isGadtDecl</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Con -&gt; Bool) -&gt; DataDefnCons Con -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Con -&gt; Bool
</span><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataDefnCons Con
</span><a href="#local-6989586621682772651"><span class="hs-identifier hs-var">constrs</span></a></span><span>
</span><span id="line-529"></span><span>              </span><span id="local-6989586621682772659"><span class="annot"><span class="annottext">isH98Decl :: Bool
</span><a href="#local-6989586621682772659"><span class="hs-identifier hs-var hs-var hs-var">isH98Decl</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Con -&gt; Bool) -&gt; DataDefnCons Con -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Con -&gt; Bool) -&gt; Con -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Con -&gt; Bool
</span><a href="#local-6989586621682772652"><span class="hs-identifier hs-var">isGadtCon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataDefnCons Con
</span><a href="#local-6989586621682772651"><span class="hs-identifier hs-var">constrs</span></a></span><span>
</span><span id="line-530"></span><span>              </span><span class="hs-comment">-- A constructor in a @data@ or @newtype@ declaration is</span><span>
</span><span id="line-531"></span><span>              </span><span class="hs-comment">-- a data constructor.  A constructor in a @type data@</span><span>
</span><span id="line-532"></span><span>              </span><span class="hs-comment">-- declaration is a type constructor.</span><span>
</span><span id="line-533"></span><span>              </span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-534"></span><span>              </span><span id="local-6989586621682772661"><span class="annot"><span class="annottext">con_name :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772661"><span class="hs-identifier hs-var hs-var hs-var">con_name</span></a></span></span><span>
</span><span id="line-535"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772649"><span class="hs-identifier hs-var">type_data</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span>
</span><span id="line-536"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span>
</span><span id="line-537"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CvtM () -&gt; CvtM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772657"><span class="hs-identifier hs-var">isGadtDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772659"><span class="hs-identifier hs-var">isH98Decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#CannotMixGADTConsWith98Cons"><span class="hs-identifier hs-var">CannotMixGADTConsWith98Cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CvtM () -&gt; CvtM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Type -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682772650"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682772657"><span class="hs-identifier hs-var">isGadtDecl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#KindSigsOnlyAllowedOnGADTs"><span class="hs-identifier hs-var">KindSigsOnlyAllowedOnGADTs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772665"><span class="annot"><span class="annottext">first_datacon :: Con
</span><a href="#local-6989586621682772665"><span class="hs-identifier hs-var hs-var">first_datacon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-543"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DataDefnCons Con -&gt; Maybe Con
forall a. DataDefnCons a -&gt; Maybe a
</span><a href="Language.Haskell.Syntax.Decls.html#firstDataDefnCon"><span class="hs-identifier hs-var">firstDataDefnCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataDefnCons Con
</span><a href="#local-6989586621682772651"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-544"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Con
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Con
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cvtDataDefnCons: empty list of constructors&quot;</span></span><span>
</span><span id="line-545"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682772668"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772668"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772668"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-546"></span><span>              </span><span id="local-6989586621682772669"><span class="annot"><span class="annottext">first_datacon_name :: Name
</span><a href="#local-6989586621682772669"><span class="hs-identifier hs-var hs-var">first_datacon_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-547"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Con -&gt; [Name]
</span><span class="hs-identifier hs-var">get_cons_names</span></span><span> </span><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772665"><span class="hs-identifier hs-var">first_datacon</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-548"></span><span>                  </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Name
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cvtDataDefnCons: data constructor with no names&quot;</span></span><span>
</span><span id="line-549"></span><span>                  </span><span id="local-6989586621682772671"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772671"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772671"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-550"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Con
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (ConDecl GhcPs)))
-&gt; DataDefnCons Con
-&gt; CvtM'
     ConversionFailReason
     (DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs)))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; DataDefnCons a -&gt; m (DataDefnCons b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; (Name -&gt; CvtM (LocatedN RdrName))
-&gt; Con
-&gt; CvtM (LConDecl GhcPs)
</span><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772669"><span class="hs-identifier hs-var">first_datacon_name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772661"><span class="hs-identifier hs-var">con_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataDefnCons Con
</span><a href="#local-6989586621682772651"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-553"></span><span class="annot"><a href="GHC.ThToHs.html#cvtTySynEqn"><span class="hs-identifier hs-type">cvtTySynEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TySynEqn</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstEqn"><span class="hs-identifier hs-type">LTyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span id="cvtTySynEqn"><span class="annot"><span class="annottext">cvtTySynEqn :: TySynEqn -&gt; CvtM (LTyFamInstEqn GhcPs)
</span><a href="GHC.ThToHs.html#cvtTySynEqn"><span class="hs-identifier hs-var hs-var">cvtTySynEqn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TySynEqn</span></span><span> </span><span id="local-6989586621682772674"><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772674"><span class="hs-identifier hs-var">mb_bndrs</span></a></span></span><span> </span><span id="local-6989586621682772675"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772675"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621682772676"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772676"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-555"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772677"><span class="annot"><a href="#local-6989586621682772677"><span class="hs-identifier hs-var">mb_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([TyVarBndr ()]
 -&gt; CvtM'
      ConversionFailReason
      [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)])
-&gt; Maybe [TyVarBndr ()]
-&gt; CvtM'
     ConversionFailReason
     (Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)])
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Maybe a -&gt; f (Maybe b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVarBndr ()
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)))
-&gt; [TyVarBndr ()]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr () -&gt; CvtM (LHsTyVarBndr () GhcPs)
TyVarBndr ()
-&gt; CvtM'
     ConversionFailReason
     (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall flag flag'.
CvtFlag flag flag' =&gt;
TyVarBndr flag -&gt; CvtM (LHsTyVarBndr flag' GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-var">cvt_tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772674"><span class="hs-identifier hs-var">mb_bndrs</span></a></span><span>
</span><span id="line-556"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772679"><span class="annot"><a href="#local-6989586621682772679"><span class="hs-identifier hs-var hs-var">outer_bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs] -&gt; HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="GHC.ThToHs.html#mkHsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-var">mkHsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621682772677"><span class="hs-identifier hs-var">mb_bndrs'</span></a></span><span>
</span><span id="line-557"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772681"><span class="annot"><a href="#local-6989586621682772681"><span class="hs-identifier hs-var">head_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772682"><span class="annot"><a href="#local-6989586621682772682"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#split_ty_app"><span class="hs-identifier hs-type">split_ty_app</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772675"><span class="hs-identifier hs-type">lhs</span></a></span><span>
</span><span id="line-558"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682772681"><span class="hs-identifier hs-type">head_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-559"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ConT</span></span><span> </span><span id="local-6989586621682772685"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772685"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772686"><span class="annot"><a href="#local-6989586621682772686"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772685"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-560"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772687"><span class="annot"><a href="#local-6989586621682772687"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772676"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-561"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772688"><span class="annot"><a href="#local-6989586621682772688"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))
 -&gt; HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; LHsTypeArg GhcPs
HsArg
  GhcPs
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsArg
     GhcPs
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-var">wrap_tyarg</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682772682"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-562"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span>
</span><span id="line-563"></span><span>                            </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-564"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772686"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-565"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772679"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span>
</span><span id="line-566"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772688"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-567"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a></span><span>
</span><span id="line-568"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772687"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-569"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">InfixT</span></span><span> </span><span id="local-6989586621682772691"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772691"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682772692"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772692"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772693"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772693"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772694"><span class="annot"><a href="#local-6989586621682772694"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772692"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-570"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772695"><span class="annot"><a href="#local-6989586621682772695"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772691"><span class="hs-identifier hs-type">t1</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682772693"><span class="hs-identifier hs-type">t2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-571"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772696"><span class="annot"><a href="#local-6989586621682772696"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772676"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-572"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span>
</span><span id="line-573"></span><span>                                      </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-574"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772694"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-575"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772679"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span>
</span><span id="line-576"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span>
</span><span id="line-577"></span><span>                                                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772695"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621682772682"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-578"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Infix"><span class="hs-identifier hs-type">Hs.Infix</span></a></span><span>
</span><span id="line-579"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772696"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-580"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         SrcSpanAnnA
         (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))))
-&gt; ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#InvalidTyFamInstLHS"><span class="hs-identifier hs-var">InvalidTyFamInstLHS</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772675"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-581"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-584"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_ci_decs"><span class="hs-identifier hs-type">cvt_ci_decs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#THDeclDescriptor"><span class="hs-identifier hs-type">THDeclDescriptor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-585"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-586"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-587"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-588"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-589"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span class="hs-comment">-- Convert the declarations inside a class or instance decl</span><span>
</span><span id="line-591"></span><span class="hs-comment">-- ie signatures, bindings, and associated types</span><span>
</span><span id="line-592"></span><span id="cvt_ci_decs"><span class="annot"><span class="annottext">cvt_ci_decs :: THDeclDescriptor
-&gt; [Dec]
-&gt; CvtM
     (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs])
</span><a href="GHC.ThToHs.html#cvt_ci_decs"><span class="hs-identifier hs-var hs-var">cvt_ci_decs</span></a></span></span><span> </span><span id="local-6989586621682772700"><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="#local-6989586621682772700"><span class="hs-identifier hs-var">declDescr</span></a></span></span><span> </span><span id="local-6989586621682772701"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772701"><span class="hs-identifier hs-var">decs</span></a></span></span><span>
</span><span id="line-593"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772702"><span class="annot"><a href="#local-6989586621682772702"><span class="hs-identifier hs-var">decs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; CvtM [LHsDecl GhcPs]
</span><a href="GHC.ThToHs.html#cvtDecs"><span class="hs-identifier hs-var">cvtDecs</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682772701"><span class="hs-identifier hs-var">decs</span></a></span><span>
</span><span id="line-594"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772703"><span class="annot"><a href="#local-6989586621682772703"><span class="hs-identifier hs-var">ats'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772704"><span class="annot"><a href="#local-6989586621682772704"><span class="hs-identifier hs-var">bind_sig_decs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_tyfam_inst"><span class="hs-identifier hs-type">is_tyfam_inst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772702"><span class="hs-identifier hs-type">decs'</span></a></span><span>
</span><span id="line-595"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772707"><span class="annot"><a href="#local-6989586621682772707"><span class="hs-identifier hs-var">adts'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772708"><span class="annot"><a href="#local-6989586621682772708"><span class="hs-identifier hs-var">no_ats'</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_datafam_inst"><span class="hs-identifier hs-type">is_datafam_inst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772704"><span class="hs-identifier hs-type">bind_sig_decs'</span></a></span><span>
</span><span id="line-596"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772710"><span class="annot"><a href="#local-6989586621682772710"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772711"><span class="annot"><a href="#local-6989586621682772711"><span class="hs-identifier hs-var">prob_binds'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_sig"><span class="hs-identifier hs-type">is_sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772708"><span class="hs-identifier hs-type">no_ats'</span></a></span><span>
</span><span id="line-597"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772713"><span class="annot"><a href="#local-6989586621682772713"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772714"><span class="annot"><a href="#local-6989586621682772714"><span class="hs-identifier hs-var">prob_fams'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_bind"><span class="hs-identifier hs-type">is_bind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772711"><span class="hs-identifier hs-type">prob_binds'</span></a></span><span>
</span><span id="line-598"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772716"><span class="annot"><a href="#local-6989586621682772716"><span class="hs-identifier hs-var">fams'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772717"><span class="annot"><a href="#local-6989586621682772717"><span class="hs-identifier hs-var">bads</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_fam_decl"><span class="hs-identifier hs-type">is_fam_decl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772714"><span class="hs-identifier hs-type">prob_fams'</span></a></span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-type">nonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772717"><span class="hs-identifier hs-type">bads</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682772719"><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621682772719"><span class="hs-identifier hs-var">bad_decls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-600"></span><span>            </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM' ConversionFailReason (ZonkAny 0)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">THDeclDescriptor -&gt; IllegalDecls -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalDeclaration"><span class="hs-identifier hs-var">IllegalDeclaration</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="#local-6989586621682772700"><span class="hs-identifier hs-var">declDescr</span></a></span><span> </span><span class="annot"><span class="annottext">(IllegalDecls -&gt; ConversionFailReason)
-&gt; IllegalDecls -&gt; ConversionFailReason
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LHsDecl GhcPs) -&gt; IllegalDecls
</span><a href="GHC.Tc.Errors.Types.html#IllegalDecls"><span class="hs-identifier hs-var">IllegalDecls</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LHsDecl GhcPs)
NonEmpty (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621682772719"><span class="hs-identifier hs-var">bad_decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-601"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772713"><span class="hs-identifier hs-type">binds'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772710"><span class="hs-identifier hs-type">sigs'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772716"><span class="hs-identifier hs-type">fams'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772703"><span class="hs-identifier hs-type">ats'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772707"><span class="hs-identifier hs-type">adts'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-604"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-type">cvt_tycl_hdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">]</span><span>
</span><span id="line-605"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-606"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-607"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span id="cvt_tycl_hdr"><span class="annot"><span class="annottext">cvt_tycl_hdr :: [Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var hs-var">cvt_tycl_hdr</span></a></span></span><span> </span><span id="local-6989586621682772721"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772721"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span id="local-6989586621682772722"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772722"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772723"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772723"><span class="hs-identifier hs-var">tvs</span></a></span></span><span>
</span><span id="line-609"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772724"><span class="annot"><a href="#local-6989586621682772724"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; [Type] -&gt; CvtM (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-var">cvtContext</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772721"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-610"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772725"><span class="annot"><a href="#local-6989586621682772725"><span class="hs-identifier hs-var">tc'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-type">tconNameN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772722"><span class="hs-identifier hs-type">tc</span></a></span><span>
</span><span id="line-611"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772726"><span class="annot"><a href="#local-6989586621682772726"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-type">cvtTvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772723"><span class="hs-identifier hs-type">tvs</span></a></span><span>
</span><span id="line-612"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772724"><span class="hs-identifier hs-type">cxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772725"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkHsQTvs"><span class="hs-identifier hs-type">mkHsQTvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772726"><span class="hs-identifier hs-type">tvs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_datainst_hdr"><span class="hs-identifier hs-type">cvt_datainst_hdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span>
</span><span id="line-616"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-617"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-618"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-619"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsFamEqnPats"><span class="hs-identifier hs-type">HsFamEqnPats</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span id="cvt_datainst_hdr"><span class="annot"><span class="annottext">cvt_datainst_hdr :: [Type]
-&gt; Maybe [TyVarBndr ()]
-&gt; Type
-&gt; CvtM
     (LHsContext GhcPs, LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
      HsFamEqnPats GhcPs)
</span><a href="GHC.ThToHs.html#cvt_datainst_hdr"><span class="hs-identifier hs-var hs-var">cvt_datainst_hdr</span></a></span></span><span> </span><span id="local-6989586621682772729"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772729"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span id="local-6989586621682772730"><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682772730"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621682772731"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772731"><span class="hs-identifier hs-var">tys</span></a></span></span><span>
</span><span id="line-621"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772732"><span class="annot"><a href="#local-6989586621682772732"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; [Type] -&gt; CvtM (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-var">cvtContext</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772729"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-622"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772733"><span class="annot"><a href="#local-6989586621682772733"><span class="hs-identifier hs-var">bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-type">cvt_tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772730"><span class="hs-identifier hs-type">bndrs</span></a></span><span>
</span><span id="line-623"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772734"><span class="annot"><a href="#local-6989586621682772734"><span class="hs-identifier hs-var hs-var">outer_bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs] -&gt; HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="GHC.ThToHs.html#mkHsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-var">mkHsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621682772733"><span class="hs-identifier hs-var">bndrs'</span></a></span><span>
</span><span id="line-624"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772735"><span class="annot"><a href="#local-6989586621682772735"><span class="hs-identifier hs-var">head_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772736"><span class="annot"><a href="#local-6989586621682772736"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#split_ty_app"><span class="hs-identifier hs-type">split_ty_app</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772731"><span class="hs-identifier hs-type">tys</span></a></span><span>
</span><span id="line-625"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682772735"><span class="hs-identifier hs-type">head_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-626"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ConT</span></span><span> </span><span id="local-6989586621682772737"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772737"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772738"><span class="annot"><a href="#local-6989586621682772738"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772737"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-627"></span><span>                        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772739"><span class="annot"><a href="#local-6989586621682772739"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))
 -&gt; HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; LHsTypeArg GhcPs
HsArg
  GhcPs
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsArg
     GhcPs
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-var">wrap_tyarg</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682772736"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-628"></span><span>                        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772732"><span class="hs-identifier hs-type">cxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772738"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772734"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772739"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-629"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">InfixT</span></span><span> </span><span id="local-6989586621682772740"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772740"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682772741"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772741"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772742"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772742"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772743"><span class="annot"><a href="#local-6989586621682772743"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772741"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-630"></span><span>                                </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772744"><span class="annot"><a href="#local-6989586621682772744"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682772740"><span class="hs-identifier hs-type">t1</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682772742"><span class="hs-identifier hs-type">t2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-631"></span><span>                                </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772732"><span class="hs-identifier hs-type">cxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772743"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772734"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-632"></span><span>                                         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772744"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621682772736"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-633"></span><span>          </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)],
      LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
      [HsArg
         GhcPs
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)],
       LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
       [HsArg
          GhcPs
          (GenLocated SrcSpanAnnA (HsType GhcPs))
          (GenLocated SrcSpanAnnA (HsType GhcPs))]))
-&gt; ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)],
      LocatedN RdrName, HsOuterFamEqnTyVarBndrs GhcPs,
      [HsArg
         GhcPs
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#InvalidTypeInstanceHeader"><span class="hs-identifier hs-var">InvalidTypeInstanceHeader</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772731"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-636"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_tyfam_head"><span class="hs-identifier hs-type">cvt_tyfam_head</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeFamilyHead</span></span><span>
</span><span id="line-637"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-638"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-639"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyResultSig"><span class="hs-identifier hs-type">Hs.LFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-640"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">Hs.LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span id="cvt_tyfam_head"><span class="annot"><span class="annottext">cvt_tyfam_head :: TypeFamilyHead
-&gt; CvtM
     (LocatedN RdrName, LHsQTyVars GhcPs, LFamilyResultSig GhcPs,
      Maybe (LInjectivityAnn GhcPs))
</span><a href="GHC.ThToHs.html#cvt_tyfam_head"><span class="hs-identifier hs-var hs-var">cvt_tyfam_head</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeFamilyHead</span></span><span> </span><span id="local-6989586621682772747"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772747"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682772748"><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772748"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span id="local-6989586621682772749"><span class="annot"><span class="annottext">FamilyResultSig
</span><a href="#local-6989586621682772749"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span id="local-6989586621682772750"><span class="annot"><span class="annottext">Maybe InjectivityAnn
</span><a href="#local-6989586621682772750"><span class="hs-identifier hs-var">injectivity</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772751"><span class="annot"><a href="#local-6989586621682772751"><span class="hs-identifier hs-var">tc'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772752"><span class="annot"><a href="#local-6989586621682772752"><span class="hs-identifier hs-var">tyvars'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; Name
-&gt; [TyVarBndr BndrVis]
-&gt; CvtM (LHsContext GhcPs, LocatedN RdrName, LHsQTyVars GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tycl_hdr"><span class="hs-identifier hs-var">cvt_tycl_hdr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772747"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr BndrVis]
</span><a href="#local-6989586621682772748"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-644"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772753"><span class="annot"><a href="#local-6989586621682772753"><span class="hs-identifier hs-var">result'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtFamilyResultSig"><span class="hs-identifier hs-type">cvtFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772749"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-645"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772755"><span class="annot"><a href="#local-6989586621682772755"><span class="hs-identifier hs-var">injectivity'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtInjectivityAnnotation"><span class="hs-identifier hs-type">cvtInjectivityAnnotation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772750"><span class="hs-identifier hs-type">injectivity</span></a></span><span>
</span><span id="line-646"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772751"><span class="hs-identifier hs-type">tc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772752"><span class="hs-identifier hs-type">tyvars'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772753"><span class="hs-identifier hs-type">result'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682772755"><span class="hs-identifier hs-type">injectivity'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-649"></span><span class="hs-comment">--              Partitioning declarations</span><span>
</span><span id="line-650"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="annot"><a href="GHC.ThToHs.html#is_fam_decl"><span class="hs-identifier hs-type">is_fam_decl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span id="is_fam_decl"><span class="annot"><span class="annottext">is_fam_decl :: LHsDecl GhcPs -&gt; Either (LFamilyDecl GhcPs) (LHsDecl GhcPs)
</span><a href="GHC.ThToHs.html#is_fam_decl"><span class="hs-identifier hs-var hs-var">is_fam_decl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772757"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772757"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-type">FamDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdFam :: forall pass. TyClDecl pass -&gt; FamilyDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFam"><span class="hs-identifier hs-var">tcdFam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772759"><span class="annot"><span class="annottext">FamilyDecl GhcPs
</span><a href="#local-6989586621682772759"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (FamilyDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (FamilyDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; FamilyDecl GhcPs -&gt; GenLocated SrcSpanAnnA (FamilyDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772757"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyDecl GhcPs
</span><a href="#local-6989586621682772759"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span class="annot"><a href="GHC.ThToHs.html#is_fam_decl"><span class="hs-identifier hs-var">is_fam_decl</span></a></span><span> </span><span id="local-6989586621682772760"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621682772760"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (FamilyDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621682772760"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span class="annot"><a href="GHC.ThToHs.html#is_tyfam_inst"><span class="hs-identifier hs-type">is_tyfam_inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-657"></span><span id="is_tyfam_inst"><span class="annot"><span class="annottext">is_tyfam_inst :: LHsDecl GhcPs -&gt; Either (LTyFamInstDecl GhcPs) (LHsDecl GhcPs)
</span><a href="GHC.ThToHs.html#is_tyfam_inst"><span class="hs-identifier hs-var hs-var">is_tyfam_inst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772761"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772761"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">Hs.InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-type">TyFamInstD</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tfid_inst :: forall pass. InstDecl pass -&gt; TyFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#tfid_inst"><span class="hs-identifier hs-var">tfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772762"><span class="annot"><span class="annottext">TyFamInstDecl GhcPs
</span><a href="#local-6989586621682772762"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; TyFamInstDecl GhcPs
-&gt; GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772761"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">TyFamInstDecl GhcPs
</span><a href="#local-6989586621682772762"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span class="annot"><a href="GHC.ThToHs.html#is_tyfam_inst"><span class="hs-identifier hs-var">is_tyfam_inst</span></a></span><span> </span><span id="local-6989586621682772763"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621682772763"><span class="hs-identifier hs-var">decl</span></a></span></span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621682772763"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span class="annot"><a href="GHC.ThToHs.html#is_datafam_inst"><span class="hs-identifier hs-type">is_datafam_inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-663"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span id="is_datafam_inst"><span class="annot"><span class="annottext">is_datafam_inst :: LHsDecl GhcPs -&gt; Either (LDataFamInstDecl GhcPs) (LHsDecl GhcPs)
</span><a href="GHC.ThToHs.html#is_datafam_inst"><span class="hs-identifier hs-var hs-var">is_datafam_inst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772764"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772764"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">Hs.InstD</span></a></span><span>  </span><span class="annot"><span class="annottext">XInstD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_inst :: forall pass. InstDecl pass -&gt; DataFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_inst"><span class="hs-identifier hs-var">dfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772765"><span class="annot"><span class="annottext">DataFamInstDecl GhcPs
</span><a href="#local-6989586621682772765"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-665"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; DataFamInstDecl GhcPs
-&gt; GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772764"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">DataFamInstDecl GhcPs
</span><a href="#local-6989586621682772765"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span class="annot"><a href="GHC.ThToHs.html#is_datafam_inst"><span class="hs-identifier hs-var">is_datafam_inst</span></a></span><span> </span><span id="local-6989586621682772766"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621682772766"><span class="hs-identifier hs-var">decl</span></a></span></span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621682772766"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span class="annot"><a href="GHC.ThToHs.html#is_sig"><span class="hs-identifier hs-type">is_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span id="is_sig"><span class="annot"><span class="annottext">is_sig :: LHsDecl GhcPs -&gt; Either (LSig GhcPs) (LHsDecl GhcPs)
</span><a href="GHC.ThToHs.html#is_sig"><span class="hs-identifier hs-var hs-var">is_sig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772767"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772767"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772768"><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621682772768"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Sig GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (Sig GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; Sig GhcPs -&gt; GenLocated SrcSpanAnnA (Sig GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772767"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621682772768"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span class="annot"><a href="GHC.ThToHs.html#is_sig"><span class="hs-identifier hs-var">is_sig</span></a></span><span> </span><span id="local-6989586621682772769"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621682772769"><span class="hs-identifier hs-var">decl</span></a></span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (Sig GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621682772769"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span class="annot"><a href="GHC.ThToHs.html#is_bind"><span class="hs-identifier hs-type">is_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span id="is_bind"><span class="annot"><span class="annottext">is_bind :: LHsDecl GhcPs -&gt; Either (LHsBind GhcPs) (LHsDecl GhcPs)
</span><a href="GHC.ThToHs.html#is_bind"><span class="hs-identifier hs-var hs-var">is_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772770"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772770"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">Hs.ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772771"><span class="annot"><span class="annottext">HsBind GhcPs
</span><a href="#local-6989586621682772771"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBind GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (HsBind GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBind GhcPs -&gt; GenLocated SrcSpanAnnA (HsBind GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772770"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind GhcPs
</span><a href="#local-6989586621682772771"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span class="annot"><a href="GHC.ThToHs.html#is_bind"><span class="hs-identifier hs-var">is_bind</span></a></span><span> </span><span id="local-6989586621682772772"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621682772772"><span class="hs-identifier hs-var">decl</span></a></span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; Either
     (GenLocated SrcSpanAnnA (HsBind GhcPs))
     (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621682772772"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span class="annot"><a href="GHC.ThToHs.html#is_ip_bind"><span class="hs-identifier hs-type">is_ip_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span>
</span><span id="line-678"></span><span id="is_ip_bind"><span class="annot"><span class="annottext">is_ip_bind :: Dec -&gt; Either (String, Exp) Dec
</span><a href="GHC.ThToHs.html#is_ip_bind"><span class="hs-identifier hs-var hs-var">is_ip_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.ImplicitParamBindD</span></span><span> </span><span id="local-6989586621682772774"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772774"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682772775"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682772775"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String, Exp) -&gt; Either (String, Exp) Dec
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772774"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682772775"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span class="annot"><a href="GHC.ThToHs.html#is_ip_bind"><span class="hs-identifier hs-var">is_ip_bind</span></a></span><span> </span><span id="local-6989586621682772776"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621682772776"><span class="hs-identifier hs-var">decl</span></a></span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dec -&gt; Either (String, Exp) Dec
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621682772776"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-682"></span><span class="hs-comment">--      Data types</span><span>
</span><span id="line-683"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-type">cvtConstr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ name of first constructor of parent type</span></span><span>
</span><span id="line-686"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ convert constructor name</span></span><span>
</span><span id="line-687"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>
</span><span id="line-689"></span><span id="cvtConstr"><span class="annot"><span class="annottext">cvtConstr :: Name
-&gt; (Name -&gt; CvtM (LocatedN RdrName))
-&gt; Con
-&gt; CvtM (LConDecl GhcPs)
</span><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var hs-var">cvtConstr</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772777"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772777"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NormalC</span></span><span> </span><span id="local-6989586621682772779"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772779"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682772780"><span class="annot"><span class="annottext">[BangType]
</span><a href="#local-6989586621682772780"><span class="hs-identifier hs-var">strtys</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772781"><span class="annot"><a href="#local-6989586621682772781"><span class="hs-identifier hs-var">c'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772777"><span class="hs-identifier hs-var">do_con_name</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772779"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-691"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772782"><span class="annot"><a href="#local-6989586621682772782"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772780"><span class="hs-identifier hs-type">strtys</span></a></span><span>
</span><span id="line-692"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772781"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#noTypeArgs"><span class="hs-identifier hs-type">noTypeArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-type">hsLinear</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772782"><span class="hs-identifier hs-type">tys'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span id="local-6989586621682772786"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772786"><span class="hs-identifier hs-var">parent_con</span></a></span></span><span> </span><span id="local-6989586621682772787"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772787"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecC</span></span><span> </span><span id="local-6989586621682772789"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772789"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682772790"><span class="annot"><span class="annottext">[VarBangType]
</span><a href="#local-6989586621682772790"><span class="hs-identifier hs-var">varstrtys</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772791"><span class="annot"><a href="#local-6989586621682772791"><span class="hs-identifier hs-var">c'</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772787"><span class="hs-identifier hs-var">do_con_name</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772789"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-696"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772792"><span class="annot"><a href="#local-6989586621682772792"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvt_id_arg"><span class="hs-identifier hs-type">cvt_id_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772786"><span class="hs-identifier hs-type">parent_con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772790"><span class="hs-identifier hs-type">varstrtys</span></a></span><span>
</span><span id="line-697"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772794"><span class="annot"><a href="#local-6989586621682772794"><span class="hs-identifier hs-var">con_decl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772791"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772792"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-698"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772794"><span class="hs-identifier hs-type">con_decl</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772795"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772795"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixC</span></span><span> </span><span id="local-6989586621682772797"><span class="annot"><span class="annottext">BangType
</span><a href="#local-6989586621682772797"><span class="hs-identifier hs-var">st1</span></a></span></span><span> </span><span id="local-6989586621682772798"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772798"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682772799"><span class="annot"><span class="annottext">BangType
</span><a href="#local-6989586621682772799"><span class="hs-identifier hs-var">st2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772800"><span class="annot"><a href="#local-6989586621682772800"><span class="hs-identifier hs-var">c'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772795"><span class="hs-identifier hs-var">do_con_name</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772798"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-702"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772801"><span class="annot"><a href="#local-6989586621682772801"><span class="hs-identifier hs-var">st1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772797"><span class="hs-identifier hs-type">st1</span></a></span><span>
</span><span id="line-703"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772802"><span class="annot"><a href="#local-6989586621682772802"><span class="hs-identifier hs-var">st2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772799"><span class="hs-identifier hs-type">st2</span></a></span><span>
</span><span id="line-704"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772800"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-705"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-type">hsLinear</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772801"><span class="hs-identifier hs-type">st1'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-type">hsLinear</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772802"><span class="hs-identifier hs-type">st2'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-706"></span><span>
</span><span id="line-707"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span id="local-6989586621682772803"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772803"><span class="hs-identifier hs-var">parent_con</span></a></span></span><span> </span><span id="local-6989586621682772804"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772804"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallC</span></span><span> </span><span id="local-6989586621682772805"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682772805"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682772806"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682772806"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682772807"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621682772807"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772808"><span class="annot"><a href="#local-6989586621682772808"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; CvtM [LHsTyVarBndr Specificity GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682772805"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-709"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772809"><span class="annot"><a href="#local-6989586621682772809"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-type">cvtContext</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-type">funPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772806"><span class="hs-identifier hs-type">ctxt</span></a></span><span>
</span><span id="line-710"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772810"><span class="annot"><a href="#local-6989586621682772810"><span class="hs-identifier hs-var">con'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-type">cvtConstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772803"><span class="hs-identifier hs-type">parent_con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772804"><span class="hs-identifier hs-type">do_con_name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772807"><span class="hs-identifier hs-type">con</span></a></span><span>
</span><span id="line-711"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682772811"><span class="hs-identifier hs-type">add_forall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772808"><span class="hs-identifier hs-type">tvs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772809"><span class="hs-identifier hs-type">ctxt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772810"><span class="hs-identifier hs-type">con'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-712"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-713"></span><span>    </span><span id="local-6989586621682772812"><span class="annot"><span class="annottext">add_cxt :: GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; Maybe (GenLocated l [GenLocated SrcSpanAnnA (HsType GhcPs)])
-&gt; Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621682772812"><span class="hs-identifier hs-var hs-var">add_cxt</span></a></span></span><span> </span><span id="local-6989586621682772813"><span class="annot"><span class="annottext">GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772813"><span class="hs-identifier hs-var">lcxt</span></a></span></span><span>         </span><span class="annot"><span class="annottext">Maybe (GenLocated l [GenLocated SrcSpanAnnA (HsType GhcPs)])
</span><span class="hs-identifier hs-var">Nothing</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var">mkHsContextMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772813"><span class="hs-identifier hs-var">lcxt</span></a></span><span>
</span><span id="line-714"></span><span>    </span><span class="annot"><a href="#local-6989586621682772812"><span class="hs-identifier hs-var">add_cxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772814"><span class="annot"><span class="annottext">EpAnn AnnContext
</span><a href="#local-6989586621682772814"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682772815"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772815"><span class="hs-identifier hs-var">cxt1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772816"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772816"><span class="hs-identifier hs-var">cxt2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-715"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; Maybe
     (GenLocated
        (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnContext
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; GenLocated
     (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnContext
</span><a href="#local-6989586621682772814"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772815"><span class="hs-identifier hs-var">cxt1</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682772816"><span class="hs-identifier hs-var">cxt2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span>
</span><span id="line-717"></span><span>    </span><span class="annot"><a href="#local-6989586621682772811"><span class="hs-identifier hs-type">add_forall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Hs.Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-718"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-719"></span><span>    </span><span id="local-6989586621682772811"><span class="annot"><span class="annottext">add_forall :: [LHsTyVarBndr Specificity GhcPs]
-&gt; LHsContext GhcPs -&gt; ConDecl GhcPs -&gt; ConDecl GhcPs
</span><a href="#local-6989586621682772811"><span class="hs-identifier hs-var hs-var">add_forall</span></a></span></span><span> </span><span id="local-6989586621682772817"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621682772817"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span id="local-6989586621682772818"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621682772818"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span id="local-6989586621682772819"><span class="annot"><span class="annottext">con :: ConDecl GhcPs
</span><a href="#local-6989586621682772819"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_bndrs :: forall pass. ConDecl pass -&gt; XRec pass (HsOuterSigTyVarBndrs pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772822"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682772822"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682772823"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621682772823"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: forall pass. ConDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772825"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621682772825"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDecl GhcPs
</span><a href="#local-6989586621682772819"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772822"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772826"><span class="hs-identifier hs-type">outer_bndrs'</span></a></span><span>
</span><span id="line-721"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772812"><span class="hs-identifier hs-type">add_cxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772818"><span class="hs-identifier hs-type">cxt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772825"><span class="hs-identifier hs-type">cxt</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-722"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-723"></span><span>        </span><span id="local-6989586621682772826"><span class="annot"><span class="annottext">outer_bndrs' :: HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621682772826"><span class="hs-identifier hs-var hs-var">outer_bndrs'</span></a></span></span><span>
</span><span id="line-724"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772827"><span class="hs-identifier hs-var">all_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
forall flag. HsOuterTyVarBndrs flag GhcPs
</span><a href="GHC.Hs.Type.html#mkHsOuterImplicit"><span class="hs-identifier hs-var">mkHsOuterImplicit</span></a></span><span>
</span><span id="line-725"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
-&gt; [LHsTyVarBndr Specificity GhcPs] -&gt; HsOuterSigTyVarBndrs GhcPs
forall flag.
EpAnnForallInvis
-&gt; [LHsTyVarBndr flag GhcPs] -&gt; HsOuterTyVarBndrs flag GhcPs
</span><a href="GHC.Hs.Type.html#mkHsOuterExplicit"><span class="hs-identifier hs-var">mkHsOuterExplicit</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772827"><span class="hs-identifier hs-var">all_tvs</span></a></span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span>        </span><span id="local-6989586621682772827"><span class="annot"><span class="annottext">all_tvs :: [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772827"><span class="hs-identifier hs-var hs-var">all_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772817"><span class="hs-identifier hs-var">tvs'</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcPs)]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772830"><span class="hs-identifier hs-var">outer_exp_tvs</span></a></span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span>        </span><span id="local-6989586621682772830"><span class="annot"><span class="annottext">outer_exp_tvs :: [LHsTyVarBndr Specificity (NoGhcTc GhcPs)]
</span><a href="#local-6989586621682772830"><span class="hs-identifier hs-var hs-var">outer_exp_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
-&gt; [LHsTyVarBndr Specificity (NoGhcTc GhcPs)]
forall flag (p :: Pass).
HsOuterTyVarBndrs flag (GhcPass p)
-&gt; [LHsTyVarBndr flag (NoGhcTc (GhcPass p))]
</span><a href="GHC.Hs.Type.html#hsOuterExplicitBndrs"><span class="hs-identifier hs-var">hsOuterExplicitBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621682772823"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-730"></span><span>
</span><span id="line-731"></span><span>    </span><span class="annot"><a href="#local-6989586621682772811"><span class="hs-identifier hs-var">add_forall</span></a></span><span> </span><span id="local-6989586621682772832"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621682772832"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span id="local-6989586621682772833"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621682772833"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span id="local-6989586621682772834"><span class="annot"><span class="annottext">con :: ConDecl GhcPs
</span><a href="#local-6989586621682772834"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_ex_tvs :: forall pass. ConDecl pass -&gt; [LHsTyVarBndr Specificity pass]
</span><a href="Language.Haskell.Syntax.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772837"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621682772837"><span class="hs-identifier hs-var">ex_tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: forall pass. ConDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682772838"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621682772838"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDecl GhcPs
</span><a href="#local-6989586621682772834"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621682772840"><span class="hs-identifier hs-type">all_tvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772840"><span class="hs-identifier hs-type">all_tvs</span></a></span><span>
</span><span id="line-734"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772812"><span class="hs-identifier hs-type">add_cxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772833"><span class="hs-identifier hs-type">cxt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772838"><span class="hs-identifier hs-type">cxt</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-735"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-736"></span><span>        </span><span id="local-6989586621682772840"><span class="annot"><span class="annottext">all_tvs :: [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772840"><span class="hs-identifier hs-var hs-var">all_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772832"><span class="hs-identifier hs-var">tvs'</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682772837"><span class="hs-identifier hs-var">ex_tvs</span></a></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682772841"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772841"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GadtC</span></span><span> </span><span id="local-6989586621682772842"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772842"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682772843"><span class="annot"><span class="annottext">[BangType]
</span><a href="#local-6989586621682772843"><span class="hs-identifier hs-var">strtys</span></a></span></span><span> </span><span id="local-6989586621682772844"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772844"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-var">nonEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772842"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-739"></span><span>    </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#GadtNoCons"><span class="hs-identifier hs-var">GadtNoCons</span></a></span><span>
</span><span id="line-740"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682772846"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621682772846"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-741"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772847"><span class="annot"><a href="#local-6989586621682772847"><span class="hs-identifier hs-var">c'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM (LocatedN RdrName))
-&gt; NonEmpty Name
-&gt; CvtM' ConversionFailReason (NonEmpty (LocatedN RdrName))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; NonEmpty a -&gt; m (NonEmpty b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772841"><span class="hs-identifier hs-var">do_con_name</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621682772846"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-742"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772848"><span class="annot"><a href="#local-6989586621682772848"><span class="hs-identifier hs-var">args</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772843"><span class="hs-identifier hs-type">strtys</span></a></span><span>
</span><span id="line-743"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772849"><span class="annot"><a href="#local-6989586621682772849"><span class="hs-identifier hs-var">ty'</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772844"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-744"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_gadt_decl"><span class="hs-identifier hs-type">mk_gadt_decl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772847"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-type">PrefixConGADT</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-type">hsLinear</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772848"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772849"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span class="annot"><a href="GHC.ThToHs.html#cvtConstr"><span class="hs-identifier hs-var">cvtConstr</span></a></span><span> </span><span id="local-6989586621682772852"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772852"><span class="hs-identifier hs-var">parent_con</span></a></span></span><span> </span><span id="local-6989586621682772853"><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772853"><span class="hs-identifier hs-var">do_con_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecGadtC</span></span><span> </span><span id="local-6989586621682772854"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772854"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682772855"><span class="annot"><span class="annottext">[VarBangType]
</span><a href="#local-6989586621682772855"><span class="hs-identifier hs-var">varstrtys</span></a></span></span><span> </span><span id="local-6989586621682772856"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772856"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-var">nonEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772854"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#RecGadtNoCons"><span class="hs-identifier hs-var">RecGadtNoCons</span></a></span><span>
</span><span id="line-748"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682772858"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621682772858"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-749"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772859"><span class="annot"><a href="#local-6989586621682772859"><span class="hs-identifier hs-var">c'</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM (LocatedN RdrName))
-&gt; NonEmpty Name
-&gt; CvtM' ConversionFailReason (NonEmpty (LocatedN RdrName))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; NonEmpty a -&gt; m (NonEmpty b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="#local-6989586621682772853"><span class="hs-identifier hs-var">do_con_name</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621682772858"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-750"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772860"><span class="annot"><a href="#local-6989586621682772860"><span class="hs-identifier hs-var">ty'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772856"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-751"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772861"><span class="annot"><a href="#local-6989586621682772861"><span class="hs-identifier hs-var">rec_flds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvt_id_arg"><span class="hs-identifier hs-type">cvt_id_arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772852"><span class="hs-identifier hs-type">parent_con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772855"><span class="hs-identifier hs-type">varstrtys</span></a></span><span>
</span><span id="line-752"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772862"><span class="annot"><a href="#local-6989586621682772862"><span class="hs-identifier hs-var">lrec_flds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772861"><span class="hs-identifier hs-type">rec_flds</span></a></span><span>
</span><span id="line-753"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_gadt_decl"><span class="hs-identifier hs-type">mk_gadt_decl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772859"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-type">RecConGADT</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772862"><span class="hs-identifier hs-type">lrec_flds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772860"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-754"></span><span>
</span><span id="line-755"></span><span class="annot"><a href="GHC.ThToHs.html#mk_gadt_decl"><span class="hs-identifier hs-type">mk_gadt_decl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclGADTDetails"><span class="hs-identifier hs-type">HsConDeclGADTDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-756"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span id="mk_gadt_decl"><span class="annot"><span class="annottext">mk_gadt_decl :: NonEmpty (LocatedN RdrName)
-&gt; HsConDeclGADTDetails GhcPs
-&gt; LHsType GhcPs
-&gt; CvtM (LConDecl GhcPs)
</span><a href="GHC.ThToHs.html#mk_gadt_decl"><span class="hs-identifier hs-var hs-var">mk_gadt_decl</span></a></span></span><span> </span><span id="local-6989586621682772864"><span class="annot"><span class="annottext">NonEmpty (LocatedN RdrName)
</span><a href="#local-6989586621682772864"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621682772865"><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcPs
</span><a href="#local-6989586621682772865"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682772866"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682772866"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span>
</span><span id="line-758"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682772867"><span class="annot"><a href="#local-6989586621682772867"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
-&gt; CvtM (GenLocated SrcSpanAnnA (HsOuterSigTyVarBndrs GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
forall flag. HsOuterTyVarBndrs flag GhcPs
</span><a href="GHC.Hs.Type.html#mkHsOuterImplicit"><span class="hs-identifier hs-var">mkHsOuterImplicit</span></a></span><span>
</span><span id="line-759"></span><span>       </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span>
</span><span id="line-760"></span><span>                   </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_g_ext"><span class="hs-identifier hs-var">con_g_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-761"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772864"><span class="hs-identifier hs-type">names</span></a></span><span>
</span><span id="line-762"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772867"><span class="hs-identifier hs-type">bndrs</span></a></span><span>
</span><span id="line-763"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-764"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772865"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-765"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772866"><span class="hs-identifier hs-type">res_ty</span></a></span><span>
</span><span id="line-766"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-767"></span><span>
</span><span id="line-768"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcUnpackedness"><span class="hs-identifier hs-type">cvtSrcUnpackedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SourceUnpackedness</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span>
</span><span id="line-769"></span><span id="cvtSrcUnpackedness"><span class="annot"><span class="annottext">cvtSrcUnpackedness :: SourceUnpackedness -&gt; SrcUnpackedness
</span><a href="GHC.ThToHs.html#cvtSrcUnpackedness"><span class="hs-identifier hs-var hs-var">cvtSrcUnpackedness</span></a></span></span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><span class="hs-identifier hs-var">NoSourceUnpackedness</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span>
</span><span id="line-770"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcUnpackedness"><span class="hs-identifier hs-var">cvtSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><span class="hs-identifier hs-var">SourceNoUnpack</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcNoUnpack"><span class="hs-identifier hs-var">SrcNoUnpack</span></a></span><span>
</span><span id="line-771"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcUnpackedness"><span class="hs-identifier hs-var">cvtSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><span class="hs-identifier hs-var">SourceUnpack</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcUnpack"><span class="hs-identifier hs-var">SrcUnpack</span></a></span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcStrictness"><span class="hs-identifier hs-type">cvtSrcStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SourceStrictness</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span>
</span><span id="line-774"></span><span id="cvtSrcStrictness"><span class="annot"><span class="annottext">cvtSrcStrictness :: SourceStrictness -&gt; SrcStrictness
</span><a href="GHC.ThToHs.html#cvtSrcStrictness"><span class="hs-identifier hs-var hs-var">cvtSrcStrictness</span></a></span></span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><span class="hs-identifier hs-var">NoSourceStrictness</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span>
</span><span id="line-775"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcStrictness"><span class="hs-identifier hs-var">cvtSrcStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><span class="hs-identifier hs-var">SourceLazy</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcLazy"><span class="hs-identifier hs-var">SrcLazy</span></a></span><span>
</span><span id="line-776"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSrcStrictness"><span class="hs-identifier hs-var">cvtSrcStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><span class="hs-identifier hs-var">SourceStrict</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span>
</span><span id="line-777"></span><span>
</span><span id="line-778"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Bang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span id="cvt_arg"><span class="annot"><span class="annottext">cvt_arg :: BangType -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-var hs-var">cvt_arg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bang</span></span><span> </span><span id="local-6989586621682772888"><span class="annot"><span class="annottext">SourceUnpackedness
</span><a href="#local-6989586621682772888"><span class="hs-identifier hs-var">su</span></a></span></span><span> </span><span id="local-6989586621682772889"><span class="annot"><span class="annottext">SourceStrictness
</span><a href="#local-6989586621682772889"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772890"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772890"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772891"><span class="annot"><a href="#local-6989586621682772891"><span class="hs-identifier hs-var">ty''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772890"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-781"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772892"><span class="annot"><a href="#local-6989586621682772892"><span class="hs-identifier hs-var hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682772891"><span class="hs-identifier hs-var">ty''</span></a></span><span>
</span><span id="line-782"></span><span>             </span><span id="local-6989586621682772895"><span class="annot"><a href="#local-6989586621682772895"><span class="hs-identifier hs-var hs-var">su'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness -&gt; SrcUnpackedness
</span><a href="GHC.ThToHs.html#cvtSrcUnpackedness"><span class="hs-identifier hs-var">cvtSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><a href="#local-6989586621682772888"><span class="hs-identifier hs-var">su</span></a></span><span>
</span><span id="line-783"></span><span>             </span><span id="local-6989586621682772896"><span class="annot"><a href="#local-6989586621682772896"><span class="hs-identifier hs-var hs-var">ss'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceStrictness -&gt; SrcStrictness
</span><a href="GHC.ThToHs.html#cvtSrcStrictness"><span class="hs-identifier hs-var">cvtSrcStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><a href="#local-6989586621682772889"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-784"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-type">NoSourceText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#HsBang"><span class="hs-identifier hs-type">HsBang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772895"><span class="hs-identifier hs-type">su'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772896"><span class="hs-identifier hs-type">ss'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682772892"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-785"></span><span>
</span><span id="line-786"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_id_arg"><span class="hs-identifier hs-type">cvt_id_arg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ parent constructor name</span></span><span>
</span><span id="line-787"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Bang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span id="cvt_id_arg"><span class="annot"><span class="annottext">cvt_id_arg :: Name -&gt; VarBangType -&gt; CvtM (LConDeclField GhcPs)
</span><a href="GHC.ThToHs.html#cvt_id_arg"><span class="hs-identifier hs-var hs-var">cvt_id_arg</span></a></span></span><span> </span><span id="local-6989586621682772900"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772900"><span class="hs-identifier hs-var">parent_con</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682772901"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772901"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772902"><span class="annot"><span class="annottext">Bang
</span><a href="#local-6989586621682772902"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682772903"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772903"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682772904"><span class="annot"><a href="#local-6989586621682772904"><span class="hs-identifier hs-var">li</span></a></span></span><span> </span><span id="local-6989586621682772905"><span class="annot"><a href="#local-6989586621682772905"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#fldNameN"><span class="hs-identifier hs-var">fldNameN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772900"><span class="hs-identifier hs-var">parent_con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772901"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-790"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772906"><span class="annot"><a href="#local-6989586621682772906"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvt_arg"><span class="hs-identifier hs-type">cvt_arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682772902"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682772903"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a></span><span>
</span><span id="line-792"></span><span>                          </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#cd_fld_ext"><span class="hs-identifier hs-var">cd_fld_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-793"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#cd_fld_names"><span class="hs-identifier hs-var">cd_fld_names</span></a></span><span>
</span><span id="line-794"></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-type">l2l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772904"><span class="hs-identifier hs-type">li</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772904"><span class="hs-identifier hs-type">li</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772905"><span class="hs-identifier hs-type">i'</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-795"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#cd_fld_type"><span class="hs-identifier hs-var">cd_fld_type</span></a></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><a href="#local-6989586621682772906"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-796"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#cd_fld_doc"><span class="hs-identifier hs-var">cd_fld_doc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-type">cvtDerivs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span id="cvtDerivs"><span class="annot"><span class="annottext">cvtDerivs :: [DerivClause] -&gt; CvtM (HsDeriving GhcPs)
</span><a href="GHC.ThToHs.html#cvtDerivs"><span class="hs-identifier hs-var hs-var">cvtDerivs</span></a></span></span><span> </span><span id="local-6989586621682772912"><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772912"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">(DerivClause
 -&gt; CvtM'
      ConversionFailReason (GenLocated EpAnnCO (HsDerivingClause GhcPs)))
-&gt; [DerivClause]
-&gt; CvtM'
     ConversionFailReason [GenLocated EpAnnCO (HsDerivingClause GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">DerivClause -&gt; CvtM (LHsDerivingClause GhcPs)
DerivClause
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (HsDerivingClause GhcPs))
</span><a href="GHC.ThToHs.html#cvtDerivClause"><span class="hs-identifier hs-var">cvtDerivClause</span></a></span><span> </span><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621682772912"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_fundep"><span class="hs-identifier hs-type">cvt_fundep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-802"></span><span id="cvt_fundep"><span class="annot"><span class="annottext">cvt_fundep :: FunDep -&gt; CvtM (LHsFunDep GhcPs)
</span><a href="GHC.ThToHs.html#cvt_fundep"><span class="hs-identifier hs-var hs-var">cvt_fundep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span> </span><span id="local-6989586621682772915"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772915"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621682772916"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772916"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772917"><span class="annot"><a href="#local-6989586621682772917"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM (LocatedN RdrName))
-&gt; [Name] -&gt; CvtM' ConversionFailReason [LocatedN RdrName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var">tNameN</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682772915"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-803"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772919"><span class="annot"><a href="#local-6989586621682772919"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-type">tNameN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772916"><span class="hs-identifier hs-type">ys</span></a></span><span>
</span><span id="line-804"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FunDep"><span class="hs-identifier hs-type">Hs.FunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772917"><span class="hs-identifier hs-type">xs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772919"><span class="hs-identifier hs-type">ys'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-805"></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span class="hs-comment">------------------------------------------</span><span>
</span><span id="line-808"></span><span class="hs-comment">--      Foreign declarations</span><span>
</span><span id="line-809"></span><span class="hs-comment">------------------------------------------</span><span>
</span><span id="line-810"></span><span>
</span><span id="line-811"></span><span class="annot"><a href="GHC.ThToHs.html#cvtForD"><span class="hs-identifier hs-type">cvtForD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foreign</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignDecl"><span class="hs-identifier hs-type">ForeignDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-812"></span><span id="cvtForD"><span class="annot"><span class="annottext">cvtForD :: Foreign -&gt; CvtM (ForeignDecl GhcPs)
</span><a href="GHC.ThToHs.html#cvtForD"><span class="hs-identifier hs-var hs-var">cvtForD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ImportF</span></span><span> </span><span id="local-6989586621682772922"><span class="annot"><span class="annottext">Callconv
</span><a href="#local-6989586621682772922"><span class="hs-identifier hs-var">callconv</span></a></span></span><span> </span><span id="local-6989586621682772923"><span class="annot"><span class="annottext">Safety
</span><a href="#local-6989586621682772923"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span id="local-6989586621682772924"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772924"><span class="hs-identifier hs-var">from</span></a></span></span><span> </span><span id="local-6989586621682772925"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772925"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772926"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772926"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-813"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772927"><span class="annot"><a href="#local-6989586621682772927"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM SrcSpan
</span><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-var">getL</span></a></span><span>
</span><span id="line-814"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772928"><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; EpaLocation
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772927"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-815"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-comment">-- the prim and javascript calling conventions do not support headers</span><span>
</span><span id="line-816"></span><span>          </span><span class="hs-comment">-- and are inserted verbatim, analogous to mkImport in GHC.Parser.PostProcess</span><span>
</span><span id="line-817"></span><span>          </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><a href="#local-6989586621682772922"><span class="hs-identifier hs-type">callconv</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Prim</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">||</span></span><span> </span><span class="annot"><a href="#local-6989586621682772922"><span class="hs-identifier hs-type">callconv</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.JavaScript</span></span><span>
</span><span id="line-818"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682772931"><span class="hs-identifier hs-type">mk_imp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-type">CImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-type">quotedSourceText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772924"><span class="hs-identifier hs-type">from</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-type">cvt_conv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772922"><span class="hs-identifier hs-type">callconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772935"><span class="hs-identifier hs-type">safety'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-819"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-type">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-type">StaticTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772938"><span class="hs-identifier hs-type">fromtxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-820"></span><span>                                                      </span><span class="annot"><a href="#local-6989586621682772938"><span class="hs-identifier hs-type">fromtxt</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-821"></span><span>                                                      </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-822"></span><span>          </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682772939"><span class="annot"><a href="#local-6989586621682772939"><span class="hs-identifier hs-var">impspec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-type">parseCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-type">cvt_conv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772922"><span class="hs-identifier hs-type">callconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772928"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772935"><span class="hs-identifier hs-type">safety'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-823"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-type">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.nameBase</span></span><span> </span><span class="annot"><a href="#local-6989586621682772925"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-824"></span><span>                                          </span><span class="annot"><a href="#local-6989586621682772924"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772927"><span class="hs-identifier hs-type">ls</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-type">quotedSourceText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772924"><span class="hs-identifier hs-type">from</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682772931"><span class="hs-identifier hs-type">mk_imp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772939"><span class="hs-identifier hs-type">impspec</span></a></span><span>
</span><span id="line-826"></span><span>          </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span>
</span><span id="line-827"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-type">failWith</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#InvalidCCallImpent"><span class="hs-identifier hs-type">InvalidCCallImpent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772924"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-829"></span><span>    </span><span id="local-6989586621682772938"><span class="annot"><span class="annottext">fromtxt :: FastString
</span><a href="#local-6989586621682772938"><span class="hs-identifier hs-var hs-var">fromtxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772924"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-830"></span><span>    </span><span id="local-6989586621682772931"><span class="annot"><span class="annottext">mk_imp :: ForeignImport GhcPs -&gt; CvtM (ForeignDecl GhcPs)
</span><a href="#local-6989586621682772931"><span class="hs-identifier hs-var hs-var">mk_imp</span></a></span></span><span> </span><span id="local-6989586621682772943"><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621682772943"><span class="hs-identifier hs-var">impspec</span></a></span></span><span>
</span><span id="line-831"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772944"><span class="annot"><a href="#local-6989586621682772944"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772925"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-832"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772945"><span class="annot"><a href="#local-6989586621682772945"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772926"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-833"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_i_ext"><span class="hs-identifier hs-var">fd_i_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-834"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772944"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-835"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772945"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-836"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_fi"><span class="hs-identifier hs-var">fd_fi</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772943"><span class="hs-identifier hs-type">impspec</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-837"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-838"></span><span>    </span><span id="local-6989586621682772935"><span class="annot"><span class="annottext">safety' :: Safety
</span><a href="#local-6989586621682772935"><span class="hs-identifier hs-var hs-var">safety'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="#local-6989586621682772923"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-839"></span><span>                     </span><span class="annot"><span class="annottext">Safety
</span><span class="hs-identifier hs-var">Unsafe</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlayRisky"><span class="hs-identifier hs-var">PlayRisky</span></a></span><span>
</span><span id="line-840"></span><span>                     </span><span class="annot"><span class="annottext">Safety
</span><span class="hs-identifier hs-var">Safe</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlaySafe"><span class="hs-identifier hs-var">PlaySafe</span></a></span><span>
</span><span id="line-841"></span><span>                     </span><span class="annot"><span class="annottext">Safety
</span><span class="hs-identifier hs-var">Interruptible</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlayInterruptible"><span class="hs-identifier hs-var">PlayInterruptible</span></a></span><span>
</span><span id="line-842"></span><span>
</span><span id="line-843"></span><span class="annot"><a href="GHC.ThToHs.html#cvtForD"><span class="hs-identifier hs-var">cvtForD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExportF</span></span><span> </span><span id="local-6989586621682772958"><span class="annot"><span class="annottext">Callconv
</span><a href="#local-6989586621682772958"><span class="hs-identifier hs-var">callconv</span></a></span></span><span> </span><span id="local-6989586621682772959"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772959"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621682772960"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772960"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772961"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682772961"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682772962"><span class="annot"><a href="#local-6989586621682772962"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772960"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-845"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772963"><span class="annot"><a href="#local-6989586621682772963"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772961"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-846"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682772964"><span class="annot"><a href="#local-6989586621682772964"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-type">getL</span></a></span><span>
</span><span id="line-847"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772965"><span class="annot"><a href="#local-6989586621682772965"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; EpaLocation
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682772964"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-848"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772966"><span class="annot"><a href="#local-6989586621682772966"><span class="hs-identifier hs-var hs-var">astxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682772959"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-849"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772967"><span class="annot"><a href="#local-6989586621682772967"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCExport GhcPs -&gt; XRec GhcPs CExportSpec -&gt; ForeignExport GhcPs
forall pass.
XCExport pass -&gt; XRec pass CExportSpec -&gt; ForeignExport pass
</span><a href="Language.Haskell.Syntax.Decls.html#CExport"><span class="hs-identifier hs-var">CExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; SourceText -&gt; GenLocated EpaLocation SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621682772965"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682772966"><span class="hs-identifier hs-var">astxt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; CExportSpec -&gt; GenLocated EpaLocation CExportSpec
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621682772965"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; CCallConv -&gt; CExportSpec
</span><a href="GHC.Types.ForeignCall.html#CExportStatic"><span class="hs-identifier hs-var">CExportStatic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682772966"><span class="hs-identifier hs-var">astxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span>                                                </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682772966"><span class="hs-identifier hs-var">astxt</span></a></span><span>
</span><span id="line-851"></span><span>                                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Callconv -&gt; CCallConv
</span><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var">cvt_conv</span></a></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><a href="#local-6989586621682772958"><span class="hs-identifier hs-var">callconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-852"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_e_ext"><span class="hs-identifier hs-var">fd_e_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-853"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772962"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-854"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772963"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-855"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#fd_fe"><span class="hs-identifier hs-var">fd_fe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682772967"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-type">cvt_conv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Callconv</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-858"></span><span id="cvt_conv"><span class="annot"><span class="annottext">cvt_conv :: Callconv -&gt; CCallConv
</span><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var hs-var">cvt_conv</span></a></span></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><span class="hs-identifier hs-var">TH.CCall</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span>
</span><span id="line-859"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var">cvt_conv</span></a></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><span class="hs-identifier hs-var">TH.StdCall</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#StdCallConv"><span class="hs-identifier hs-var">StdCallConv</span></a></span><span>
</span><span id="line-860"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var">cvt_conv</span></a></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><span class="hs-identifier hs-var">TH.CApi</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span>
</span><span id="line-861"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var">cvt_conv</span></a></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><span class="hs-identifier hs-var">TH.Prim</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span>
</span><span id="line-862"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_conv"><span class="hs-identifier hs-var">cvt_conv</span></a></span><span> </span><span class="annot"><span class="annottext">Callconv
</span><span class="hs-identifier hs-var">TH.JavaScript</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span>
</span><span id="line-863"></span><span>
</span><span id="line-864"></span><span class="hs-comment">------------------------------------------</span><span>
</span><span id="line-865"></span><span class="hs-comment">--              Pragmas</span><span>
</span><span id="line-866"></span><span class="hs-comment">------------------------------------------</span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-type">cvtPragmaD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pragma</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span id="cvtPragmaD"><span class="annot"><span class="annottext">cvtPragmaD :: Pragma -&gt; CvtM' ConversionFailReason (Maybe (LHsDecl GhcPs))
</span><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var hs-var">cvtPragmaD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InlineP</span></span><span> </span><span id="local-6989586621682772982"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772982"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682772983"><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682772983"><span class="hs-identifier hs-var">inline</span></a></span></span><span> </span><span id="local-6989586621682772984"><span class="annot"><span class="annottext">RuleMatch
</span><a href="#local-6989586621682772984"><span class="hs-identifier hs-var">rm</span></a></span></span><span> </span><span id="local-6989586621682772985"><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682772985"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- NB: Use vcNameN here, which works for both the variable namespace</span><span>
</span><span id="line-871"></span><span>         </span><span class="hs-comment">-- (e.g., `INLINE`d functions) and the constructor namespace</span><span>
</span><span id="line-872"></span><span>         </span><span class="hs-comment">-- (e.g., `INLINE`d pattern synonyms, cf. #23203)</span><span>
</span><span id="line-873"></span><span>         </span><span id="local-6989586621682772986"><span class="annot"><a href="#local-6989586621682772986"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vcNameN"><span class="hs-identifier hs-var">vcNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682772982"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-874"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772987"><span class="annot"><a href="#local-6989586621682772987"><span class="hs-identifier hs-var hs-var">dflt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Inline -&gt; Activation
</span><a href="GHC.ThToHs.html#dfltActivation"><span class="hs-identifier hs-var">dfltActivation</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682772983"><span class="hs-identifier hs-var">inline</span></a></span><span>
</span><span id="line-875"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772989"><span class="annot"><a href="#local-6989586621682772989"><span class="hs-identifier hs-var hs-var">src</span></a></span></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.NoInline</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# NOINLINE&quot;</span></span><span>
</span><span id="line-876"></span><span>             </span><span class="annot"><a href="#local-6989586621682772989"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inline</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# INLINE&quot;</span></span><span>
</span><span id="line-877"></span><span>             </span><span class="annot"><a href="#local-6989586621682772989"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inlinable</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# INLINABLE&quot;</span></span><span>
</span><span id="line-878"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682772990"><span class="annot"><a href="#local-6989586621682772990"><span class="hs-identifier hs-var hs-var">ip</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Inline -&gt; SourceText
</span><a href="#local-6989586621682772993"><span class="hs-identifier hs-var">toSrcTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682772983"><span class="hs-identifier hs-var">inline</span></a></span><span>
</span><span id="line-879"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Inline -&gt; SourceText -&gt; InlineSpec
</span><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-var">cvtInline</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682772983"><span class="hs-identifier hs-var">inline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Inline -&gt; SourceText
</span><a href="#local-6989586621682772993"><span class="hs-identifier hs-var">toSrcTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682772983"><span class="hs-identifier hs-var">inline</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-880"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatch -&gt; RuleMatchInfo
</span><a href="GHC.ThToHs.html#cvtRuleMatch"><span class="hs-identifier hs-var">cvtRuleMatch</span></a></span><span> </span><span class="annot"><span class="annottext">RuleMatch
</span><a href="#local-6989586621682772984"><span class="hs-identifier hs-var">rm</span></a></span><span>
</span><span id="line-881"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phases -&gt; Activation -&gt; Activation
</span><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var">cvtPhases</span></a></span><span> </span><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682772985"><span class="hs-identifier hs-var">phases</span></a></span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621682772987"><span class="hs-identifier hs-var">dflt</span></a></span><span>
</span><span id="line-882"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe SumAlt
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SumAlt
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-883"></span><span>                    </span><span class="hs-keyword">where</span><span>
</span><span id="line-884"></span><span>                     </span><span id="local-6989586621682772993"><span class="annot"><span class="annottext">toSrcTxt :: Inline -&gt; SourceText
</span><a href="#local-6989586621682772993"><span class="hs-identifier hs-var hs-var">toSrcTxt</span></a></span></span><span> </span><span id="local-6989586621682773001"><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773001"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Inline -&gt; FastString
</span><a href="#local-6989586621682772989"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773001"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-885"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772986"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682772990"><span class="hs-identifier hs-type">ip</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-886"></span><span>
</span><span id="line-887"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OpaqueP</span></span><span> </span><span id="local-6989586621682773004"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773004"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-888"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773005"><span class="annot"><a href="#local-6989586621682773005"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773004"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-889"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773006"><span class="annot"><a href="#local-6989586621682773006"><span class="hs-identifier hs-var hs-var">ip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773007"><span class="hs-identifier hs-var">srcTxt</span></a></span><span>
</span><span id="line-890"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#Opaque"><span class="hs-identifier hs-var">Opaque</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773007"><span class="hs-identifier hs-var">srcTxt</span></a></span><span>
</span><span id="line-891"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#FunLike"><span class="hs-identifier hs-var">Hs.FunLike</span></a></span><span>
</span><span id="line-892"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-893"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe SumAlt
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SumAlt
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-894"></span><span>                  </span><span class="hs-keyword">where</span><span>
</span><span id="line-895"></span><span>                    </span><span id="local-6989586621682773007"><span class="annot"><span class="annottext">srcTxt :: SourceText
</span><a href="#local-6989586621682773007"><span class="hs-identifier hs-var hs-var">srcTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# OPAQUE&quot;</span></span><span>
</span><span id="line-896"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773005"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773006"><span class="hs-identifier hs-type">ip</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-897"></span><span>
</span><span id="line-898"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SpecialiseP</span></span><span> </span><span id="local-6989586621682773012"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773012"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682773013"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773013"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682773014"><span class="annot"><span class="annottext">Maybe Inline
</span><a href="#local-6989586621682773014"><span class="hs-identifier hs-var">inline</span></a></span></span><span> </span><span id="local-6989586621682773015"><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682773015"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773016"><span class="annot"><a href="#local-6989586621682773016"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773012"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-900"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773017"><span class="annot"><a href="#local-6989586621682773017"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773013"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-901"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773018"><span class="annot"><a href="#local-6989586621682773018"><span class="hs-identifier hs-var hs-var">src</span></a></span></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.NoInline</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# SPECIALISE NOINLINE&quot;</span></span><span>
</span><span id="line-902"></span><span>             </span><span class="annot"><a href="#local-6989586621682773018"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inline</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# SPECIALISE INLINE&quot;</span></span><span>
</span><span id="line-903"></span><span>             </span><span class="annot"><a href="#local-6989586621682773018"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inlinable</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# SPECIALISE INLINE&quot;</span></span><span>
</span><span id="line-904"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682773019"><span class="annot"><a href="#local-6989586621682773019"><span class="hs-identifier hs-var">inline'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682773020"><span class="annot"><a href="#local-6989586621682773020"><span class="hs-identifier hs-var">dflt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682773021"><span class="annot"><a href="#local-6989586621682773021"><span class="hs-identifier hs-var">srcText</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682773014"><span class="hs-identifier hs-type">inline</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-905"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773022"><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773022"><span class="hs-identifier hs-var">inline1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Inline -&gt; SourceText -&gt; InlineSpec
</span><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-var">cvtInline</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773022"><span class="hs-identifier hs-var">inline1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Inline -&gt; SourceText
</span><a href="#local-6989586621682773023"><span class="hs-identifier hs-var">toSrcTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773022"><span class="hs-identifier hs-var">inline1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Inline -&gt; Activation
</span><a href="GHC.ThToHs.html#dfltActivation"><span class="hs-identifier hs-var">dfltActivation</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773022"><span class="hs-identifier hs-var">inline1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-906"></span><span>                                </span><span class="annot"><span class="annottext">Inline -&gt; SourceText
</span><a href="#local-6989586621682773023"><span class="hs-identifier hs-var">toSrcTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773022"><span class="hs-identifier hs-var">inline1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-907"></span><span>               </span><span class="annot"><span class="annottext">Maybe Inline
</span><span class="hs-identifier hs-var">Nothing</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InlineSpec
</span><a href="GHC.Types.Basic.html#NoUserInlinePrag"><span class="hs-identifier hs-var">NoUserInlinePrag</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-908"></span><span>                                </span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{-# SPECIALISE&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span>               </span><span class="hs-keyword">where</span><span>
</span><span id="line-910"></span><span>                </span><span id="local-6989586621682773023"><span class="annot"><a href="#local-6989586621682773023"><span class="hs-identifier hs-var hs-var">toSrcTxt</span></a></span></span><span> </span><span id="local-6989586621682773026"><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773026"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Inline -&gt; FastString
</span><a href="#local-6989586621682773018"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><a href="#local-6989586621682773026"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-911"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773027"><span class="annot"><a href="#local-6989586621682773027"><span class="hs-identifier hs-var hs-var">ip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773021"><span class="hs-identifier hs-var">srcText</span></a></span><span>
</span><span id="line-912"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621682773019"><span class="hs-identifier hs-var">inline'</span></a></span><span>
</span><span id="line-913"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#FunLike"><span class="hs-identifier hs-var">Hs.FunLike</span></a></span><span>
</span><span id="line-914"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phases -&gt; Activation -&gt; Activation
</span><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var">cvtPhases</span></a></span><span> </span><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682773015"><span class="hs-identifier hs-var">phases</span></a></span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621682773020"><span class="hs-identifier hs-var">dflt</span></a></span><span>
</span><span id="line-915"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe SumAlt
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SumAlt
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-916"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773016"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773017"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682773027"><span class="hs-identifier hs-type">ip</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SpecialiseInstP</span></span><span> </span><span id="local-6989586621682773030"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773030"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773031"><span class="annot"><a href="#local-6989586621682773031"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773030"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-920"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-921"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-type">SpecInstSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;{-# SPECIALISE&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773031"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RuleP</span></span><span> </span><span id="local-6989586621682773034"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773034"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682773035"><span class="annot"><span class="annottext">Maybe [TyVarBndr ()]
</span><a href="#local-6989586621682773035"><span class="hs-identifier hs-var">ty_bndrs</span></a></span></span><span> </span><span id="local-6989586621682773036"><span class="annot"><span class="annottext">[RuleBndr]
</span><a href="#local-6989586621682773036"><span class="hs-identifier hs-var">tm_bndrs</span></a></span></span><span> </span><span id="local-6989586621682773037"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773037"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621682773038"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773038"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621682773039"><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682773039"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773040"><span class="annot"><span class="annottext">nm' :: FastString
</span><a href="#local-6989586621682773040"><span class="hs-identifier hs-var hs-var hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773034"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-925"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773041"><span class="annot"><a href="#local-6989586621682773041"><span class="hs-identifier hs-var">rd_name'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CvtM (LocatedAn NoEpAnns FastString)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682773040"><span class="hs-identifier hs-var">nm'</span></a></span><span>
</span><span id="line-926"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773042"><span class="annot"><a href="#local-6989586621682773042"><span class="hs-identifier hs-var hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phases -&gt; Activation -&gt; Activation
</span><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var">cvtPhases</span></a></span><span> </span><span class="annot"><span class="annottext">Phases
</span><a href="#local-6989586621682773039"><span class="hs-identifier hs-var">phases</span></a></span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span>
</span><span id="line-927"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773043"><span class="annot"><a href="#local-6989586621682773043"><span class="hs-identifier hs-var">ty_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-type">cvtTvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773035"><span class="hs-identifier hs-type">ty_bndrs</span></a></span><span>
</span><span id="line-928"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773044"><span class="annot"><a href="#local-6989586621682773044"><span class="hs-identifier hs-var">tm_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtRuleBndr"><span class="hs-identifier hs-type">cvtRuleBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773036"><span class="hs-identifier hs-type">tm_bndrs</span></a></span><span>
</span><span id="line-929"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773046"><span class="annot"><a href="#local-6989586621682773046"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773037"><span class="hs-identifier hs-type">lhs</span></a></span><span>
</span><span id="line-930"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773047"><span class="annot"><a href="#local-6989586621682773047"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773038"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-931"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773048"><span class="annot"><a href="#local-6989586621682773048"><span class="hs-identifier hs-var">rule</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-932"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsRule"><span class="hs-identifier hs-type">HsRule</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_ext"><span class="hs-identifier hs-var">rd_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-type">quotedSourceText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773034"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_name"><span class="hs-identifier hs-var">rd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773041"><span class="hs-identifier hs-type">rd_name'</span></a></span><span>
</span><span id="line-934"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_act"><span class="hs-identifier hs-var">rd_act</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773042"><span class="hs-identifier hs-type">act</span></a></span><span>
</span><span id="line-935"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_tyvs"><span class="hs-identifier hs-var">rd_tyvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773043"><span class="hs-identifier hs-type">ty_bndrs'</span></a></span><span>
</span><span id="line-936"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_tmvs"><span class="hs-identifier hs-var">rd_tmvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773044"><span class="hs-identifier hs-type">tm_bndrs'</span></a></span><span>
</span><span id="line-937"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_lhs"><span class="hs-identifier hs-var">rd_lhs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773046"><span class="hs-identifier hs-type">lhs'</span></a></span><span>
</span><span id="line-938"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rd_rhs"><span class="hs-identifier hs-var">rd_rhs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773047"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-939"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleD"><span class="hs-identifier hs-type">Hs.RuleD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-940"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsRules"><span class="hs-identifier hs-type">HsRules</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rds_ext"><span class="hs-identifier hs-var">rds_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;{-# RULES&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-941"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rds_rules"><span class="hs-identifier hs-var">rds_rules</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773048"><span class="hs-identifier hs-type">rule</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-942"></span><span>
</span><span id="line-943"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnnP</span></span><span> </span><span id="local-6989586621682773062"><span class="annot"><span class="annottext">AnnTarget
</span><a href="#local-6989586621682773062"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span id="local-6989586621682773063"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773063"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773064"><span class="annot"><a href="#local-6989586621682773064"><span class="hs-identifier hs-var">exp'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773063"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-947"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773065"><span class="annot"><a href="#local-6989586621682773065"><span class="hs-identifier hs-var">target'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682773062"><span class="hs-identifier hs-type">target</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-948"></span><span>         </span><span class="annot"><span class="annottext">AnnTarget
</span><span class="hs-identifier hs-var">ModuleAnnotation</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnProvenance GhcPs
-&gt; CvtM' ConversionFailReason (AnnProvenance GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">AnnProvenance GhcPs
forall pass. AnnProvenance pass
</span><a href="Language.Haskell.Syntax.Decls.html#ModuleAnnProvenance"><span class="hs-identifier hs-var">ModuleAnnProvenance</span></a></span><span>
</span><span id="line-949"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeAnnotation</span></span><span> </span><span id="local-6989586621682773069"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773069"><span class="hs-identifier hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-950"></span><span>           </span><span id="local-6989586621682773070"><span class="annot"><a href="#local-6989586621682773070"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var">tconName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773069"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-951"></span><span>           </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TypeAnnProvenance"><span class="hs-identifier hs-type">TypeAnnProvenance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773070"><span class="hs-identifier hs-type">n'</span></a></span><span>
</span><span id="line-952"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">ValueAnnotation</span></span><span> </span><span id="local-6989586621682773074"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773074"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-953"></span><span>           </span><span id="local-6989586621682773075"><span class="annot"><a href="#local-6989586621682773075"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vcName"><span class="hs-identifier hs-var">vcName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773074"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-954"></span><span>           </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValueAnnProvenance"><span class="hs-identifier hs-type">ValueAnnProvenance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773075"><span class="hs-identifier hs-type">n'</span></a></span><span>
</span><span id="line-955"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#AnnD"><span class="hs-identifier hs-type">Hs.AnnD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-956"></span><span>                     </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsAnnotation"><span class="hs-identifier hs-type">HsAnnotation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;{-# ANN&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773065"><span class="hs-identifier hs-type">target'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773064"><span class="hs-identifier hs-type">exp'</span></a></span><span>
</span><span id="line-957"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-958"></span><span>
</span><span id="line-959"></span><span class="hs-comment">-- NB: This is the only place in GHC.ThToHs that makes use of the `setL`</span><span>
</span><span id="line-960"></span><span class="hs-comment">-- function. See Note [Source locations within TH splices].</span><span>
</span><span id="line-961"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LineP</span></span><span> </span><span id="local-6989586621682773081"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773081"><span class="hs-identifier hs-var">line</span></a></span></span><span> </span><span id="local-6989586621682773082"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773082"><span class="hs-identifier hs-var">file</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#setL"><span class="hs-identifier hs-var">setL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcLocSpan"><span class="hs-identifier hs-var">srcLocSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SumAlt -&gt; SumAlt -&gt; SrcLoc
</span><a href="GHC.Types.SrcLoc.html#mkSrcLoc"><span class="hs-identifier hs-var">mkSrcLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773082"><span class="hs-identifier hs-var">file</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773081"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-963"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; CvtM'
     ConversionFailReason
     (Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-964"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-965"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CompleteP</span></span><span> </span><span id="local-6989586621682773086"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682773086"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621682773087"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621682773087"><span class="hs-identifier hs-var">mty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773088"><span class="annot"><a href="#local-6989586621682773088"><span class="hs-identifier hs-var">cls'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; CvtM (LocatedN RdrName))
-&gt; [Name] -&gt; CvtM' ConversionFailReason [LocatedN RdrName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682773086"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-967"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773089"><span class="annot"><a href="#local-6989586621682773089"><span class="hs-identifier hs-var">mty'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-type">tconNameN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773087"><span class="hs-identifier hs-type">mty</span></a></span><span>
</span><span id="line-968"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-969"></span><span>                   </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-type">CompleteMatchSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-type">NoSourceText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773088"><span class="hs-identifier hs-type">cls'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773089"><span class="hs-identifier hs-type">mty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-970"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPragmaD"><span class="hs-identifier hs-var">cvtPragmaD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SCCP</span></span><span> </span><span id="local-6989586621682773092"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773092"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682773093"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621682773093"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-971"></span><span>  </span><span id="local-6989586621682773094"><span class="annot"><a href="#local-6989586621682773094"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vcNameN"><span class="hs-identifier hs-var">vcNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773092"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-972"></span><span>  </span><span id="local-6989586621682773095"><span class="annot"><a href="#local-6989586621682773095"><span class="hs-identifier hs-var">str'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682773096"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773096"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-973"></span><span>    </span><span class="annot"><span class="annottext">StringLiteral
-&gt; CvtM' ConversionFailReason (LocatedAn NoEpAnns StringLiteral)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(StringLiteral
 -&gt; CvtM' ConversionFailReason (LocatedAn NoEpAnns StringLiteral))
-&gt; StringLiteral
-&gt; CvtM' ConversionFailReason (LocatedAn NoEpAnns StringLiteral)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SourceText
-&gt; FastString -&gt; Maybe NoCommentsLocation -&gt; StringLiteral
</span><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773096"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe NoCommentsLocation
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773093"><span class="hs-identifier hs-type">str</span></a></span><span>
</span><span id="line-974"></span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#returnJustLA"><span class="hs-identifier hs-type">returnJustLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">Hs.SigD</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-975"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;{-# SCC&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773094"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773095"><span class="hs-identifier hs-type">str'</span></a></span><span>
</span><span id="line-976"></span><span>
</span><span id="line-977"></span><span class="annot"><a href="GHC.ThToHs.html#dfltActivation"><span class="hs-identifier hs-type">dfltActivation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Inline</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span>
</span><span id="line-978"></span><span id="dfltActivation"><span class="annot"><span class="annottext">dfltActivation :: Inline -&gt; Activation
</span><a href="GHC.ThToHs.html#dfltActivation"><span class="hs-identifier hs-var hs-var">dfltActivation</span></a></span></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.NoInline</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-979"></span><span class="annot"><a href="GHC.ThToHs.html#dfltActivation"><span class="hs-identifier hs-var">dfltActivation</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span>
</span><span id="line-980"></span><span>
</span><span id="line-981"></span><span class="annot"><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-type">cvtInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Inline</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlineSpec"><span class="hs-identifier hs-type">Hs.InlineSpec</span></a></span><span>
</span><span id="line-982"></span><span id="cvtInline"><span class="annot"><span class="annottext">cvtInline :: Inline -&gt; SourceText -&gt; InlineSpec
</span><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-var hs-var">cvtInline</span></a></span></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.NoInline</span></span><span>   </span><span id="local-6989586621682773099"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773099"><span class="hs-identifier hs-var">srcText</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#NoInline"><span class="hs-identifier hs-var">Hs.NoInline</span></a></span><span>  </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773099"><span class="hs-identifier hs-var">srcText</span></a></span><span>
</span><span id="line-983"></span><span class="annot"><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-var">cvtInline</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inline</span></span><span>     </span><span id="local-6989586621682773101"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773101"><span class="hs-identifier hs-var">srcText</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#Inline"><span class="hs-identifier hs-var">Hs.Inline</span></a></span><span>    </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773101"><span class="hs-identifier hs-var">srcText</span></a></span><span>
</span><span id="line-984"></span><span class="annot"><a href="GHC.ThToHs.html#cvtInline"><span class="hs-identifier hs-var">cvtInline</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">TH.Inlinable</span></span><span>  </span><span id="local-6989586621682773103"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773103"><span class="hs-identifier hs-var">srcText</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#Inlinable"><span class="hs-identifier hs-var">Hs.Inlinable</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621682773103"><span class="hs-identifier hs-var">srcText</span></a></span><span>
</span><span id="line-985"></span><span>
</span><span id="line-986"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRuleMatch"><span class="hs-identifier hs-type">cvtRuleMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleMatch</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a></span><span>
</span><span id="line-987"></span><span id="cvtRuleMatch"><span class="annot"><span class="annottext">cvtRuleMatch :: RuleMatch -&gt; RuleMatchInfo
</span><a href="GHC.ThToHs.html#cvtRuleMatch"><span class="hs-identifier hs-var hs-var">cvtRuleMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">RuleMatch
</span><span class="hs-identifier hs-var">TH.ConLike</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#ConLike"><span class="hs-identifier hs-var">Hs.ConLike</span></a></span><span>
</span><span id="line-988"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRuleMatch"><span class="hs-identifier hs-var">cvtRuleMatch</span></a></span><span> </span><span class="annot"><span class="annottext">RuleMatch
</span><span class="hs-identifier hs-var">TH.FunLike</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#FunLike"><span class="hs-identifier hs-var">Hs.FunLike</span></a></span><span>
</span><span id="line-989"></span><span>
</span><span id="line-990"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-type">cvtPhases</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span>
</span><span id="line-991"></span><span id="cvtPhases"><span class="annot"><span class="annottext">cvtPhases :: Phases -&gt; Activation -&gt; Activation
</span><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var hs-var">cvtPhases</span></a></span></span><span> </span><span class="annot"><span class="annottext">Phases
</span><span class="hs-identifier hs-var">AllPhases</span></span><span>       </span><span id="local-6989586621682773106"><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621682773106"><span class="hs-identifier hs-var">dflt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621682773106"><span class="hs-identifier hs-var">dflt</span></a></span><span>
</span><span id="line-992"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var">cvtPhases</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FromPhase</span></span><span> </span><span id="local-6989586621682773107"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773107"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">Activation
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; SumAlt -&gt; Activation
</span><a href="GHC.Types.Basic.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773107"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-993"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPhases"><span class="hs-identifier hs-var">cvtPhases</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BeforePhase</span></span><span> </span><span id="local-6989586621682773109"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773109"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Activation
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; SumAlt -&gt; Activation
</span><a href="GHC.Types.Basic.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773109"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-994"></span><span>
</span><span id="line-995"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRuleBndr"><span class="hs-identifier hs-type">cvtRuleBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleBndr</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">Hs.LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span id="cvtRuleBndr"><span class="annot"><span class="annottext">cvtRuleBndr :: RuleBndr -&gt; CvtM (LRuleBndr GhcPs)
</span><a href="GHC.ThToHs.html#cvtRuleBndr"><span class="hs-identifier hs-var hs-var">cvtRuleBndr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RuleVar</span></span><span> </span><span id="local-6989586621682773112"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773112"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773113"><span class="annot"><a href="#local-6989586621682773113"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773112"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-998"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndr"><span class="hs-identifier hs-type">Hs.RuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773113"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-999"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRuleBndr"><span class="hs-identifier hs-var">cvtRuleBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypedRuleVar</span></span><span> </span><span id="local-6989586621682773116"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773116"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682773117"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773117"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1000"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773118"><span class="annot"><a href="#local-6989586621682773118"><span class="hs-identifier hs-var">n'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773116"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1001"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773119"><span class="annot"><a href="#local-6989586621682773119"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773117"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1002"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndrSig"><span class="hs-identifier hs-type">Hs.RuleBndrSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773118"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-type">mkHsPatSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773119"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1003"></span><span>
</span><span id="line-1004"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-1005"></span><span class="hs-comment">--              Declarations</span><span>
</span><span id="line-1006"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-1007"></span><span>
</span><span id="line-1008"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-type">cvtLocalDecs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#THDeclDescriptor"><span class="hs-identifier hs-type">THDeclDescriptor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1009"></span><span id="cvtLocalDecs"><span class="annot"><span class="annottext">cvtLocalDecs :: THDeclDescriptor -&gt; [Dec] -&gt; CvtM (HsLocalBinds GhcPs)
</span><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-var hs-var">cvtLocalDecs</span></a></span></span><span> </span><span id="local-6989586621682773122"><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="#local-6989586621682773122"><span class="hs-identifier hs-var">declDescr</span></a></span></span><span> </span><span id="local-6989586621682773123"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773123"><span class="hs-identifier hs-var">ds</span></a></span></span><span>
</span><span id="line-1010"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Dec -&gt; Either (String, Exp) Dec)
-&gt; [Dec] -&gt; ([(String, Exp)], [Dec])
forall a b c. (a -&gt; Either b c) -&gt; [a] -&gt; ([b], [c])
</span><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-var">partitionWith</span></a></span><span> </span><span class="annot"><span class="annottext">Dec -&gt; Either (String, Exp) Dec
</span><a href="GHC.ThToHs.html#is_ip_bind"><span class="hs-identifier hs-var">is_ip_bind</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773123"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1011"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs -&gt; CvtM (HsLocalBinds GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs -&gt; HsLocalBinds GhcPs
forall idL idR. XEmptyLocalBinds idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-var">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1013"></span><span>        </span><span id="local-6989586621682773125"><span class="annot"><a href="#local-6989586621682773125"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; CvtM [LHsDecl GhcPs]
</span><a href="GHC.ThToHs.html#cvtDecs"><span class="hs-identifier hs-var">cvtDecs</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773123"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-1014"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682773126"><span class="annot"><a href="#local-6989586621682773126"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682773127"><span class="annot"><a href="#local-6989586621682773127"><span class="hs-identifier hs-var">prob_sigs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_bind"><span class="hs-identifier hs-type">is_bind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773125"><span class="hs-identifier hs-type">ds'</span></a></span><span>
</span><span id="line-1015"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682773128"><span class="annot"><a href="#local-6989586621682773128"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682773129"><span class="annot"><a href="#local-6989586621682773129"><span class="hs-identifier hs-var">bads</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#partitionWith"><span class="hs-identifier hs-type">partitionWith</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#is_sig"><span class="hs-identifier hs-type">is_sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773127"><span class="hs-identifier hs-type">prob_sigs</span></a></span><span>
</span><span id="line-1016"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-type">nonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773129"><span class="hs-identifier hs-type">bads</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682773130"><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621682773130"><span class="hs-identifier hs-var">bad_decls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1017"></span><span>          </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM' ConversionFailReason (ZonkAny 2)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">THDeclDescriptor -&gt; IllegalDecls -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalDeclaration"><span class="hs-identifier hs-var">IllegalDeclaration</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="#local-6989586621682773122"><span class="hs-identifier hs-var">declDescr</span></a></span><span> </span><span class="annot"><span class="annottext">(IllegalDecls -&gt; ConversionFailReason)
-&gt; IllegalDecls -&gt; ConversionFailReason
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LHsDecl GhcPs) -&gt; IllegalDecls
</span><a href="GHC.Tc.Errors.Types.html#IllegalDecls"><span class="hs-identifier hs-var">IllegalDecls</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LHsDecl GhcPs)
NonEmpty (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621682773130"><span class="hs-identifier hs-var">bad_decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1018"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-type">NoAnnSortKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773126"><span class="hs-identifier hs-type">binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773128"><span class="hs-identifier hs-type">sigs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682773133"><span class="annot"><span class="annottext">[(String, Exp)]
</span><a href="#local-6989586621682773133"><span class="hs-identifier hs-var">ip_binds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1020"></span><span>        </span><span id="local-6989586621682773134"><span class="annot"><a href="#local-6989586621682773134"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((String, Exp)
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (IPBind GhcPs)))
-&gt; [(String, Exp)]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (IPBind GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String
 -&gt; Exp
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (IPBind GhcPs)))
-&gt; (String, Exp)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (IPBind GhcPs))
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp -&gt; CvtM (LIPBind GhcPs)
String
-&gt; Exp
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (IPBind GhcPs))
</span><a href="GHC.ThToHs.html#cvtImplicitParamBind"><span class="hs-identifier hs-var">cvtImplicitParamBind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, Exp)]
</span><a href="#local-6989586621682773133"><span class="hs-identifier hs-var">ip_binds</span></a></span><span>
</span><span id="line-1021"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-type">IPBinds</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773134"><span class="hs-identifier hs-type">binds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1022"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String, Exp)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(String, Exp)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dec
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Dec]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1023"></span><span>        </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM (HsLocalBinds GhcPs)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#ImplicitParamsWithOtherBinds"><span class="hs-identifier hs-var">ImplicitParamsWithOtherBinds</span></a></span><span>
</span><span id="line-1024"></span><span>
</span><span id="line-1025"></span><span class="annot"><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-type">cvtClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsMatchContextPs"><span class="hs-identifier hs-type">HsMatchContextPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">Hs.LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1026"></span><span id="cvtClause"><span class="annot"><span class="annottext">cvtClause :: HsMatchContextPs -&gt; Clause -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-var hs-var">cvtClause</span></a></span></span><span> </span><span id="local-6989586621682773140"><span class="annot"><span class="annottext">HsMatchContextPs
</span><a href="#local-6989586621682773140"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Clause</span></span><span> </span><span id="local-6989586621682773141"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773141"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621682773142"><span class="annot"><span class="annottext">Body
</span><a href="#local-6989586621682773142"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span id="local-6989586621682773143"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773143"><span class="hs-identifier hs-var">wheres</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773144"><span class="annot"><a href="#local-6989586621682773144"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; CvtM [LPat GhcPs]
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773141"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1028"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773146"><span class="annot"><a href="#local-6989586621682773146"><span class="hs-identifier hs-var hs-var">pps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcPs)
 -&gt; GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; LPat GhcPs -&gt; LPat GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621682773144"><span class="hs-identifier hs-var">ps'</span></a></span><span>
</span><span id="line-1029"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773148"><span class="annot"><a href="#local-6989586621682773148"><span class="hs-identifier hs-var">g'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-type">cvtGuard</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773142"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1030"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773149"><span class="annot"><a href="#local-6989586621682773149"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-type">cvtLocalDecs</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#WhereClause"><span class="hs-identifier hs-type">WhereClause</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773143"><span class="hs-identifier hs-type">wheres</span></a></span><span>
</span><span id="line-1031"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Hs.Match</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773140"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-type">noLocA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773146"><span class="hs-identifier hs-type">pps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-type">emptyComments</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773148"><span class="hs-identifier hs-type">g'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773149"><span class="hs-identifier hs-type">ds'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1032"></span><span>
</span><span id="line-1033"></span><span class="annot"><a href="GHC.ThToHs.html#cvtImplicitParamBind"><span class="hs-identifier hs-type">cvtImplicitParamBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LIPBind"><span class="hs-identifier hs-type">LIPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1034"></span><span id="cvtImplicitParamBind"><span class="annot"><span class="annottext">cvtImplicitParamBind :: String -&gt; Exp -&gt; CvtM (LIPBind GhcPs)
</span><a href="GHC.ThToHs.html#cvtImplicitParamBind"><span class="hs-identifier hs-var hs-var">cvtImplicitParamBind</span></a></span></span><span> </span><span id="local-6989586621682773152"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773152"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682773153"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773153"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1035"></span><span>    </span><span id="local-6989586621682773154"><span class="annot"><a href="#local-6989586621682773154"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM HsIPName -&gt; CvtM (GenLocated SrcSpan HsIPName)
forall a. CvtM a -&gt; CvtM (Located a)
</span><a href="GHC.ThToHs.html#wrapL"><span class="hs-identifier hs-var">wrapL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; CvtM HsIPName
</span><a href="GHC.ThToHs.html#ipName"><span class="hs-identifier hs-var">ipName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773152"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1036"></span><span>    </span><span id="local-6989586621682773156"><span class="annot"><a href="#local-6989586621682773156"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773153"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1037"></span><span>    </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-type">reLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773154"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773156"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-1040"></span><span class="hs-comment">--              Expressions</span><span>
</span><span id="line-1041"></span><span class="hs-comment">-------------------------------------------------------------------</span><span>
</span><span id="line-1042"></span><span>
</span><span id="line-1043"></span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1044"></span><span id="cvtl"><span class="annot"><span class="annottext">cvtl :: Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var hs-var">cvtl</span></a></span></span><span> </span><span id="local-6989586621682773159"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773159"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM (HsExpr GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var">wrapLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773159"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1046"></span><span>    </span><span id="local-6989586621682773160"><span class="annot"><span class="annottext">cvt :: Exp -&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773160"><span class="hs-identifier hs-var hs-var">cvt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarE</span></span><span> </span><span id="local-6989586621682773366"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773366"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773367"><span class="annot"><a href="#local-6989586621682773367"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var">vName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773366"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773367"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1047"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConE</span></span><span> </span><span id="local-6989586621682773371"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773371"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773372"><span class="annot"><a href="#local-6989586621682773372"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#dName"><span class="hs-identifier hs-var">dName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773371"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773372"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1048"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LitE</span></span><span> </span><span id="local-6989586621682773375"><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773375"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1049"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; Bool
</span><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-var">overloadedLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773375"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Lit -&gt; CvtM (HsOverLit GhcPs))
-&gt; (HsOverLit GhcPs -&gt; HsExpr GhcPs)
-&gt; (HsOverLit GhcPs -&gt; Bool)
-&gt; CvtM (HsExpr GhcPs)
forall (l :: * -&gt; *).
(Lit -&gt; CvtM (l GhcPs))
-&gt; (l GhcPs -&gt; HsExpr GhcPs)
-&gt; (l GhcPs -&gt; Bool)
-&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (HsOverLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var">cvtOverLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XOverLitE GhcPs -&gt; HsOverLit GhcPs -&gt; HsExpr GhcPs
forall p. XOverLitE p -&gt; HsOverLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">XOverLitE GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1050"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; HsOverLit GhcPs -&gt; Bool
forall x. PprPrec -&gt; HsOverLit x -&gt; Bool
</span><a href="GHC.Hs.Lit.html#hsOverLitNeedsParens"><span class="hs-identifier hs-var">hsOverLitNeedsParens</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1051"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Lit -&gt; CvtM (HsLit GhcPs))
-&gt; (HsLit GhcPs -&gt; HsExpr GhcPs)
-&gt; (HsLit GhcPs -&gt; Bool)
-&gt; CvtM (HsExpr GhcPs)
forall (l :: * -&gt; *).
(Lit -&gt; CvtM (l GhcPs))
-&gt; (l GhcPs -&gt; HsExpr GhcPs)
-&gt; (l GhcPs -&gt; Bool)
-&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (HsLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitE GhcPs -&gt; HsLit GhcPs -&gt; HsExpr GhcPs
forall p. XLitE p -&gt; HsLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a></span><span> </span><span class="annot"><span class="annottext">XLitE GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1052"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; HsLit GhcPs -&gt; Bool
forall x. PprPrec -&gt; HsLit x -&gt; Bool
</span><a href="GHC.Hs.Lit.html#hsLitNeedsParens"><span class="hs-identifier hs-var">hsLitNeedsParens</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1054"></span><span>        </span><span id="local-6989586621682770872"><span class="annot"><a href="#local-6989586621682773377"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682770872"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1055"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682770872"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1056"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682770872"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1057"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1058"></span><span>        </span><span id="local-6989586621682773377"><span class="annot"><span class="annottext">go :: forall (l :: * -&gt; *).
(Lit -&gt; CvtM (l GhcPs))
-&gt; (l GhcPs -&gt; HsExpr GhcPs)
-&gt; (l GhcPs -&gt; Bool)
-&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773377"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682773388"><span class="annot"><span class="annottext">Lit -&gt; CvtM (l GhcPs)
</span><a href="#local-6989586621682773388"><span class="hs-identifier hs-var">cvt_lit</span></a></span></span><span> </span><span id="local-6989586621682773389"><span class="annot"><span class="annottext">l GhcPs -&gt; HsExpr GhcPs
</span><a href="#local-6989586621682773389"><span class="hs-identifier hs-var">mk_expr</span></a></span></span><span> </span><span id="local-6989586621682773390"><span class="annot"><span class="annottext">l GhcPs -&gt; Bool
</span><a href="#local-6989586621682773390"><span class="hs-identifier hs-var">is_compound_lit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1059"></span><span>          </span><span id="local-6989586621682773391"><span class="annot"><a href="#local-6989586621682773391"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (l GhcPs)
</span><a href="#local-6989586621682773388"><span class="hs-identifier hs-var">cvt_lit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773375"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1060"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773392"><span class="annot"><a href="#local-6989586621682773392"><span class="hs-identifier hs-var hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">l GhcPs -&gt; HsExpr GhcPs
</span><a href="#local-6989586621682773389"><span class="hs-identifier hs-var">mk_expr</span></a></span><span> </span><span class="annot"><span class="annottext">l GhcPs
</span><a href="#local-6989586621682773391"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-1061"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682773390"><span class="hs-identifier hs-type">is_compound_lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773391"><span class="hs-identifier hs-type">l'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773392"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682773392"><span class="hs-identifier hs-type">e'</span></a></span><span>
</span><span id="line-1062"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AppE</span></span><span> </span><span id="local-6989586621682773395"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773395"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682773396"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773396"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773397"><span class="annot"><a href="#local-6989586621682773397"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773395"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1063"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773400"><span class="annot"><a href="#local-6989586621682773400"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-type">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-type">appPrec</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773396"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1064"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-type">HsApp</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773397"><span class="hs-identifier hs-type">e1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773400"><span class="hs-identifier hs-type">e2'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1065"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AppTypeE</span></span><span> </span><span id="local-6989586621682773403"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773403"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773404"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773404"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773405"><span class="annot"><a href="#local-6989586621682773405"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773403"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1066"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773406"><span class="annot"><a href="#local-6989586621682773406"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-type">parenthesizeHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-type">appPrec</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773404"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-1067"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773405"><span class="hs-identifier hs-type">e'</span></a></span><span>
</span><span id="line-1068"></span><span>                                     </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-type">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773406"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1069"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LamE</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621682773409"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773409"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs)
</span><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773409"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-comment">-- Degenerate case. We convert the body as its</span><span>
</span><span id="line-1070"></span><span>                               </span><span class="hs-comment">-- own expression to avoid pretty-printing</span><span>
</span><span id="line-1071"></span><span>                               </span><span class="hs-comment">-- oddities that can result from zero-argument</span><span>
</span><span id="line-1072"></span><span>                               </span><span class="hs-comment">-- lambda expressions. See #13856.</span><span>
</span><span id="line-1073"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LamE</span></span><span> </span><span id="local-6989586621682773410"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773410"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621682773411"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773411"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773412"><span class="annot"><a href="#local-6989586621682773412"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; CvtM [LPat GhcPs]
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773410"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773413"><span class="annot"><a href="#local-6989586621682773413"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773411"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1074"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773414"><span class="annot"><a href="#local-6989586621682773414"><span class="hs-identifier hs-var hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcPs)
 -&gt; GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; LPat GhcPs -&gt; LPat GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621682773412"><span class="hs-identifier hs-var">ps'</span></a></span><span>
</span><span id="line-1075"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773415"><span class="annot"><a href="#local-6989586621682773415"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-1076"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamSingle"><span class="hs-identifier hs-type">LamSingle</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-type">mkMatchGroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773415"><span class="hs-identifier hs-type">th_origin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span>                                        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Utils.html#mkSimpleMatch"><span class="hs-identifier hs-type">mkSimpleMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamAlt"><span class="hs-identifier hs-type">LamAlt</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamSingle"><span class="hs-identifier hs-type">LamSingle</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-type">noLocA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773414"><span class="hs-identifier hs-type">pats</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773413"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-1078"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LamCaseE</span></span><span> </span><span id="local-6989586621682773421"><span class="annot"><span class="annottext">[Match]
</span><a href="#local-6989586621682773421"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773422"><span class="annot"><a href="#local-6989586621682773422"><span class="hs-identifier hs-var">ms'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Match -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; [Match]
-&gt; CvtM' ConversionFailReason [LMatch GhcPs (LHsExpr GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsMatchContextPs -&gt; Match -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtMatch"><span class="hs-identifier hs-var">cvtMatch</span></a></span><span> </span><span class="annot"><span class="annottext">(HsMatchContextPs -&gt; Match -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; HsMatchContextPs -&gt; Match -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant -&gt; HsMatchContextPs
forall fn. HsLamVariant -&gt; HsMatchContext fn
</span><a href="Language.Haskell.Syntax.Expr.html#LamAlt"><span class="hs-identifier hs-var">LamAlt</span></a></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamCase"><span class="hs-identifier hs-var">LamCase</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Match]
</span><a href="#local-6989586621682773421"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-1079"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773425"><span class="annot"><a href="#local-6989586621682773425"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-1080"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamCase"><span class="hs-identifier hs-type">LamCase</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-type">mkMatchGroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773425"><span class="hs-identifier hs-type">th_origin</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773422"><span class="hs-identifier hs-type">ms'</span></a></span><span>
</span><span id="line-1081"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-1082"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LamCasesE</span></span><span> </span><span id="local-6989586621682773427"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682773427"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1083"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682773427"><span class="hs-identifier hs-var">ms</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM (HsExpr GhcPs)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#CasesExprWithoutAlts"><span class="hs-identifier hs-var">CasesExprWithoutAlts</span></a></span><span>
</span><span id="line-1084"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773429"><span class="annot"><a href="#local-6989586621682773429"><span class="hs-identifier hs-var">ms'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; [Clause]
-&gt; CvtM' ConversionFailReason [LMatch GhcPs (LHsExpr GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsMatchContextPs -&gt; Clause -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtClause"><span class="hs-identifier hs-var">cvtClause</span></a></span><span> </span><span class="annot"><span class="annottext">(HsMatchContextPs -&gt; Clause -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; HsMatchContextPs
-&gt; Clause
-&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant -&gt; HsMatchContextPs
forall fn. HsLamVariant -&gt; HsMatchContext fn
</span><a href="Language.Haskell.Syntax.Expr.html#LamAlt"><span class="hs-identifier hs-var">LamAlt</span></a></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamCases"><span class="hs-identifier hs-var">LamCases</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682773427"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-1085"></span><span>                       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773431"><span class="annot"><a href="#local-6989586621682773431"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-1086"></span><span>                       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamCases"><span class="hs-identifier hs-type">LamCases</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-type">mkMatchGroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773431"><span class="hs-identifier hs-type">th_origin</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773429"><span class="hs-identifier hs-type">ms'</span></a></span><span>
</span><span id="line-1087"></span><span>                       </span><span class="hs-special">}</span><span>
</span><span id="line-1088"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TupE</span></span><span> </span><span id="local-6989586621682773433"><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773433"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe Exp] -&gt; Boxity -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tup"><span class="hs-identifier hs-var">cvt_tup</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773433"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span>
</span><span id="line-1089"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboxedTupE</span></span><span> </span><span id="local-6989586621682773437"><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773437"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe Exp] -&gt; Boxity -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tup"><span class="hs-identifier hs-var">cvt_tup</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773437"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span>
</span><span id="line-1090"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboxedSumE</span></span><span> </span><span id="local-6989586621682773440"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773440"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773441"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773441"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621682773442"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773442"><span class="hs-identifier hs-var">arity</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773443"><span class="annot"><a href="#local-6989586621682773443"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773440"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1091"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#unboxedSumChecks"><span class="hs-identifier hs-type">unboxedSumChecks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773441"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773442"><span class="hs-identifier hs-type">arity</span></a></span><span>
</span><span id="line-1092"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-type">ExplicitSum</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773441"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773442"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773443"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1093"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CondE</span></span><span> </span><span id="local-6989586621682773447"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773447"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773448"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773448"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682773449"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773449"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773450"><span class="annot"><a href="#local-6989586621682773450"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773447"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773451"><span class="annot"><a href="#local-6989586621682773451"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773448"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773452"><span class="annot"><a href="#local-6989586621682773452"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773449"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1094"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIf"><span class="hs-identifier hs-type">mkHsIf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773450"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773451"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773452"><span class="hs-identifier hs-type">z'</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1095"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MultiIfE</span></span><span> </span><span id="local-6989586621682773455"><span class="annot"><span class="annottext">[(Guard, Exp)]
</span><a href="#local-6989586621682773455"><span class="hs-identifier hs-var">alts</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1096"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[(Guard, Exp)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Guard, Exp)]
</span><a href="#local-6989586621682773455"><span class="hs-identifier hs-var">alts</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM (HsExpr GhcPs)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#MultiWayIfWithoutAlts"><span class="hs-identifier hs-var">MultiWayIfWithoutAlts</span></a></span><span>
</span><span id="line-1097"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773457"><span class="annot"><a href="#local-6989586621682773457"><span class="hs-identifier hs-var">alts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Guard, Exp)
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [(Guard, Exp)]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated
        EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(Guard, Exp) -&gt; CvtM (LGRHS GhcPs (LHsExpr GhcPs))
(Guard, Exp)
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="GHC.ThToHs.html#cvtpair"><span class="hs-identifier hs-var">cvtpair</span></a></span><span> </span><span class="annot"><span class="annottext">[(Guard, Exp)]
</span><a href="#local-6989586621682773455"><span class="hs-identifier hs-var">alts</span></a></span><span>
</span><span id="line-1098"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMultiIf"><span class="hs-identifier hs-type">HsMultiIf</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773457"><span class="hs-identifier hs-type">alts'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1099"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LetE</span></span><span> </span><span id="local-6989586621682773461"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773461"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621682773462"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773462"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773463"><span class="annot"><a href="#local-6989586621682773463"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor -&gt; [Dec] -&gt; CvtM (HsLocalBinds GhcPs)
</span><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-var">cvtLocalDecs</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="GHC.Tc.Errors.Types.html#LetExpression"><span class="hs-identifier hs-var">LetExpression</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773461"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-1100"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773465"><span class="annot"><a href="#local-6989586621682773465"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773462"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682773463"><span class="hs-identifier hs-type">ds'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773465"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1101"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CaseE</span></span><span> </span><span id="local-6989586621682773468"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773468"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773469"><span class="annot"><span class="annottext">[Match]
</span><a href="#local-6989586621682773469"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773470"><span class="annot"><a href="#local-6989586621682773470"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773468"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773471"><span class="annot"><a href="#local-6989586621682773471"><span class="hs-identifier hs-var">ms'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvtMatch"><span class="hs-identifier hs-type">cvtMatch</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#CaseAlt"><span class="hs-identifier hs-type">CaseAlt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773469"><span class="hs-identifier hs-type">ms</span></a></span><span>
</span><span id="line-1102"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773473"><span class="annot"><a href="#local-6989586621682773473"><span class="hs-identifier hs-var">th_origin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getOrigin"><span class="hs-identifier hs-type">getOrigin</span></a></span><span>
</span><span id="line-1103"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773470"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-type">mkMatchGroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773473"><span class="hs-identifier hs-type">th_origin</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773471"><span class="hs-identifier hs-type">ms'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1104"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DoE</span></span><span> </span><span id="local-6989586621682773476"><span class="annot"><span class="annottext">Maybe ModName
</span><a href="#local-6989586621682773476"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621682773477"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773477"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; [Stmt] -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtHsDo"><span class="hs-identifier hs-var">cvtHsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModName -&gt; ModuleName
</span><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-var">mk_mod</span></a></span><span> </span><span class="annot"><span class="annottext">(ModName -&gt; ModuleName) -&gt; Maybe ModName -&gt; Maybe ModuleName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe ModName
</span><a href="#local-6989586621682773476"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773477"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-1105"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MDoE</span></span><span> </span><span id="local-6989586621682773482"><span class="annot"><span class="annottext">Maybe ModName
</span><a href="#local-6989586621682773482"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621682773483"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773483"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; [Stmt] -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtHsDo"><span class="hs-identifier hs-var">cvtHsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#MDoExpr"><span class="hs-identifier hs-var">MDoExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModName -&gt; ModuleName
</span><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-var">mk_mod</span></a></span><span> </span><span class="annot"><span class="annottext">(ModName -&gt; ModuleName) -&gt; Maybe ModName -&gt; Maybe ModuleName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe ModName
</span><a href="#local-6989586621682773482"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773483"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-1106"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CompE</span></span><span> </span><span id="local-6989586621682773486"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773486"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; [Stmt] -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtHsDo"><span class="hs-identifier hs-var">cvtHsDo</span></a></span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773486"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-1107"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ArithSeqE</span></span><span> </span><span id="local-6989586621682773489"><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621682773489"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773490"><span class="annot"><a href="#local-6989586621682773490"><span class="hs-identifier hs-var">dd'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Range -&gt; CvtM (ArithSeqInfo GhcPs)
</span><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-var">cvtDD</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621682773489"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-1108"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeq"><span class="hs-identifier hs-type">ArithSeq</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><a href="#local-6989586621682773490"><span class="hs-identifier hs-type">dd'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1109"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ListE</span></span><span> </span><span id="local-6989586621682773494"><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773494"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1110"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773495"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773495"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Exp] -&gt; Maybe String
</span><a href="GHC.ThToHs.html#allCharLs"><span class="hs-identifier hs-var">allCharLs</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773494"><span class="hs-identifier hs-var">xs</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773497"><span class="annot"><a href="#local-6989586621682773497"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (HsLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Lit
</span><span class="hs-identifier hs-var">StringL</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773495"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1111"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773497"><span class="hs-identifier hs-type">l'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1112"></span><span>             </span><span class="hs-comment">-- Note [Converting strings]</span><span>
</span><span id="line-1113"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773499"><span class="annot"><a href="#local-6989586621682773499"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; [Exp]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsExpr GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
Exp
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773494"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1114"></span><span>                             </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-type">ExplicitList</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773499"><span class="hs-identifier hs-type">xs'</span></a></span><span>
</span><span id="line-1115"></span><span>                             </span><span class="hs-special">}</span><span>
</span><span id="line-1116"></span><span>
</span><span id="line-1117"></span><span>    </span><span class="hs-comment">-- Infix expressions</span><span>
</span><span id="line-1118"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773502"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773502"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682773503"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773503"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773504"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773504"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773503"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1119"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773506"><span class="annot"><a href="#local-6989586621682773506"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773502"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1120"></span><span>         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773507"><span class="annot"><a href="#local-6989586621682773507"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773503"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1121"></span><span>         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773508"><span class="annot"><a href="#local-6989586621682773508"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773504"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1122"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773509"><span class="annot"><a href="#local-6989586621682773509"><span class="hs-identifier hs-var hs-var">px</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773506"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1123"></span><span>               </span><span id="local-6989586621682773510"><span class="annot"><a href="#local-6989586621682773510"><span class="hs-identifier hs-var hs-var">py</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773508"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-1124"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span>
</span><span id="line-1125"></span><span>           </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773509"><span class="hs-identifier hs-type">px</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773507"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773510"><span class="hs-identifier hs-type">py</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1126"></span><span>           </span><span class="hs-comment">-- Parenthesise both arguments and result,</span><span>
</span><span id="line-1127"></span><span>           </span><span class="hs-comment">-- to ensure this operator application does</span><span>
</span><span id="line-1128"></span><span>           </span><span class="hs-comment">-- does not get re-associated</span><span>
</span><span id="line-1129"></span><span>           </span><span class="hs-comment">-- See Note [Operator association]</span><span>
</span><span id="line-1130"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixE</span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span id="local-6989586621682773512"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773512"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773513"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773513"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773512"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1131"></span><span>                                       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773514"><span class="annot"><a href="#local-6989586621682773514"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773512"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773515"><span class="annot"><a href="#local-6989586621682773515"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773513"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1132"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1133"></span><span>                                                          </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-type">SectionR</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773514"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773515"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1134"></span><span>                                            </span><span class="hs-comment">-- See Note [Sections in HsSyn] in GHC.Hs.Expr</span><span>
</span><span id="line-1135"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773517"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773517"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682773518"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773518"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773518"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1136"></span><span>                                       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773519"><span class="annot"><a href="#local-6989586621682773519"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773517"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773520"><span class="annot"><a href="#local-6989586621682773520"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773518"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1137"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1138"></span><span>                                                          </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionL"><span class="hs-identifier hs-type">SectionL</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773519"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773520"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1139"></span><span>
</span><span id="line-1140"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixE</span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span id="local-6989586621682773522"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773522"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773522"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1141"></span><span>                                       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773523"><span class="annot"><a href="#local-6989586621682773523"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773522"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1142"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773523"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1143"></span><span>                                       </span><span class="hs-comment">-- Can I indicate this is an infix thing?</span><span>
</span><span id="line-1144"></span><span>                                       </span><span class="hs-comment">-- Note [Dropping constructors]</span><span>
</span><span id="line-1145"></span><span>
</span><span id="line-1146"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UInfixE</span></span><span> </span><span id="local-6989586621682773525"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773525"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773526"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773526"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682773527"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773527"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773526"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM (HsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1147"></span><span>                           </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773528"><span class="annot"><a href="#local-6989586621682773528"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773525"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1148"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773529"><span class="annot"><a href="#local-6989586621682773529"><span class="hs-identifier hs-var hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; HsExpr GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773528"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1149"></span><span>                                            </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773528"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1150"></span><span>                                            </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#mkLHsPar"><span class="hs-identifier hs-var">mkLHsPar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773528"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1151"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-type">cvtOpApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773529"><span class="hs-identifier hs-type">x''</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773526"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773527"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-comment">--  Note [Converting UInfix]</span><span>
</span><span id="line-1152"></span><span>
</span><span id="line-1153"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ParensE</span></span><span> </span><span id="local-6989586621682773534"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773534"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773535"><span class="annot"><a href="#local-6989586621682773535"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773534"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#gHsPar"><span class="hs-identifier hs-type">gHsPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773535"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1154"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigE</span></span><span> </span><span id="local-6989586621682773537"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773537"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773538"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773538"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773539"><span class="annot"><a href="#local-6989586621682773539"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773537"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773540"><span class="annot"><a href="#local-6989586621682773540"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773538"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-1155"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773541"><span class="annot"><a href="#local-6989586621682773541"><span class="hs-identifier hs-var hs-var">pe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773539"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-1156"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-type">ExprWithTySig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773541"><span class="hs-identifier hs-type">pe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-type">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773540"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1157"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecConE</span></span><span> </span><span id="local-6989586621682773545"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773545"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682773546"><span class="annot"><span class="annottext">[FieldExp]
</span><a href="#local-6989586621682773546"><span class="hs-identifier hs-var">flds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773547"><span class="annot"><a href="#local-6989586621682773547"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773545"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1158"></span><span>                              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773548"><span class="annot"><a href="#local-6989586621682773548"><span class="hs-identifier hs-var">flds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvtFld"><span class="hs-identifier hs-type">cvtFld</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkFieldOcc"><span class="hs-identifier hs-type">mkFieldOcc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773546"><span class="hs-identifier hs-type">flds</span></a></span><span>
</span><span id="line-1159"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-type">mkRdrRecordCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773547"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773548"><span class="hs-identifier hs-type">flds'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1160"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecUpdE</span></span><span> </span><span id="local-6989586621682773554"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773554"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773555"><span class="annot"><span class="annottext">[FieldExp]
</span><a href="#local-6989586621682773555"><span class="hs-identifier hs-var">flds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773556"><span class="annot"><a href="#local-6989586621682773556"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773554"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1161"></span><span>                              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773557"><span class="annot"><a href="#local-6989586621682773557"><span class="hs-identifier hs-var">flds'</span></a></span></span><span>
</span><span id="line-1162"></span><span>                                  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#cvtFld"><span class="hs-identifier hs-type">cvtFld</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkFieldOcc"><span class="hs-identifier hs-type">mkFieldOcc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1163"></span><span>                                           </span><span class="annot"><a href="#local-6989586621682773555"><span class="hs-identifier hs-type">flds</span></a></span><span>
</span><span id="line-1164"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773556"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1165"></span><span>                                         </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RegularRecUpdFields"><span class="hs-identifier hs-type">RegularRecUpdFields</span></a></span><span>
</span><span id="line-1166"></span><span>                                           </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#xRecUpdFields"><span class="hs-identifier hs-var">xRecUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-1167"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recUpdFields"><span class="hs-identifier hs-var">recUpdFields</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773557"><span class="hs-identifier hs-type">flds'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1168"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StaticE</span></span><span> </span><span id="local-6989586621682773563"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773563"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; HsExpr GhcPs)
-&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
-&gt; CvtM (HsExpr GhcPs)
forall a b.
(a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XStatic GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XStatic p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsStatic"><span class="hs-identifier hs-var">HsStatic</span></a></span><span> </span><span class="annot"><span class="annottext">XStatic GhcPs
EpToken &quot;static&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CvtM' ConversionFailReason (LHsExpr GhcPs) -&gt; CvtM (HsExpr GhcPs))
-&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
-&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773563"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1169"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboundVarE</span></span><span> </span><span id="local-6989586621682773566"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773566"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">-- Use of 'vcName' here instead of 'vName' is</span><span>
</span><span id="line-1170"></span><span>                              </span><span class="hs-comment">-- important, because UnboundVarE may contain</span><span>
</span><span id="line-1171"></span><span>                              </span><span class="hs-comment">-- constructor names - see #14627.</span><span>
</span><span id="line-1172"></span><span>                              </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773567"><span class="annot"><a href="#local-6989586621682773567"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vcName"><span class="hs-identifier hs-var">vcName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773566"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1173"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773567"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1174"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LabelE</span></span><span> </span><span id="local-6989586621682773569"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773569"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs))
-&gt; HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XOverLabel GhcPs -&gt; FastString -&gt; HsExpr GhcPs
forall p. XOverLabel p -&gt; FastString -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsOverLabel"><span class="hs-identifier hs-var">HsOverLabel</span></a></span><span> </span><span class="annot"><span class="annottext">XOverLabel GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773569"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1175"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ImplicitParamVarE</span></span><span> </span><span id="local-6989586621682773572"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773572"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773573"><span class="annot"><a href="#local-6989586621682773573"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; CvtM HsIPName
</span><a href="GHC.ThToHs.html#ipName"><span class="hs-identifier hs-var">ipName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773572"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIPVar"><span class="hs-identifier hs-type">HsIPVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773573"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1176"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GetFieldE</span></span><span> </span><span id="local-6989586621682773576"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773576"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span id="local-6989586621682773577"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773577"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773578"><span class="annot"><a href="#local-6989586621682773578"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773576"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-1177"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsGetField"><span class="hs-identifier hs-type">HsGetField</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773578"><span class="hs-identifier hs-type">e'</span></a></span><span>
</span><span id="line-1178"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noSrcSpanA"><span class="hs-identifier hs-type">noSrcSpanA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noSrcSpanA"><span class="hs-identifier hs-type">noSrcSpanA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier hs-type">FieldLabelString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773577"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1179"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ProjectionE</span></span><span> </span><span id="local-6989586621682773584"><span class="annot"><span class="annottext">NonEmpty String
</span><a href="#local-6989586621682773584"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs))
-&gt; HsExpr GhcPs -&gt; CvtM (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XProjection GhcPs -&gt; NonEmpty (DotFieldOcc GhcPs) -&gt; HsExpr GhcPs
forall p. XProjection p -&gt; NonEmpty (DotFieldOcc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsProjection"><span class="hs-identifier hs-var">HsProjection</span></a></span><span> </span><span class="annot"><span class="annottext">XProjection GhcPs
AnnProjection
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty (DotFieldOcc GhcPs) -&gt; HsExpr GhcPs)
-&gt; NonEmpty (DotFieldOcc GhcPs) -&gt; HsExpr GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; DotFieldOcc GhcPs)
-&gt; NonEmpty String -&gt; NonEmpty (DotFieldOcc GhcPs)
forall a b. (a -&gt; b) -&gt; NonEmpty a -&gt; NonEmpty b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span>
</span><span id="line-1180"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCDotFieldOcc GhcPs
-&gt; XRec GhcPs FieldLabelString -&gt; DotFieldOcc GhcPs
forall p.
XCDotFieldOcc p -&gt; XRec p FieldLabelString -&gt; DotFieldOcc p
</span><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-var">DotFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCDotFieldOcc GhcPs
AnnFieldLabel
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN FieldLabelString -&gt; DotFieldOcc GhcPs)
-&gt; (String -&gt; GenLocated SrcSpanAnnN FieldLabelString)
-&gt; String
-&gt; DotFieldOcc GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
-&gt; FieldLabelString -&gt; GenLocated SrcSpanAnnN FieldLabelString
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
forall e. HasAnnotation e =&gt; e
</span><a href="GHC.Parser.Annotation.html#noSrcSpanA"><span class="hs-identifier hs-var">noSrcSpanA</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLabelString -&gt; GenLocated SrcSpanAnnN FieldLabelString)
-&gt; (String -&gt; FieldLabelString)
-&gt; String
-&gt; GenLocated SrcSpanAnnN FieldLabelString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FieldLabelString
</span><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier hs-var">FieldLabelString</span></a></span><span>  </span><span class="annot"><span class="annottext">(FastString -&gt; FieldLabelString)
-&gt; (String -&gt; FastString) -&gt; String -&gt; FieldLabelString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NonEmpty String
</span><a href="#local-6989586621682773584"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1181"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypedSpliceE</span></span><span> </span><span id="local-6989586621682773587"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773587"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773588"><span class="annot"><a href="#local-6989586621682773588"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#parenthesizeHsExpr"><span class="hs-identifier hs-var">parenthesizeHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773587"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1182"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedSplice"><span class="hs-identifier hs-type">HsTypedSplice</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773588"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1183"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypedBracketE</span></span><span> </span><span id="local-6989586621682773591"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773591"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773592"><span class="annot"><a href="#local-6989586621682773592"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773591"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1184"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedBracket"><span class="hs-identifier hs-type">HsTypedBracket</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773592"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1185"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeE</span></span><span> </span><span id="local-6989586621682773595"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773595"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773596"><span class="annot"><a href="#local-6989586621682773596"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773595"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1186"></span><span>                       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsEmbTy"><span class="hs-identifier hs-type">HsEmbTy</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-type">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773596"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1187"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstrainedE</span></span><span> </span><span id="local-6989586621682773599"><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773599"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621682773600"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773600"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773601"><span class="annot"><a href="#local-6989586621682773601"><span class="hs-identifier hs-var">ctx'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; [Exp]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsExpr GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
Exp
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773599"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-1188"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773602"><span class="annot"><a href="#local-6989586621682773602"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773600"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1189"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsQual"><span class="hs-identifier hs-type">HsQual</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773601"><span class="hs-identifier hs-type">ctx'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773602"><span class="hs-identifier hs-type">body'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1190"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallE</span></span><span> </span><span id="local-6989586621682773605"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682773605"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682773606"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773606"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1191"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773607"><span class="annot"><a href="#local-6989586621682773607"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; CvtM [LHsTyVarBndr Specificity GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682773605"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1192"></span><span>         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773608"><span class="annot"><a href="#local-6989586621682773608"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773606"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1193"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773609"><span class="annot"><a href="#local-6989586621682773609"><span class="hs-identifier hs-var hs-var">tele</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs
</span><a href="GHC.Parser.PostProcess.html#setTelescopeBndrsNameSpace"><span class="hs-identifier hs-var">setTelescopeBndrsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">(HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs)
-&gt; HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1194"></span><span>                      </span><span class="annot"><span class="annottext">EpAnnForallInvis
-&gt; [LHsTyVarBndr Specificity GhcPs] -&gt; HsForAllTelescope GhcPs
forall (p :: Pass).
EpAnnForallInvis
-&gt; [LHsTyVarBndr Specificity (GhcPass p)]
-&gt; HsForAllTelescope (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsForAllInvisTele"><span class="hs-identifier hs-var">mkHsForAllInvisTele</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682773607"><span class="hs-identifier hs-var">tvs'</span></a></span><span>
</span><span id="line-1195"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsForAll"><span class="hs-identifier hs-type">HsForAll</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773609"><span class="hs-identifier hs-type">tele</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773608"><span class="hs-identifier hs-type">body'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1196"></span><span>    </span><span class="annot"><a href="#local-6989586621682773160"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallVisE</span></span><span> </span><span id="local-6989586621682773615"><span class="annot"><span class="annottext">[TyVarBndr ()]
</span><a href="#local-6989586621682773615"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682773616"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773616"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1197"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773617"><span class="annot"><a href="#local-6989586621682773617"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr ()] -&gt; CvtM [LHsTyVarBndr () GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr ()]
</span><a href="#local-6989586621682773615"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1198"></span><span>         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773618"><span class="annot"><a href="#local-6989586621682773618"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773616"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1199"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773619"><span class="annot"><a href="#local-6989586621682773619"><span class="hs-identifier hs-var hs-var">tele</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs
</span><a href="GHC.Parser.PostProcess.html#setTelescopeBndrsNameSpace"><span class="hs-identifier hs-var">setTelescopeBndrsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">(HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs)
-&gt; HsForAllTelescope GhcPs -&gt; HsForAllTelescope GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1200"></span><span>                      </span><span class="annot"><span class="annottext">EpAnnForallVis
-&gt; [LHsTyVarBndr () GhcPs] -&gt; HsForAllTelescope GhcPs
forall (p :: Pass).
EpAnnForallVis
-&gt; [LHsTyVarBndr () (GhcPass p)] -&gt; HsForAllTelescope (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsForAllVisTele"><span class="hs-identifier hs-var">mkHsForAllVisTele</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallVis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621682773617"><span class="hs-identifier hs-var">tvs'</span></a></span><span>
</span><span id="line-1201"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsForAll"><span class="hs-identifier hs-type">HsForAll</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773619"><span class="hs-identifier hs-type">tele</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773618"><span class="hs-identifier hs-type">body'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1202"></span><span>
</span><span id="line-1203"></span><span class="annot"><span class="hs-comment">{- | #16895 Ensure an infix expression's operator is a variable/constructor.
Consider this example:

  $(uInfixE [|1|] [|id id|] [|2|])

This infix expression is obviously ill-formed so we use this helper function
to reject such programs outright.

The constructors `ensureValidOpExp` permits should be in sync with `pprInfixExp`
in Language.Haskell.TH.Ppr from the template-haskell library.
-}</span></span><span>
</span><span id="line-1214"></span><span id="local-6989586621682770902"><span class="annot"><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-type">ensureValidOpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770902"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1215"></span><span id="ensureValidOpExp"><span class="annot"><span class="annottext">ensureValidOpExp :: forall a. Exp -&gt; CvtM a -&gt; CvtM a
</span><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var hs-var">ensureValidOpExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarE</span></span><span> </span><span id="local-6989586621682773621"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773621"><span class="hs-identifier hs-var">_n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682773622"><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773622"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773622"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1216"></span><span class="annot"><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConE</span></span><span> </span><span id="local-6989586621682773623"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773623"><span class="hs-identifier hs-var">_n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682773624"><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773624"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773624"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1217"></span><span class="annot"><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboundVarE</span></span><span> </span><span id="local-6989586621682773625"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773625"><span class="hs-identifier hs-var">_n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682773626"><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773626"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773626"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1218"></span><span class="annot"><a href="GHC.ThToHs.html#ensureValidOpExp"><span class="hs-identifier hs-var">ensureValidOpExp</span></a></span><span> </span><span id="local-6989586621682773627"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773627"><span class="hs-identifier hs-var">_e</span></a></span></span><span> </span><span id="local-6989586621682773628"><span class="annot"><span class="annottext">CvtM a
</span><a href="#local-6989586621682773628"><span class="hs-identifier hs-var">_m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM a
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#NonVarInInfixExpr"><span class="hs-identifier hs-var">NonVarInInfixExpr</span></a></span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span class="hs-comment">{- Note [Dropping constructors]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
When we drop constructors from the input, we must insert parentheses around the
argument. For example:

  UInfixE x * (AppE (InfixE (Just y) + Nothing) z)

If we convert the InfixE expression to an operator section but don't insert
parentheses, the above expression would be reassociated to

  OpApp (OpApp x * y) + z

which we don't want.
-}</span><span>
</span><span id="line-1234"></span><span>
</span><span id="line-1235"></span><span id="local-6989586621682770912"><span class="annot"><a href="GHC.ThToHs.html#cvtFld"><span class="hs-identifier hs-type">cvtFld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770912"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span>
</span><span id="line-1236"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsFieldBind"><span class="hs-identifier hs-type">LHsFieldBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770912"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1237"></span><span id="cvtFld"><span class="annot"><span class="annottext">cvtFld :: forall t.
(RdrName -&gt; CvtM t)
-&gt; FieldExp
-&gt; CvtM (LHsFieldBind GhcPs (LocatedA t) (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtFld"><span class="hs-identifier hs-var hs-var">cvtFld</span></a></span></span><span> </span><span id="local-6989586621682773640"><span class="annot"><span class="annottext">RdrName -&gt; CvtM t
</span><a href="#local-6989586621682773640"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682773641"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773641"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682773642"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773642"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1238"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773643"><span class="annot"><a href="#local-6989586621682773643"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedA RdrName)
</span><a href="GHC.ThToHs.html#vNameL"><span class="hs-identifier hs-var">vNameL</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773641"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1239"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773645"><span class="annot"><a href="#local-6989586621682773645"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="#local-6989586621682773640"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773643"><span class="hs-identifier hs-type">v'</span></a></span><span>
</span><span id="line-1240"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773646"><span class="annot"><a href="#local-6989586621682773646"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773642"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1241"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbAnn"><span class="hs-identifier hs-var">hfbAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1242"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbLHS"><span class="hs-identifier hs-var">hfbLHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#la2la"><span class="hs-identifier hs-type">la2la</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773645"><span class="hs-identifier hs-type">lhs'</span></a></span><span>
</span><span id="line-1243"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773646"><span class="hs-identifier hs-type">e'</span></a></span><span>
</span><span id="line-1244"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbPun"><span class="hs-identifier hs-var">hfbPun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1245"></span><span>
</span><span id="line-1246"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-type">cvtDD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Range</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span id="cvtDD"><span class="annot"><span class="annottext">cvtDD :: Range -&gt; CvtM (ArithSeqInfo GhcPs)
</span><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-var hs-var">cvtDD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FromR</span></span><span> </span><span id="local-6989586621682773654"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773654"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773655"><span class="annot"><a href="#local-6989586621682773655"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773654"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#From"><span class="hs-identifier hs-type">From</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773655"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1248"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-var">cvtDD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FromThenR</span></span><span> </span><span id="local-6989586621682773658"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773658"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773659"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773659"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773660"><span class="annot"><a href="#local-6989586621682773660"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773658"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773661"><span class="annot"><a href="#local-6989586621682773661"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773659"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThen"><span class="hs-identifier hs-type">FromThen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773660"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773661"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1249"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-var">cvtDD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FromToR</span></span><span> </span><span id="local-6989586621682773664"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773664"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773665"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773665"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773666"><span class="annot"><a href="#local-6989586621682773666"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773664"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773667"><span class="annot"><a href="#local-6989586621682773667"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773665"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromTo"><span class="hs-identifier hs-type">FromTo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773666"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773667"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1250"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDD"><span class="hs-identifier hs-var">cvtDD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FromThenToR</span></span><span> </span><span id="local-6989586621682773670"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773670"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773671"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773671"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682773672"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773672"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773673"><span class="annot"><a href="#local-6989586621682773673"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773670"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773674"><span class="annot"><a href="#local-6989586621682773674"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773671"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773675"><span class="annot"><a href="#local-6989586621682773675"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773672"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThenTo"><span class="hs-identifier hs-type">FromThenTo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773673"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773674"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773675"><span class="hs-identifier hs-type">z'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1251"></span><span>
</span><span id="line-1252"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_tup"><span class="hs-identifier hs-type">cvt_tup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span id="cvt_tup"><span class="annot"><span class="annottext">cvt_tup :: [Maybe Exp] -&gt; Boxity -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tup"><span class="hs-identifier hs-var hs-var">cvt_tup</span></a></span></span><span> </span><span id="local-6989586621682773677"><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773677"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621682773678"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621682773678"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773684"><span class="annot"><span class="annottext">cvtl_maybe :: Maybe Exp -&gt; CvtM' ConversionFailReason (HsTupArg GhcPs)
</span><a href="#local-6989586621682773684"><span class="hs-identifier hs-var hs-var hs-var">cvtl_maybe</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcPs -&gt; CvtM' ConversionFailReason (HsTupArg GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn Bool -&gt; HsTupArg GhcPs
</span><a href="GHC.Hs.Utils.html#missingTupArg"><span class="hs-identifier hs-var">missingTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn Bool
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1254"></span><span>                             </span><span class="annot"><a href="#local-6989586621682773684"><span class="hs-identifier hs-var">cvtl_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773686"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773686"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; HsTupArg GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; CvtM' ConversionFailReason (HsTupArg GhcPs)
forall a b.
(a -&gt; b)
-&gt; CvtM' ConversionFailReason a -&gt; CvtM' ConversionFailReason b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPresent GhcPs -&gt; LHsExpr GhcPs -&gt; HsTupArg GhcPs
forall id. XPresent id -&gt; LHsExpr id -&gt; HsTupArg id
</span><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-var">Present</span></a></span><span> </span><span class="annot"><span class="annottext">XPresent GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773686"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>                       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773688"><span class="annot"><a href="#local-6989586621682773688"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Maybe Exp -&gt; CvtM' ConversionFailReason (HsTupArg GhcPs))
-&gt; [Maybe Exp] -&gt; CvtM' ConversionFailReason [HsTupArg GhcPs]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Maybe Exp -&gt; CvtM' ConversionFailReason (HsTupArg GhcPs)
</span><a href="#local-6989586621682773684"><span class="hs-identifier hs-var">cvtl_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Exp]
</span><a href="#local-6989586621682773677"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-1256"></span><span>                       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-type">ExplicitTuple</span></a></span><span>
</span><span id="line-1257"></span><span>                                    </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1258"></span><span>                                    </span><span class="annot"><a href="#local-6989586621682773688"><span class="hs-identifier hs-type">es'</span></a></span><span>
</span><span id="line-1259"></span><span>                                    </span><span class="annot"><a href="#local-6989586621682773678"><span class="hs-identifier hs-type">boxity</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span class="hs-comment">{- Note [Operator association]
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~
We must be quite careful about adding parens:
  * Infix (UInfix ...) op arg      Needs parens round the first arg
  * Infix (Infix ...) op arg       Needs parens round the first arg
  * UInfix (UInfix ...) op arg     No parens for first arg
  * UInfix (Infix ...) op arg      Needs parens round first arg


Note [Converting UInfix]
~~~~~~~~~~~~~~~~~~~~~~~~
When converting @UInfixE@, @UInfixP@, @UInfixT@, and @PromotedUInfixT@ values,
we want to readjust the trees to reflect the fixities of the underlying
operators:

  UInfixE x * (UInfixE y + z) ---&gt; (x * y) + z

This is done by the renamer (see @mkOppAppRn@, @mkConOppPatRn@, and
@mkHsOpTyRn@ in GHC.Rename.HsType), which expects that the input will be
completely right-biased for types and left-biased for everything else. So we
left-bias the trees of @UInfixP@ and @UInfixE@ and right-bias the trees of
@UInfixT@ and @PromotedUnfixT@.

Sample input:

  UInfixE
   (UInfixE x op1 y)
   op2
   (UInfixE z op3 w)

Sample output:

  OpApp
    (OpApp
      (OpApp x op1 y)
      op2
      z)
    op3
    w

The functions @cvtOpApp@, @cvtOpAppP@, and @cvtOpAppT@ are responsible for this
biasing.
-}</span><span>
</span><span id="line-1304"></span><span>
</span><span id="line-1305"></span><span class="annot"><span class="hs-comment">{- | @cvtOpApp x op y@ converts @op@ and @y@ and produces the operator application @x `op` y@.
The produced tree of infix expressions will be left-biased, provided @x@ is.

We can see that @cvtOpApp@ is correct as follows. The inductive hypothesis
is that @cvtOpApp x op y@ is left-biased, provided @x@ is. It is clear that
this holds for both branches (of @cvtOpApp@), provided we assume it holds for
the recursive calls to @cvtOpApp@.

When we call @cvtOpApp@ from @cvtl@, the first argument will always be left-biased
since we have already run @cvtl@ on it.
-}</span></span><span>
</span><span id="line-1316"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-type">cvtOpApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1317"></span><span id="cvtOpApp"><span class="annot"><span class="annottext">cvtOpApp :: LHsExpr GhcPs -&gt; Exp -&gt; Exp -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-var hs-var">cvtOpApp</span></a></span></span><span> </span><span id="local-6989586621682773690"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621682773690"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773691"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773691"><span class="hs-identifier hs-var">op1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UInfixE</span></span><span> </span><span id="local-6989586621682773692"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773692"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682773693"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773693"><span class="hs-identifier hs-var">op2</span></a></span></span><span> </span><span id="local-6989586621682773694"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773694"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773695"><span class="annot"><a href="#local-6989586621682773695"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM (HsExpr GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var">wrapLA</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (HsExpr GhcPs)
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; CvtM (HsExpr GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; Exp -&gt; Exp -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-var">cvtOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621682773690"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773691"><span class="hs-identifier hs-var">op1</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773692"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1319"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-type">cvtOpApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773695"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773693"><span class="hs-identifier hs-type">op2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773694"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1320"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpApp"><span class="hs-identifier hs-var">cvtOpApp</span></a></span><span> </span><span id="local-6989586621682773696"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621682773696"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773697"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773697"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682773698"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773698"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-1321"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773699"><span class="annot"><a href="#local-6989586621682773699"><span class="hs-identifier hs-var">op'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773697"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-1322"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773700"><span class="annot"><a href="#local-6989586621682773700"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773698"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1323"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773696"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773699"><span class="hs-identifier hs-type">op'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773700"><span class="hs-identifier hs-type">y'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1324"></span><span>
</span><span id="line-1325"></span><span class="hs-comment">-------------------------------------</span><span>
</span><span id="line-1326"></span><span class="hs-comment">--      Do notation and statements</span><span>
</span><span id="line-1327"></span><span class="hs-comment">-------------------------------------</span><span>
</span><span id="line-1328"></span><span>
</span><span id="line-1329"></span><span class="annot"><a href="GHC.ThToHs.html#cvtHsDo"><span class="hs-identifier hs-type">cvtHsDo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDoFlavour"><span class="hs-identifier hs-type">HsDoFlavour</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1330"></span><span id="cvtHsDo"><span class="annot"><span class="annottext">cvtHsDo :: HsDoFlavour -&gt; [Stmt] -&gt; CvtM (HsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtHsDo"><span class="hs-identifier hs-var hs-var">cvtHsDo</span></a></span></span><span> </span><span id="local-6989586621682773701"><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682773701"><span class="hs-identifier hs-var">do_or_lc</span></a></span></span><span> </span><span id="local-6989586621682773702"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773702"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Stmt] -&gt; Maybe (NonEmpty Stmt)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#nonEmpty"><span class="hs-identifier hs-var">nonEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773702"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1331"></span><span>    </span><span class="annot"><span class="annottext">Maybe (NonEmpty Stmt)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM (HsExpr GhcPs)
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#EmptyStmtListInDoBlock"><span class="hs-identifier hs-var">EmptyStmtListInDoBlock</span></a></span><span>
</span><span id="line-1332"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682773704"><span class="annot"><span class="annottext">NonEmpty Stmt
</span><a href="#local-6989586621682773704"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1333"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773705"><span class="annot"><a href="#local-6989586621682773705"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Stmt
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         SrcSpanAnnA
         (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; NonEmpty Stmt
-&gt; CvtM'
     ConversionFailReason
     (NonEmpty
        (GenLocated
           SrcSpanAnnA
           (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Stmt -&gt; CvtM (LStmt GhcPs (LHsExpr GhcPs))
Stmt
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Stmt
</span><a href="#local-6989586621682773704"><span class="hs-identifier hs-var">stmts</span></a></span><span>
</span><span id="line-1334"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773707"><span class="annot"><a href="#local-6989586621682773707"><span class="hs-identifier hs-var hs-var">stmts''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty
  (GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#init"><span class="hs-identifier hs-var">NE.init</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty
  (GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621682773705"><span class="hs-identifier hs-var">stmts'</span></a></span><span>
</span><span id="line-1335"></span><span>              </span><span id="local-6989586621682773709"><span class="annot"><a href="#local-6989586621682773709"><span class="hs-identifier hs-var hs-var">last'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty
  (GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty
  (GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621682773705"><span class="hs-identifier hs-var">stmts'</span></a></span><span>
</span><span id="line-1336"></span><span>
</span><span id="line-1337"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773711"><span class="annot"><a href="#local-6989586621682773711"><span class="hs-identifier hs-var">last''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682773709"><span class="hs-identifier hs-type">last'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1338"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682773712"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682773712"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBodyStmt GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682773714"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773714"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1339"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682773712"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (idR :: Pass) (bodyR :: * -&gt; *) (idL :: Pass).
IsPass idR =&gt;
LocatedA (bodyR (GhcPass idR))
-&gt; StmtLR
     (GhcPass idL) (GhcPass idR) (LocatedA (bodyR (GhcPass idR)))
</span><a href="GHC.Hs.Utils.html#mkLastStmt"><span class="hs-identifier hs-var">mkLastStmt</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621682773714"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1340"></span><span>                    </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; ConversionFailReason
</span><a href="#local-6989586621682773716"><span class="hs-identifier hs-var">bad_last</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621682773709"><span class="hs-identifier hs-var">last'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1341"></span><span>
</span><span id="line-1342"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773701"><span class="hs-identifier hs-type">do_or_lc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682773707"><span class="hs-identifier hs-type">stmts''</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773711"><span class="hs-identifier hs-type">last''</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1343"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1344"></span><span>    </span><span id="local-6989586621682773716"><span class="annot"><span class="annottext">bad_last :: GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; ConversionFailReason
</span><a href="#local-6989586621682773716"><span class="hs-identifier hs-var hs-var">bad_last</span></a></span></span><span> </span><span id="local-6989586621682773718"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621682773718"><span class="hs-identifier hs-var">stmt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; LStmt GhcPs (LHsExpr GhcPs) -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalLastStatement"><span class="hs-identifier hs-var">IllegalLastStatement</span></a></span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682773701"><span class="hs-identifier hs-var">do_or_lc</span></a></span><span> </span><span class="annot"><span class="annottext">LStmt GhcPs (LHsExpr GhcPs)
GenLocated
  SrcSpanAnnA
  (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621682773718"><span class="hs-identifier hs-var">stmt</span></a></span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmts"><span class="hs-identifier hs-type">cvtStmts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">Hs.LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1347"></span><span id="cvtStmts"><span class="annot"><span class="annottext">cvtStmts :: [Stmt] -&gt; CvtM [LStmt GhcPs (LHsExpr GhcPs)]
</span><a href="GHC.ThToHs.html#cvtStmts"><span class="hs-identifier hs-var hs-var">cvtStmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Stmt
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         SrcSpanAnnA
         (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [Stmt]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Stmt -&gt; CvtM (LStmt GhcPs (LHsExpr GhcPs))
Stmt
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span>
</span><span id="line-1348"></span><span>
</span><span id="line-1349"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-type">cvtStmt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">Hs.LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1350"></span><span id="cvtStmt"><span class="annot"><span class="annottext">cvtStmt :: Stmt -&gt; CvtM (LStmt GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var hs-var">cvtStmt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NoBindS</span></span><span> </span><span id="local-6989586621682773722"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773722"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773723"><span class="annot"><a href="#local-6989586621682773723"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773722"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkBodyStmt"><span class="hs-identifier hs-type">mkBodyStmt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773723"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1351"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.BindS</span></span><span> </span><span id="local-6989586621682773726"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773726"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682773727"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773727"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773728"><span class="annot"><a href="#local-6989586621682773728"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773726"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773729"><span class="annot"><a href="#local-6989586621682773729"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773727"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkPsBindStmt"><span class="hs-identifier hs-type">mkPsBindStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773728"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773729"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1352"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.LetS</span></span><span> </span><span id="local-6989586621682773732"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773732"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773733"><span class="annot"><a href="#local-6989586621682773733"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor -&gt; [Dec] -&gt; CvtM (HsLocalBinds GhcPs)
</span><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-var">cvtLocalDecs</span></a></span><span> </span><span class="annot"><span class="annottext">THDeclDescriptor
</span><a href="GHC.Tc.Errors.Types.html#LetBinding"><span class="hs-identifier hs-var">LetBinding</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773732"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-1353"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-type">LetStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773733"><span class="hs-identifier hs-type">ds'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1354"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.ParS</span></span><span> </span><span id="local-6989586621682773737"><span class="annot"><span class="annottext">[[Stmt]]
</span><a href="#local-6989586621682773737"><span class="hs-identifier hs-var">dss</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773738"><span class="annot"><a href="#local-6989586621682773738"><span class="hs-identifier hs-var">dss'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([Stmt] -&gt; CvtM' ConversionFailReason (ParStmtBlock GhcPs GhcPs))
-&gt; [[Stmt]]
-&gt; CvtM' ConversionFailReason [ParStmtBlock GhcPs GhcPs]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">[Stmt] -&gt; CvtM' ConversionFailReason (ParStmtBlock GhcPs GhcPs)
forall {p :: Pass} {idR}.
(SyntaxExprGhc p ~ SyntaxExpr idR,
 XParStmtBlock GhcPs idR ~ NoExtField, IsPass p) =&gt;
[Stmt] -&gt; CvtM' ConversionFailReason (ParStmtBlock GhcPs idR)
</span><a href="#local-6989586621682773739"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="annot"><span class="annottext">[[Stmt]]
</span><a href="#local-6989586621682773737"><span class="hs-identifier hs-var">dss</span></a></span><span>
</span><span id="line-1355"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmt"><span class="hs-identifier hs-type">ParStmt</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773738"><span class="hs-identifier hs-type">dss'</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#noExpr"><span class="hs-identifier hs-type">noExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-type">noSyntaxExpr</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1356"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1357"></span><span>    </span><span id="local-6989586621682773739"><span class="annot"><span class="annottext">cvt_one :: [Stmt] -&gt; CvtM' ConversionFailReason (ParStmtBlock GhcPs idR)
</span><a href="#local-6989586621682773739"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span id="local-6989586621682773760"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773760"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773761"><span class="annot"><a href="#local-6989586621682773761"><span class="hs-identifier hs-var">ds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Stmt] -&gt; CvtM [LStmt GhcPs (LHsExpr GhcPs)]
</span><a href="GHC.ThToHs.html#cvtStmts"><span class="hs-identifier hs-var">cvtStmts</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773760"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-1358"></span><span>                    </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773761"><span class="hs-identifier hs-type">ds'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">undefined</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-type">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1359"></span><span class="annot"><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.RecS</span></span><span> </span><span id="local-6989586621682773765"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773765"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773766"><span class="annot"><a href="#local-6989586621682773766"><span class="hs-identifier hs-var">ss'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Stmt
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         SrcSpanAnnA
         (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [Stmt]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Stmt -&gt; CvtM (LStmt GhcPs (LHsExpr GhcPs))
Stmt
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcPs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="GHC.ThToHs.html#cvtStmt"><span class="hs-identifier hs-var">cvtStmt</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773765"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-1360"></span><span>                          </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773767"><span class="annot"><a href="#local-6989586621682773767"><span class="hs-identifier hs-var">rec_stmt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Utils.html#mkRecStmt"><span class="hs-identifier hs-type">mkRecStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773766"><span class="hs-identifier hs-type">ss'</span></a></span><span>
</span><span id="line-1361"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773767"><span class="hs-identifier hs-type">rec_stmt</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1362"></span><span>
</span><span id="line-1363"></span><span class="annot"><a href="GHC.ThToHs.html#cvtMatch"><span class="hs-identifier hs-type">cvtMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsMatchContextPs"><span class="hs-identifier hs-type">HsMatchContextPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">Hs.LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1364"></span><span id="cvtMatch"><span class="annot"><span class="annottext">cvtMatch :: HsMatchContextPs -&gt; Match -&gt; CvtM (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtMatch"><span class="hs-identifier hs-var hs-var">cvtMatch</span></a></span></span><span> </span><span id="local-6989586621682773769"><span class="annot"><span class="annottext">HsMatchContextPs
</span><a href="#local-6989586621682773769"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span> </span><span id="local-6989586621682773771"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773771"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682773772"><span class="annot"><span class="annottext">Body
</span><a href="#local-6989586621682773772"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span id="local-6989586621682773773"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621682773773"><span class="hs-identifier hs-var">decs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1365"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773774"><span class="annot"><a href="#local-6989586621682773774"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773771"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1366"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773775"><span class="annot"><a href="#local-6989586621682773775"><span class="hs-identifier hs-var hs-var">lp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773774"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1367"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682773776"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682773776"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SigPat"><span class="hs-identifier hs-type">SigPat</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; Pat GhcPs -&gt; GenLocated SrcSpanAnnA (Pat GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682773776"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcPs -&gt; Pat GhcPs
forall (p :: Pass). IsPass p =&gt; LPat (GhcPass p) -&gt; Pat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#gParPat"><span class="hs-identifier hs-var">gParPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773774"><span class="hs-identifier hs-var">p'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- #14875</span><span>
</span><span id="line-1368"></span><span>                     </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773774"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-1369"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773779"><span class="annot"><a href="#local-6989586621682773779"><span class="hs-identifier hs-var">g'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-type">cvtGuard</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773772"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1370"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773780"><span class="annot"><a href="#local-6989586621682773780"><span class="hs-identifier hs-var">decs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtLocalDecs"><span class="hs-identifier hs-type">cvtLocalDecs</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.html#WhereClause"><span class="hs-identifier hs-type">WhereClause</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773773"><span class="hs-identifier hs-type">decs</span></a></span><span>
</span><span id="line-1371"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Hs.Match</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773769"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-type">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773775"><span class="hs-identifier hs-type">lp</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-type">emptyComments</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773779"><span class="hs-identifier hs-type">g'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773780"><span class="hs-identifier hs-type">decs'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1372"></span><span>
</span><span id="line-1373"></span><span class="annot"><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-type">cvtGuard</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1374"></span><span id="cvtGuard"><span class="annot"><span class="annottext">cvtGuard :: Body -&gt; CvtM [LGRHS GhcPs (LHsExpr GhcPs)]
</span><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-var hs-var">cvtGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GuardedB</span></span><span> </span><span id="local-6989586621682773782"><span class="annot"><span class="annottext">[(Guard, Exp)]
</span><a href="#local-6989586621682773782"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Guard, Exp)
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated
         EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [(Guard, Exp)]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated
        EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(Guard, Exp) -&gt; CvtM (LGRHS GhcPs (LHsExpr GhcPs))
(Guard, Exp)
-&gt; CvtM'
     ConversionFailReason
     (GenLocated
        EpAnnCO (GRHS GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="GHC.ThToHs.html#cvtpair"><span class="hs-identifier hs-var">cvtpair</span></a></span><span> </span><span class="annot"><span class="annottext">[(Guard, Exp)]
</span><a href="#local-6989586621682773782"><span class="hs-identifier hs-var">pairs</span></a></span><span>
</span><span id="line-1375"></span><span class="annot"><a href="GHC.ThToHs.html#cvtGuard"><span class="hs-identifier hs-var">cvtGuard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NormalB</span></span><span> </span><span id="local-6989586621682773784"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773784"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773785"><span class="annot"><a href="#local-6989586621682773785"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773784"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1376"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773786"><span class="annot"><a href="#local-6989586621682773786"><span class="hs-identifier hs-var">g'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682773785"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773786"><span class="hs-identifier hs-type">g'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1377"></span><span>
</span><span id="line-1378"></span><span class="annot"><a href="GHC.ThToHs.html#cvtpair"><span class="hs-identifier hs-type">cvtpair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1379"></span><span id="cvtpair"><span class="annot"><span class="annottext">cvtpair :: (Guard, Exp) -&gt; CvtM (LGRHS GhcPs (LHsExpr GhcPs))
</span><a href="GHC.ThToHs.html#cvtpair"><span class="hs-identifier hs-var hs-var">cvtpair</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NormalG</span></span><span> </span><span id="local-6989586621682773789"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773789"><span class="hs-identifier hs-var">ge</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682773790"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773790"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773791"><span class="annot"><a href="#local-6989586621682773791"><span class="hs-identifier hs-var">ge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773789"><span class="hs-identifier hs-var">ge</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773792"><span class="annot"><a href="#local-6989586621682773792"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773790"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-1380"></span><span>                              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773793"><span class="annot"><a href="#local-6989586621682773793"><span class="hs-identifier hs-var">g'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkBodyStmt"><span class="hs-identifier hs-type">mkBodyStmt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773791"><span class="hs-identifier hs-type">ge'</span></a></span><span>
</span><span id="line-1381"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682773793"><span class="hs-identifier hs-type">g'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682773792"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1382"></span><span class="annot"><a href="GHC.ThToHs.html#cvtpair"><span class="hs-identifier hs-var">cvtpair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PatG</span></span><span> </span><span id="local-6989586621682773795"><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773795"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682773796"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773796"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773797"><span class="annot"><a href="#local-6989586621682773797"><span class="hs-identifier hs-var">gs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Stmt] -&gt; CvtM [LStmt GhcPs (LHsExpr GhcPs)]
</span><a href="GHC.ThToHs.html#cvtStmts"><span class="hs-identifier hs-var">cvtStmts</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt]
</span><a href="#local-6989586621682773795"><span class="hs-identifier hs-var">gs</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773798"><span class="annot"><a href="#local-6989586621682773798"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-type">cvtl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773796"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-1383"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773797"><span class="hs-identifier hs-type">gs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773798"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1384"></span><span>
</span><span id="line-1385"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-type">cvtOverLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span id="cvtOverLit"><span class="annot"><span class="annottext">cvtOverLit :: Lit -&gt; CvtM (HsOverLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var hs-var">cvtOverLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IntegerL</span></span><span> </span><span id="local-6989586621682773800"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773800"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1387"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773800"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs))
-&gt; HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IntegralLit -&gt; HsOverLit GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsIntegral"><span class="hs-identifier hs-var">mkHsIntegral</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; IntegralLit
forall a. Integral a =&gt; a -&gt; IntegralLit
</span><a href="GHC.Types.SourceText.html#mkIntegralLit"><span class="hs-identifier hs-var">mkIntegralLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773800"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1388"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var">cvtOverLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RationalL</span></span><span> </span><span id="local-6989586621682773804"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773804"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1389"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773804"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs))
-&gt; HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FractionalLit -&gt; HsOverLit GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsFractional"><span class="hs-identifier hs-var">mkHsFractional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; FractionalLit
</span><a href="GHC.Types.SourceText.html#mkTHFractionalLit"><span class="hs-identifier hs-var">mkTHFractionalLit</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773804"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1390"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var">cvtOverLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StringL</span></span><span> </span><span id="local-6989586621682773807"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773807"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1391"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773808"><span class="annot"><span class="annottext">s' :: FastString
</span><a href="#local-6989586621682773808"><span class="hs-identifier hs-var hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773807"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1392"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682773808"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-1393"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs))
-&gt; HsOverLit GhcPs -&gt; CvtM (HsOverLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; HsOverLit GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsIsString"><span class="hs-identifier hs-var">mkHsIsString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SourceText
</span><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-var">quotedSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773807"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682773808"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-1394"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1395"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var">cvtOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; CvtM (HsOverLit GhcPs)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Convert.cvtOverLit: Unexpected overloaded literal&quot;</span></span><span>
</span><span id="line-1396"></span><span class="hs-comment">-- An Integer is like an (overloaded) '3' in a Haskell source program</span><span>
</span><span id="line-1397"></span><span class="hs-comment">-- Similarly 3.5 for fractionals</span><span>
</span><span id="line-1398"></span><span>
</span><span id="line-1399"></span><span class="hs-comment">{- Note [Converting strings]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
If we get (ListE [CharL 'x', CharL 'y']) we'd like to convert to
a string literal for &quot;xy&quot;.  Of course, we might hope to get
(LitE (StringL &quot;xy&quot;)), but not always, and allCharLs fails quickly
if it isn't a literal string
-}</span><span>
</span><span id="line-1406"></span><span>
</span><span id="line-1407"></span><span class="annot"><a href="GHC.ThToHs.html#allCharLs"><span class="hs-identifier hs-type">allCharLs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-1408"></span><span class="hs-comment">-- Note [Converting strings]</span><span>
</span><span id="line-1409"></span><span class="hs-comment">-- NB: only fire up this setup for a non-empty list, else</span><span>
</span><span id="line-1410"></span><span class="hs-comment">--     there's a danger of returning &quot;&quot; for [] :: [Int]!</span><span>
</span><span id="line-1411"></span><span id="allCharLs"><span class="annot"><span class="annottext">allCharLs :: [Exp] -&gt; Maybe String
</span><a href="GHC.ThToHs.html#allCharLs"><span class="hs-identifier hs-var hs-var">allCharLs</span></a></span></span><span> </span><span id="local-6989586621682773810"><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773810"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-1412"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773810"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1413"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">LitE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CharL</span></span><span> </span><span id="local-6989586621682773812"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773812"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682773813"><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773813"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Exp] -&gt; Maybe String
</span><a href="#local-6989586621682773814"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773812"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773813"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-1414"></span><span>      </span><span class="annot"><span class="annottext">[Exp]
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1415"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1416"></span><span>    </span><span id="local-6989586621682773814"><span class="annot"><span class="annottext">go :: String -&gt; [Exp] -&gt; Maybe String
</span><a href="#local-6989586621682773814"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682773815"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773815"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773815"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1417"></span><span>    </span><span class="annot"><a href="#local-6989586621682773814"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682773817"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773817"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LitE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CharL</span></span><span> </span><span id="local-6989586621682773818"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773818"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682773819"><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773819"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Exp] -&gt; Maybe String
</span><a href="#local-6989586621682773814"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773818"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773817"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp]
</span><a href="#local-6989586621682773819"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-1418"></span><span>    </span><span class="annot"><a href="#local-6989586621682773814"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">[Exp]
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1419"></span><span>
</span><span id="line-1420"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-type">cvtLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1421"></span><span id="cvtLit"><span class="annot"><span class="annottext">cvtLit :: Lit -&gt; CvtM (HsLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var hs-var">cvtLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IntPrimL</span></span><span> </span><span id="local-6989586621682773821"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773821"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773821"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim GhcPs -&gt; Integer -&gt; HsLit GhcPs
forall x. XHsIntPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-var">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773821"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1422"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WordPrimL</span></span><span> </span><span id="local-6989586621682773824"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773824"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773824"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsWordPrim GhcPs -&gt; Integer -&gt; HsLit GhcPs
forall x. XHsWordPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsWordPrim"><span class="hs-identifier hs-var">HsWordPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsWordPrim GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682773824"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1423"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FloatPrimL</span></span><span> </span><span id="local-6989586621682773827"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773827"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1424"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773827"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsFloatPrim GhcPs -&gt; FractionalLit -&gt; HsLit GhcPs
forall x. XHsFloatPrim x -&gt; FractionalLit -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsFloatPrim"><span class="hs-identifier hs-var">HsFloatPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFloatPrim GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; FractionalLit
</span><a href="GHC.Types.SourceText.html#mkTHFractionalLit"><span class="hs-identifier hs-var">mkTHFractionalLit</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773827"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1425"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DoublePrimL</span></span><span> </span><span id="local-6989586621682773830"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773830"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1426"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773830"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsDoublePrim GhcPs -&gt; FractionalLit -&gt; HsLit GhcPs
forall x. XHsDoublePrim x -&gt; FractionalLit -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsDoublePrim"><span class="hs-identifier hs-var">HsDoublePrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsDoublePrim GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; FractionalLit
</span><a href="GHC.Types.SourceText.html#mkTHFractionalLit"><span class="hs-identifier hs-var">mkTHFractionalLit</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682773830"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1427"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CharL</span></span><span> </span><span id="local-6989586621682773832"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773832"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Char -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773832"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsChar GhcPs -&gt; Char -&gt; HsLit GhcPs
forall x. XHsChar x -&gt; Char -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsChar"><span class="hs-identifier hs-var">HsChar</span></a></span><span> </span><span class="annot"><span class="annottext">XHsChar GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773832"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1428"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CharPrimL</span></span><span> </span><span id="local-6989586621682773835"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773835"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Char -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773835"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsCharPrim GhcPs -&gt; Char -&gt; HsLit GhcPs
forall x. XHsCharPrim x -&gt; Char -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsCharPrim"><span class="hs-identifier hs-var">HsCharPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsCharPrim GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682773835"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1429"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StringL</span></span><span> </span><span id="local-6989586621682773837"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773837"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773838"><span class="annot"><span class="annottext">s' :: FastString
</span><a href="#local-6989586621682773838"><span class="hs-identifier hs-var hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773837"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1430"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682773838"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-1431"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsString GhcPs -&gt; FastString -&gt; HsLit GhcPs
forall x. XHsString x -&gt; FastString -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsString"><span class="hs-identifier hs-var">HsString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SourceText
</span><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-var">quotedSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773837"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682773838"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1432"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StringPrimL</span></span><span> </span><span id="local-6989586621682773841"><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621682773841"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621682773842"><span class="annot"><span class="annottext">s' :: ByteString
</span><a href="#local-6989586621682773842"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621682773841"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1433"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs -&gt; ByteString -&gt; HsLit GhcPs
forall x. XHsStringPrim x -&gt; ByteString -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsStringPrim"><span class="hs-identifier hs-var">HsStringPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682773842"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1434"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BytesPrimL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bytes</span></span><span> </span><span id="local-6989586621682773847"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621682773847"><span class="hs-identifier hs-var">fptr</span></a></span></span><span> </span><span id="local-6989586621682773848"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621682773848"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682773849"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621682773849"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1435"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773850"><span class="annot"><span class="annottext">bs :: ByteString
</span><a href="#local-6989586621682773850"><span class="hs-identifier hs-var hs-var hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO ByteString -&gt; ByteString
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO ByteString -&gt; ByteString) -&gt; IO ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; (Ptr Word8 -&gt; IO ByteString) -&gt; IO ByteString
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621682773847"><span class="hs-identifier hs-var">fptr</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Word8 -&gt; IO ByteString) -&gt; IO ByteString)
-&gt; (Ptr Word8 -&gt; IO ByteString) -&gt; IO ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682773853"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621682773853"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1436"></span><span>             </span><span class="annot"><span class="annottext">CStringLen -&gt; IO ByteString
</span><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html#packCStringLen"><span class="hs-identifier hs-var">BS.packCStringLen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621682773853"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; SumAlt -&gt; Ptr CChar
forall a b. Ptr a -&gt; SumAlt -&gt; Ptr b
</span><span class="hs-operator hs-var">`plusPtr`</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; SumAlt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621682773848"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word -&gt; SumAlt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621682773849"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1437"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; CvtM ()
forall a. a -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682773850"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1438"></span><span>  </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcPs -&gt; CvtM (HsLit GhcPs))
-&gt; HsLit GhcPs -&gt; CvtM (HsLit GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs -&gt; ByteString -&gt; HsLit GhcPs
forall x. XHsStringPrim x -&gt; ByteString -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsStringPrim"><span class="hs-identifier hs-var">HsStringPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682773850"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1439"></span><span class="annot"><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; CvtM (HsLit GhcPs)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Convert.cvtLit: Unexpected literal&quot;</span></span><span>
</span><span id="line-1440"></span><span>        </span><span class="hs-comment">-- cvtLit should not be called on IntegerL, RationalL</span><span>
</span><span id="line-1441"></span><span>        </span><span class="hs-comment">-- That precondition is established right here in</span><span>
</span><span id="line-1442"></span><span>        </span><span class="hs-comment">-- &quot;GHC.ThToHs&quot;, hence panic</span><span>
</span><span id="line-1443"></span><span>
</span><span id="line-1444"></span><span class="annot"><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-type">quotedSourceText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span>
</span><span id="line-1445"></span><span id="quotedSourceText"><span class="annot"><span class="annottext">quotedSourceText :: String -&gt; SourceText
</span><a href="GHC.ThToHs.html#quotedSourceText"><span class="hs-identifier hs-var hs-var">quotedSourceText</span></a></span></span><span> </span><span id="local-6989586621682773856"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773856"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; SourceText) -&gt; FastString -&gt; SourceText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FastString) -&gt; String -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682773856"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;&quot;</span></span><span>
</span><span id="line-1446"></span><span>
</span><span id="line-1447"></span><span id="local-6989586621682770846"><span class="annot"><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-type">cvtPats</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621682770846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682770846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682770846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">Hs.LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1448"></span><span id="cvtPats"><span class="annot"><span class="annottext">cvtPats :: forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var hs-var">cvtPats</span></a></span></span><span> </span><span id="local-6989586621682773860"><span class="annot"><span class="annottext">f Pat
</span><a href="#local-6989586621682773860"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Pat
 -&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; f Pat
-&gt; CvtM'
     ConversionFailReason (f (GenLocated SrcSpanAnnA (Pat GhcPs)))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; f a -&gt; m (f b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
Pat
-&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">f Pat
</span><a href="#local-6989586621682773860"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-1449"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPats"><span class="hs-pragma hs-type">cvtPats</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">TH.Pat</span></span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-pragma hs-type">CvtM</span></a></span><span> </span><span class="hs-pragma">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-pragma hs-type">Hs.LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-pragma hs-type">GhcPs</span></a></span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1450"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPats"><span class="hs-pragma hs-type">cvtPats</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">NonEmpty</span></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">TH.Pat</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-pragma hs-type">CvtM</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">NonEmpty</span></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-pragma hs-type">Hs.LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-pragma hs-type">GhcPs</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1451"></span><span>
</span><span id="line-1452"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">Hs.LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1453"></span><span id="cvtPat"><span class="annot"><span class="annottext">cvtPat :: Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var hs-var">cvtPat</span></a></span></span><span> </span><span id="local-6989586621682773861"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773861"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM (Pat GhcPs)
-&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var">wrapLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat -&gt; CvtM (Pat GhcPs)
</span><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773861"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1454"></span><span>
</span><span id="line-1455"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-type">cvtp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Hs.Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1456"></span><span id="cvtp"><span class="annot"><span class="annottext">cvtp :: Pat -&gt; CvtM (Pat GhcPs)
</span><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var hs-var">cvtp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.LitP</span></span><span> </span><span id="local-6989586621682773864"><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773864"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1457"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; Bool
</span><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-var">overloadedLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773864"><span class="hs-identifier hs-var">l</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773865"><span class="annot"><a href="#local-6989586621682773865"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (HsOverLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtOverLit"><span class="hs-identifier hs-var">cvtOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773864"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1458"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773866"><span class="annot"><a href="#local-6989586621682773866"><span class="hs-identifier hs-var">l''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773865"><span class="hs-identifier hs-type">l'</span></a></span><span>
</span><span id="line-1459"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-type">mkNPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773866"><span class="hs-identifier hs-type">l''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1460"></span><span>                                  </span><span class="hs-comment">-- Not right for negative patterns;</span><span>
</span><span id="line-1461"></span><span>                                  </span><span class="hs-comment">-- need to think about that!</span><span>
</span><span id="line-1462"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773868"><span class="annot"><a href="#local-6989586621682773868"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lit -&gt; CvtM (HsLit GhcPs)
</span><a href="GHC.ThToHs.html#cvtLit"><span class="hs-identifier hs-var">cvtLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><a href="#local-6989586621682773864"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LitPat"><span class="hs-identifier hs-type">Hs.LitPat</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773868"><span class="hs-identifier hs-type">l'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1463"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.VarP</span></span><span> </span><span id="local-6989586621682773870"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773870"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773871"><span class="annot"><a href="#local-6989586621682773871"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var">vName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773870"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1464"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-type">Hs.VarPat</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773871"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1465"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TupP</span></span><span> </span><span id="local-6989586621682773874"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773874"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773875"><span class="annot"><a href="#local-6989586621682773875"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; CvtM [LPat GhcPs]
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773874"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1466"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#TuplePat"><span class="hs-identifier hs-type">TuplePat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773875"><span class="hs-identifier hs-type">ps'</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-type">Boxed</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1467"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboxedTupP</span></span><span> </span><span id="local-6989586621682773878"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773878"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773879"><span class="annot"><a href="#local-6989586621682773879"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; CvtM [LPat GhcPs]
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773878"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1468"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#TuplePat"><span class="hs-identifier hs-type">TuplePat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773879"><span class="hs-identifier hs-type">ps'</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Unboxed"><span class="hs-identifier hs-type">Unboxed</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1469"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UnboxedSumP</span></span><span> </span><span id="local-6989586621682773881"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773881"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682773882"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773882"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621682773883"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682773883"><span class="hs-identifier hs-var">arity</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1470"></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773884"><span class="annot"><a href="#local-6989586621682773884"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773881"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1471"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#unboxedSumChecks"><span class="hs-identifier hs-type">unboxedSumChecks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773882"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773883"><span class="hs-identifier hs-type">arity</span></a></span><span>
</span><span id="line-1472"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SumPat"><span class="hs-identifier hs-type">SumPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773884"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773882"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773883"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1473"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConP</span></span><span> </span><span id="local-6989586621682773887"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773887"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682773888"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682773888"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span id="local-6989586621682773889"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773889"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773890"><span class="annot"><a href="#local-6989586621682773890"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#dNameN"><span class="hs-identifier hs-var">dNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773887"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1474"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773892"><span class="annot"><a href="#local-6989586621682773892"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-type">cvtPats</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773889"><span class="hs-identifier hs-type">ps</span></a></span><span>
</span><span id="line-1475"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773893"><span class="annot"><a href="#local-6989586621682773893"><span class="hs-identifier hs-var">ts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773888"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-1476"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773894"><span class="annot"><a href="#local-6989586621682773894"><span class="hs-identifier hs-var hs-var">pps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcPs)
 -&gt; GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; LPat GhcPs -&gt; LPat GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621682773892"><span class="hs-identifier hs-var">ps'</span></a></span><span>
</span><span id="line-1477"></span><span>                                  </span><span id="local-6989586621682773895"><span class="annot"><a href="#local-6989586621682773895"><span class="hs-identifier hs-var hs-var">pts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsConPatTyArg GhcPs)
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; [HsConPatTyArg GhcPs]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682773896"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682773896"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XConPatTyArg GhcPs -&gt; HsTyPat GhcPs -&gt; HsConPatTyArg GhcPs
forall p. XConPatTyArg p -&gt; HsTyPat p -&gt; HsConPatTyArg p
</span><a href="Language.Haskell.Syntax.Pat.html#HsConPatTyArg"><span class="hs-identifier hs-var">HsConPatTyArg</span></a></span><span> </span><span class="annot"><span class="annottext">EpToken &quot;@&quot;
XConPatTyArg GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsTyPat GhcPs
</span><a href="GHC.Hs.Type.html#mkHsTyPat"><span class="hs-identifier hs-var">mkHsTyPat</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682773896"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682773893"><span class="hs-identifier hs-var">ts'</span></a></span><span>
</span><span id="line-1478"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1479"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1480"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773890"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-1481"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773895"><span class="hs-identifier hs-type">pts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773894"><span class="hs-identifier hs-type">pps</span></a></span><span>
</span><span id="line-1482"></span><span>                                </span><span class="hs-special">}</span><span>
</span><span id="line-1483"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-1484"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InfixP</span></span><span> </span><span id="local-6989586621682773904"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773904"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621682773905"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773905"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682773906"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773906"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773907"><span class="annot"><a href="#local-6989586621682773907"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#dNameN"><span class="hs-identifier hs-var">dNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773905"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773908"><span class="annot"><a href="#local-6989586621682773908"><span class="hs-identifier hs-var">p1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773904"><span class="hs-identifier hs-type">p1</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773909"><span class="annot"><a href="#local-6989586621682773909"><span class="hs-identifier hs-var">p2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773906"><span class="hs-identifier hs-type">p2</span></a></span><span>
</span><span id="line-1485"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#gParPat"><span class="hs-identifier hs-type">gParPat</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1486"></span><span>                              </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1487"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1488"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773907"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-1489"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span>
</span><span id="line-1490"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-type">parenthesizePat</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-type">opPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773908"><span class="hs-identifier hs-type">p1'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1491"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-type">parenthesizePat</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-type">opPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773909"><span class="hs-identifier hs-type">p2'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1492"></span><span>                                </span><span class="hs-special">}</span><span>
</span><span id="line-1493"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-1494"></span><span>                            </span><span class="hs-comment">-- See Note [Operator association]</span><span>
</span><span id="line-1495"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UInfixP</span></span><span> </span><span id="local-6989586621682773911"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773911"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621682773912"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773912"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682773913"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773913"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773914"><span class="annot"><a href="#local-6989586621682773914"><span class="hs-identifier hs-var">p1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773911"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-type">cvtOpAppP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773914"><span class="hs-identifier hs-type">p1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773912"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773913"><span class="hs-identifier hs-type">p2</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- Note [Converting UInfix]</span><span>
</span><span id="line-1496"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ParensP</span></span><span> </span><span id="local-6989586621682773917"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773917"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773918"><span class="annot"><a href="#local-6989586621682773918"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773917"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1497"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773918"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- may be wrapped ConPatIn</span><span>
</span><span id="line-1498"></span><span>                                </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ParPat"><span class="hs-identifier hs-type">ParPat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; CvtM (Pat GhcPs)) -&gt; Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs) -&gt; Pat GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773918"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-1499"></span><span>                                </span><span class="annot"><span class="annottext">Pat GhcPs
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; CvtM (Pat GhcPs)) -&gt; Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs -&gt; Pat GhcPs
forall (p :: Pass). IsPass p =&gt; LPat (GhcPass p) -&gt; Pat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#gParPat"><span class="hs-identifier hs-var">gParPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773918"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1500"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TildeP</span></span><span> </span><span id="local-6989586621682773921"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773921"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773922"><span class="annot"><a href="#local-6989586621682773922"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773921"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LazyPat"><span class="hs-identifier hs-type">LazyPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773922"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1501"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BangP</span></span><span> </span><span id="local-6989586621682773925"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773925"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773926"><span class="annot"><a href="#local-6989586621682773926"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773925"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773926"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1502"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.AsP</span></span><span> </span><span id="local-6989586621682773929"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773929"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682773930"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773930"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773931"><span class="annot"><a href="#local-6989586621682773931"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773929"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773932"><span class="annot"><a href="#local-6989586621682773932"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773930"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-1503"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#AsPat"><span class="hs-identifier hs-type">AsPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773931"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773932"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1504"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><span class="hs-identifier hs-var">TH.WildP</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; CvtM (Pat GhcPs)) -&gt; Pat GhcPs -&gt; CvtM (Pat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XWildPat GhcPs -&gt; Pat GhcPs
forall p. XWildPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">XWildPat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1505"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecP</span></span><span> </span><span id="local-6989586621682773937"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773937"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682773938"><span class="annot"><span class="annottext">[FieldPat]
</span><a href="#local-6989586621682773938"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773939"><span class="annot"><a href="#local-6989586621682773939"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773937"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773940"><span class="annot"><a href="#local-6989586621682773940"><span class="hs-identifier hs-var">fs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPatFld"><span class="hs-identifier hs-type">cvtPatFld</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773938"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-1506"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1507"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1508"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773939"><span class="hs-identifier hs-type">c'</span></a></span><span>
</span><span id="line-1509"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">Hs.RecCon</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773940"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-1510"></span><span>                                </span><span class="hs-special">}</span><span>
</span><span id="line-1511"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-1512"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ListP</span></span><span> </span><span id="local-6989586621682773943"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773943"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773944"><span class="annot"><a href="#local-6989586621682773944"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; CvtM [LPat GhcPs]
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621682773943"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1513"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-1514"></span><span>                                   </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ListPat"><span class="hs-identifier hs-type">ListPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773944"><span class="hs-identifier hs-type">ps'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1515"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigP</span></span><span> </span><span id="local-6989586621682773947"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773947"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682773948"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773948"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773949"><span class="annot"><a href="#local-6989586621682773949"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; CvtM' ConversionFailReason (LPat GhcPs)
</span><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-var">cvtPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773947"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773950"><span class="annot"><a href="#local-6989586621682773950"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773948"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-1516"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682773951"><span class="annot"><a href="#local-6989586621682773951"><span class="hs-identifier hs-var hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LPat GhcPs -&gt; LPat GhcPs
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621682773949"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-1517"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SigPat"><span class="hs-identifier hs-type">SigPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773951"><span class="hs-identifier hs-type">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-type">mkHsPatSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773950"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1518"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ViewP</span></span><span> </span><span id="local-6989586621682773953"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773953"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682773954"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773954"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773955"><span class="annot"><a href="#local-6989586621682773955"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp -&gt; CvtM' ConversionFailReason (LHsExpr GhcPs)
</span><a href="GHC.ThToHs.html#cvtl"><span class="hs-identifier hs-var">cvtl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621682773953"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773956"><span class="annot"><a href="#local-6989586621682773956"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773954"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-1519"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#gParPat"><span class="hs-identifier hs-type">gParPat</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ViewPat"><span class="hs-identifier hs-type">ViewPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773955"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773956"><span class="hs-identifier hs-type">p'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1520"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeP</span></span><span> </span><span id="local-6989586621682773959"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773959"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773960"><span class="annot"><a href="#local-6989586621682773960"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773959"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1521"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#EmbTyPat"><span class="hs-identifier hs-type">EmbTyPat</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsTyPat"><span class="hs-identifier hs-type">mkHsTyPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773960"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1522"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InvisP</span></span><span> </span><span id="local-6989586621682773963"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773963"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773964"><span class="annot"><a href="#local-6989586621682773964"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs)
 -&gt; GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682773963"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1523"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#InvisPat"><span class="hs-identifier hs-type">InvisPat</span></a></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#noAnnSpecified"><span class="hs-identifier hs-type">noAnnSpecified</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsTyPat"><span class="hs-identifier hs-type">mkHsTyPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773964"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-1524"></span><span class="annot"><a href="GHC.ThToHs.html#cvtp"><span class="hs-identifier hs-var">cvtp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OrP</span></span><span> </span><span id="local-6989586621682773968"><span class="annot"><span class="annottext">NonEmpty Pat
</span><a href="#local-6989586621682773968"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773969"><span class="annot"><a href="#local-6989586621682773969"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NonEmpty Pat -&gt; CvtM (NonEmpty (LPat GhcPs))
forall (f :: * -&gt; *).
Traversable f =&gt;
f Pat -&gt; CvtM (f (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPats"><span class="hs-identifier hs-var">cvtPats</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Pat
</span><a href="#local-6989586621682773968"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1525"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#OrPat"><span class="hs-identifier hs-type">OrPat</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773969"><span class="hs-identifier hs-type">ps'</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-1526"></span><span>
</span><span id="line-1527"></span><span class="annot"><a href="GHC.ThToHs.html#noAnnSpecified"><span class="hs-identifier hs-type">noAnnSpecified</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#XInvisPat"><span class="hs-identifier hs-type">XInvisPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1528"></span><span id="noAnnSpecified"><span class="annot"><span class="annottext">noAnnSpecified :: XInvisPat GhcPs
</span><a href="GHC.ThToHs.html#noAnnSpecified"><span class="hs-identifier hs-var hs-var">noAnnSpecified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpToken &quot;@&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#SpecifiedSpec"><span class="hs-identifier hs-var">Hs.SpecifiedSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1529"></span><span>
</span><span id="line-1530"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPatFld"><span class="hs-identifier hs-type">cvtPatFld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1531"></span><span id="cvtPatFld"><span class="annot"><span class="annottext">cvtPatFld :: FieldPat -&gt; CvtM (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.ThToHs.html#cvtPatFld"><span class="hs-identifier hs-var hs-var">cvtPatFld</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682773972"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773972"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682773973"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773973"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1532"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682773974"><span class="annot"><a href="#local-6989586621682773974"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621682773975"><span class="annot"><a href="#local-6989586621682773975"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var">vNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773972"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1533"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773976"><span class="annot"><a href="#local-6989586621682773976"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773973"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-1534"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbAnn"><span class="hs-identifier hs-var">hfbAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1535"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbLHS"><span class="hs-identifier hs-var">hfbLHS</span></a></span><span>
</span><span id="line-1536"></span><span>                                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-type">l2l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773974"><span class="hs-identifier hs-type">ls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkFieldOcc"><span class="hs-identifier hs-type">mkFieldOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-type">l2l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773974"><span class="hs-identifier hs-type">ls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682773975"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1537"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773976"><span class="hs-identifier hs-type">p'</span></a></span><span>
</span><span id="line-1538"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbPun"><span class="hs-identifier hs-var">hfbPun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1539"></span><span>
</span><span id="line-1540"></span><span class="annot"><span class="hs-comment">{- | @cvtOpAppP x op y@ converts @op@ and @y@ and produces the operator application @x `op` y@.
The produced tree of infix patterns will be left-biased, provided @x@ is.

See the @cvtOpApp@ documentation for how this function works.
-}</span></span><span>
</span><span id="line-1545"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-type">cvtOpAppP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">Hs.LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Hs.Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1546"></span><span id="cvtOpAppP"><span class="annot"><span class="annottext">cvtOpAppP :: LPat GhcPs -&gt; Name -&gt; Pat -&gt; CvtM (Pat GhcPs)
</span><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-var hs-var">cvtOpAppP</span></a></span></span><span> </span><span id="local-6989586621682773977"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621682773977"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773978"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773978"><span class="hs-identifier hs-var">op1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UInfixP</span></span><span> </span><span id="local-6989586621682773979"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773979"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682773980"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773980"><span class="hs-identifier hs-var">op2</span></a></span></span><span> </span><span id="local-6989586621682773981"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773981"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773982"><span class="annot"><a href="#local-6989586621682773982"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM (Pat GhcPs)
-&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var">wrapLA</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM (Pat GhcPs)
 -&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; CvtM (Pat GhcPs)
-&gt; CvtM' ConversionFailReason (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs -&gt; Name -&gt; Pat -&gt; CvtM (Pat GhcPs)
</span><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-var">cvtOpAppP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621682773977"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773978"><span class="hs-identifier hs-var">op1</span></a></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773979"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1548"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-type">cvtOpAppP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773982"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773980"><span class="hs-identifier hs-type">op2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773981"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1549"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppP"><span class="hs-identifier hs-var">cvtOpAppP</span></a></span><span> </span><span id="local-6989586621682773983"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621682773983"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682773984"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773984"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682773985"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621682773985"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-1550"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682773986"><span class="annot"><a href="#local-6989586621682773986"><span class="hs-identifier hs-var">op'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682773984"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-1551"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682773987"><span class="annot"><a href="#local-6989586621682773987"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtPat"><span class="hs-identifier hs-type">cvtPat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773985"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1552"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1553"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1554"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682773986"><span class="hs-identifier hs-type">op'</span></a></span><span>
</span><span id="line-1555"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773983"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682773987"><span class="hs-identifier hs-type">y'</span></a></span><span>
</span><span id="line-1556"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1557"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1558"></span><span>
</span><span id="line-1559"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-1560"></span><span class="hs-comment">--      Types and type variables</span><span>
</span><span id="line-1561"></span><span>
</span><span id="line-1562"></span><span class="hs-keyword">class</span><span> </span><span id="CvtFlag"><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-var">CvtFlag</span></a></span></span><span> </span><span id="local-6989586621682771040"><span class="annot"><a href="#local-6989586621682771040"><span class="hs-identifier hs-type">flag</span></a></span></span><span> </span><span id="local-6989586621682771041"><span class="annot"><a href="#local-6989586621682771041"><span class="hs-identifier hs-type">flag'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621682771040"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682771041"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1563"></span><span>  </span><span id="cvtFlag"><span class="annot"><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-type">cvtFlag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682771040"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682771041"><span class="hs-identifier hs-type">flag'</span></a></span><span>
</span><span id="line-1564"></span><span>
</span><span id="line-1565"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-type">CvtFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1566"></span><span>  </span><span id="local-6989586621682773991"><span class="annot"><span class="annottext">cvtFlag :: () -&gt; ()
</span><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var hs-var hs-var">cvtFlag</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1567"></span><span>
</span><span id="line-1568"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-type">CvtFlag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Hs.Specificity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1569"></span><span>  </span><span id="local-6989586621682773993"><span class="annot"><span class="annottext">cvtFlag :: Specificity -&gt; Specificity
</span><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var hs-var hs-var">cvtFlag</span></a></span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><span class="hs-identifier hs-var">TH.SpecifiedSpec</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#SpecifiedSpec"><span class="hs-identifier hs-var">Hs.SpecifiedSpec</span></a></span><span>
</span><span id="line-1570"></span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var">cvtFlag</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><span class="hs-identifier hs-var">TH.InferredSpec</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#InferredSpec"><span class="hs-identifier hs-var">Hs.InferredSpec</span></a></span><span>
</span><span id="line-1571"></span><span>
</span><span id="line-1572"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-type">CvtFlag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVis"><span class="hs-identifier hs-type">HsBndrVis</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1573"></span><span>  </span><span id="local-6989586621682773999"><span class="annot"><span class="annottext">cvtFlag :: BndrVis -&gt; HsBndrVis GhcPs
</span><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var hs-var hs-var">cvtFlag</span></a></span></span><span> </span><span class="annot"><span class="annottext">BndrVis
</span><span class="hs-identifier hs-var">TH.BndrReq</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBndrRequired GhcPs -&gt; HsBndrVis GhcPs
forall pass. XBndrRequired pass -&gt; HsBndrVis pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBndrRequired"><span class="hs-identifier hs-var">HsBndrRequired</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XBndrRequired GhcPs
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1574"></span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var">cvtFlag</span></a></span><span> </span><span class="annot"><span class="annottext">BndrVis
</span><span class="hs-identifier hs-var">TH.BndrInvis</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBndrInvisible GhcPs -&gt; HsBndrVis GhcPs
forall pass. XBndrInvisible pass -&gt; HsBndrVis pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBndrInvisible"><span class="hs-identifier hs-var">HsBndrInvisible</span></a></span><span> </span><span class="annot"><span class="annottext">EpToken &quot;@&quot;
XBndrInvisible GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1575"></span><span>
</span><span id="line-1576"></span><span id="local-6989586621682770729"><span id="local-6989586621682770730"><span class="annot"><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-type">cvtTvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-type">CvtFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770729"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770730"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621682770729"><span class="hs-identifier hs-type">flag</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770730"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-1577"></span><span id="cvtTvs"><span class="annot"><span class="annottext">cvtTvs :: forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var hs-var">cvtTvs</span></a></span></span><span> </span><span id="local-6989586621682774008"><span class="annot"><span class="annottext">[TyVarBndr flag]
</span><a href="#local-6989586621682774008"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyVarBndr flag
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated SrcSpanAnnA (HsTyVarBndr flag' GhcPs)))
-&gt; [TyVarBndr flag]
-&gt; CvtM'
     ConversionFailReason
     [GenLocated SrcSpanAnnA (HsTyVarBndr flag' GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr flag -&gt; CvtM (XRec GhcPs (HsTyVarBndr flag' GhcPs))
TyVarBndr flag
-&gt; CvtM'
     ConversionFailReason
     (GenLocated SrcSpanAnnA (HsTyVarBndr flag' GhcPs))
forall flag flag'.
CvtFlag flag flag' =&gt;
TyVarBndr flag -&gt; CvtM (LHsTyVarBndr flag' GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-var">cvt_tv</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr flag]
</span><a href="#local-6989586621682774008"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1578"></span><span>
</span><span id="line-1579"></span><span id="local-6989586621682770716"><span id="local-6989586621682770717"><span class="annot"><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-type">cvt_tv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtFlag"><span class="hs-identifier hs-type">CvtFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770716"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770717"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621682770716"><span class="hs-identifier hs-type">flag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682770717"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1580"></span><span id="cvt_tv"><span class="annot"><span class="annottext">cvt_tv :: forall flag flag'.
CvtFlag flag flag' =&gt;
TyVarBndr flag -&gt; CvtM (LHsTyVarBndr flag' GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-var hs-var">cvt_tv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.PlainTV</span></span><span> </span><span id="local-6989586621682774020"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774020"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682774021"><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621682774021"><span class="hs-identifier hs-var">fl</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1581"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774022"><span class="annot"><a href="#local-6989586621682774022"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var">tNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774020"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1582"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774023"><span class="annot"><a href="#local-6989586621682774023"><span class="hs-identifier hs-var hs-var">fl'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">flag -&gt; flag'
forall flag flag'. CvtFlag flag flag' =&gt; flag -&gt; flag'
</span><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var">cvtFlag</span></a></span><span> </span><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621682774021"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-1583"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTvb"><span class="hs-identifier hs-type">HsTvb</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_ext"><span class="hs-identifier hs-var">tvb_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1584"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_flag"><span class="hs-identifier hs-var">tvb_flag</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682774023"><span class="hs-identifier hs-type">fl'</span></a></span><span>
</span><span id="line-1585"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_var"><span class="hs-identifier hs-var">tvb_var</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVar"><span class="hs-identifier hs-type">HsBndrVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774022"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-1586"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_kind"><span class="hs-identifier hs-var">tvb_kind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrNoKind"><span class="hs-identifier hs-type">HsBndrNoKind</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1587"></span><span class="annot"><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-var">cvt_tv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.KindedTV</span></span><span> </span><span id="local-6989586621682774032"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774032"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682774033"><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621682774033"><span class="hs-identifier hs-var">fl</span></a></span></span><span> </span><span id="local-6989586621682774034"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774034"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774035"><span class="annot"><a href="#local-6989586621682774035"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var">tNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774032"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1589"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774036"><span class="annot"><a href="#local-6989586621682774036"><span class="hs-identifier hs-var hs-var">fl'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">flag -&gt; flag'
forall flag flag'. CvtFlag flag flag' =&gt; flag -&gt; flag'
</span><a href="GHC.ThToHs.html#cvtFlag"><span class="hs-identifier hs-var">cvtFlag</span></a></span><span> </span><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621682774033"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-1590"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774037"><span class="annot"><a href="#local-6989586621682774037"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774034"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-1591"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTvb"><span class="hs-identifier hs-type">HsTvb</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_ext"><span class="hs-identifier hs-var">tvb_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span>
</span><span id="line-1592"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_flag"><span class="hs-identifier hs-var">tvb_flag</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682774036"><span class="hs-identifier hs-type">fl'</span></a></span><span>
</span><span id="line-1593"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_var"><span class="hs-identifier hs-var">tvb_var</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVar"><span class="hs-identifier hs-type">HsBndrVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774035"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-1594"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#tvb_kind"><span class="hs-identifier hs-var">tvb_kind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrKind"><span class="hs-identifier hs-type">HsBndrKind</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774037"><span class="hs-identifier hs-type">ki'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1595"></span><span>
</span><span id="line-1596"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-type">cvtRole</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Role</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Role"><span class="hs-identifier hs-type">Coercion.Role</span></a></span><span>
</span><span id="line-1597"></span><span id="cvtRole"><span class="annot"><span class="annottext">cvtRole :: Role -&gt; Maybe Role
</span><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-var hs-var">cvtRole</span></a></span></span><span> </span><span class="annot"><span class="annottext">Role
</span><span class="hs-identifier hs-var">TH.NominalR</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role -&gt; Maybe Role
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Nominal"><span class="hs-identifier hs-var">Coercion.Nominal</span></a></span><span>
</span><span id="line-1598"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-var">cvtRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><span class="hs-identifier hs-var">TH.RepresentationalR</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role -&gt; Maybe Role
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Representational"><span class="hs-identifier hs-var">Coercion.Representational</span></a></span><span>
</span><span id="line-1599"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-var">cvtRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><span class="hs-identifier hs-var">TH.PhantomR</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role -&gt; Maybe Role
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Phantom"><span class="hs-identifier hs-var">Coercion.Phantom</span></a></span><span>
</span><span id="line-1600"></span><span class="annot"><a href="GHC.ThToHs.html#cvtRole"><span class="hs-identifier hs-var">cvtRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><span class="hs-identifier hs-var">TH.InferR</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Role
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1601"></span><span>
</span><span id="line-1602"></span><span class="annot"><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-type">cvtContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#PprPrec"><span class="hs-identifier hs-type">PprPrec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1603"></span><span id="cvtContext"><span class="annot"><span class="annottext">cvtContext :: PprPrec -&gt; [Type] -&gt; CvtM (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-var hs-var">cvtContext</span></a></span></span><span> </span><span id="local-6989586621682774046"><span class="annot"><span class="annottext">PprPrec
</span><a href="#local-6989586621682774046"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682774047"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774047"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774048"><span class="annot"><a href="#local-6989586621682774048"><span class="hs-identifier hs-var">preds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Type
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [Type]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
Type
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.ThToHs.html#cvtPred"><span class="hs-identifier hs-var">cvtPred</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774047"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1604"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#parenthesizeHsContext"><span class="hs-identifier hs-type">parenthesizeHsContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774046"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774048"><span class="hs-identifier hs-type">preds'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1605"></span><span>
</span><span id="line-1606"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPred"><span class="hs-identifier hs-type">cvtPred</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pred</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1607"></span><span id="cvtPred"><span class="annot"><span class="annottext">cvtPred :: Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtPred"><span class="hs-identifier hs-var hs-var">cvtPred</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span>
</span><span id="line-1608"></span><span>
</span><span id="line-1609"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivClauseTys"><span class="hs-identifier hs-type">cvtDerivClauseTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivClauseTys"><span class="hs-identifier hs-type">LDerivClauseTys</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1610"></span><span id="cvtDerivClauseTys"><span class="annot"><span class="annottext">cvtDerivClauseTys :: [Type] -&gt; CvtM (LDerivClauseTys GhcPs)
</span><a href="GHC.ThToHs.html#cvtDerivClauseTys"><span class="hs-identifier hs-var hs-var">cvtDerivClauseTys</span></a></span></span><span> </span><span id="local-6989586621682774052"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774052"><span class="hs-identifier hs-var">tys</span></a></span></span><span>
</span><span id="line-1611"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774053"><span class="annot"><a href="#local-6989586621682774053"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Type
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsSigType GhcPs)))
-&gt; [Type]
-&gt; CvtM'
     ConversionFailReason [GenLocated SrcSpanAnnA (HsSigType GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
Type
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsSigType GhcPs))
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774052"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1612"></span><span>         </span><span class="hs-comment">-- Since TH.Cxt doesn't indicate the presence or absence of</span><span>
</span><span id="line-1613"></span><span>         </span><span class="hs-comment">-- parentheses in a deriving clause, we have to choose between</span><span>
</span><span id="line-1614"></span><span>         </span><span class="hs-comment">-- DctSingle and DctMulti somewhat arbitrarily. We opt to use DctMulti</span><span>
</span><span id="line-1615"></span><span>         </span><span class="hs-comment">-- unless the TH.Cxt is a singleton list whose type is a bare type</span><span>
</span><span id="line-1616"></span><span>         </span><span class="hs-comment">-- constructor with no arguments.</span><span>
</span><span id="line-1617"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682774053"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1618"></span><span>           </span><span class="hs-special">[</span><span id="local-6989586621682774054"><span class="annot"><span class="annottext">ty' :: GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621682774054"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682774055"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774055"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sig_bndrs :: forall pass. HsSigType pass -&gt; HsOuterSigTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_bndrs"><span class="hs-identifier hs-var">sig_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-1619"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1620"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)
-&gt; CvtM'
     ConversionFailReason
     (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)))
-&gt; GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)
-&gt; CvtM'
     ConversionFailReason
     (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnContext
-&gt; DerivClauseTys GhcPs
-&gt; GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnn AnnContext
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774055"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DerivClauseTys GhcPs
 -&gt; GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs))
-&gt; DerivClauseTys GhcPs
-&gt; GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XDctSingle GhcPs -&gt; LHsSigType GhcPs -&gt; DerivClauseTys GhcPs
forall pass.
XDctSingle pass -&gt; LHsSigType pass -&gt; DerivClauseTys pass
</span><a href="Language.Haskell.Syntax.Decls.html#DctSingle"><span class="hs-identifier hs-var">DctSingle</span></a></span><span> </span><span class="annot"><span class="annottext">XDctSingle GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621682774054"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-1621"></span><span>           </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsSigType GhcPs)]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DerivClauseTys GhcPs
-&gt; CvtM'
     ConversionFailReason
     (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(DerivClauseTys GhcPs
 -&gt; CvtM'
      ConversionFailReason
      (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs)))
-&gt; DerivClauseTys GhcPs
-&gt; CvtM'
     ConversionFailReason
     (GenLocated (EpAnn AnnContext) (DerivClauseTys GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XDctMulti GhcPs -&gt; [LHsSigType GhcPs] -&gt; DerivClauseTys GhcPs
forall pass.
XDctMulti pass -&gt; [LHsSigType pass] -&gt; DerivClauseTys pass
</span><a href="Language.Haskell.Syntax.Decls.html#DctMulti"><span class="hs-identifier hs-var">DctMulti</span></a></span><span> </span><span class="annot"><span class="annottext">XDctMulti GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcPs]
[GenLocated SrcSpanAnnA (HsSigType GhcPs)]
</span><a href="#local-6989586621682774053"><span class="hs-identifier hs-var">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1622"></span><span>
</span><span id="line-1623"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivClause"><span class="hs-identifier hs-type">cvtDerivClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span>
</span><span id="line-1624"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDerivingClause"><span class="hs-identifier hs-type">LHsDerivingClause</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1625"></span><span id="cvtDerivClause"><span class="annot"><span class="annottext">cvtDerivClause :: DerivClause -&gt; CvtM (LHsDerivingClause GhcPs)
</span><a href="GHC.ThToHs.html#cvtDerivClause"><span class="hs-identifier hs-var hs-var">cvtDerivClause</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span> </span><span id="local-6989586621682774065"><span class="annot"><span class="annottext">Maybe DerivStrategy
</span><a href="#local-6989586621682774065"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621682774066"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774066"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1626"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774067"><span class="annot"><a href="#local-6989586621682774067"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; CvtM (LDerivClauseTys GhcPs)
</span><a href="GHC.ThToHs.html#cvtDerivClauseTys"><span class="hs-identifier hs-var">cvtDerivClauseTys</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774066"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1627"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774068"><span class="annot"><a href="#local-6989586621682774068"><span class="hs-identifier hs-var">ds'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-type">cvtDerivStrategy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774065"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-1628"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDerivingClause"><span class="hs-identifier hs-type">HsDerivingClause</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774068"><span class="hs-identifier hs-type">ds'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774067"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1629"></span><span>
</span><span id="line-1630"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-type">cvtDerivStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivStrategy"><span class="hs-identifier hs-type">Hs.LDerivStrategy</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1631"></span><span id="cvtDerivStrategy"><span class="annot"><span class="annottext">cvtDerivStrategy :: DerivStrategy -&gt; CvtM (LDerivStrategy GhcPs)
</span><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-var hs-var">cvtDerivStrategy</span></a></span></span><span> </span><span class="annot"><span class="annottext">DerivStrategy
</span><span class="hs-identifier hs-var">TH.StockStrategy</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DerivStrategy GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (DerivStrategy GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XStockStrategy GhcPs -&gt; DerivStrategy GhcPs
forall pass. XStockStrategy pass -&gt; DerivStrategy pass
</span><a href="Language.Haskell.Syntax.Decls.html#StockStrategy"><span class="hs-identifier hs-var">Hs.StockStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">XStockStrategy GhcPs
EpToken &quot;stock&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1632"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-var">cvtDerivStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">DerivStrategy
</span><span class="hs-identifier hs-var">TH.AnyclassStrategy</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DerivStrategy GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (DerivStrategy GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAnyClassStrategy GhcPs -&gt; DerivStrategy GhcPs
forall pass. XAnyClassStrategy pass -&gt; DerivStrategy pass
</span><a href="Language.Haskell.Syntax.Decls.html#AnyclassStrategy"><span class="hs-identifier hs-var">Hs.AnyclassStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">XAnyClassStrategy GhcPs
EpToken &quot;anyclass&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1633"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-var">cvtDerivStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">DerivStrategy
</span><span class="hs-identifier hs-var">TH.NewtypeStrategy</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DerivStrategy GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (DerivStrategy GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNewtypeStrategy GhcPs -&gt; DerivStrategy GhcPs
forall pass. XNewtypeStrategy pass -&gt; DerivStrategy pass
</span><a href="Language.Haskell.Syntax.Decls.html#NewtypeStrategy"><span class="hs-identifier hs-var">Hs.NewtypeStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">XNewtypeStrategy GhcPs
EpToken &quot;newtype&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1634"></span><span class="annot"><a href="GHC.ThToHs.html#cvtDerivStrategy"><span class="hs-identifier hs-var">cvtDerivStrategy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.ViaStrategy</span></span><span> </span><span id="local-6989586621682774077"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774077"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1635"></span><span>  </span><span id="local-6989586621682774078"><span class="annot"><a href="#local-6989586621682774078"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774077"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1636"></span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ViaStrategy"><span class="hs-identifier hs-type">Hs.ViaStrategy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#XViaStrategyPs"><span class="hs-identifier hs-type">XViaStrategyPs</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774078"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1637"></span><span>
</span><span id="line-1638"></span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1639"></span><span id="cvtType"><span class="annot"><span class="annottext">cvtType :: Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var hs-var">cvtType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtTypeKind"><span class="hs-identifier hs-var">cvtTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span>
</span><span id="line-1640"></span><span>
</span><span id="line-1641"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-type">cvtSigType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1642"></span><span id="cvtSigType"><span class="annot"><span class="annottext">cvtSigType :: Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var hs-var">cvtSigType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigTypeKind"><span class="hs-identifier hs-var">cvtSigTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span class="hs-comment">-- | Convert a Template Haskell 'Type' to an 'LHsSigType'. To avoid duplicating</span><span>
</span><span id="line-1645"></span><span class="hs-comment">-- the logic in 'cvtTypeKind' here, we simply reuse 'cvtTypeKind' and perform</span><span>
</span><span id="line-1646"></span><span class="hs-comment">-- surgery on the 'LHsType' it returns to turn it into an 'LHsSigType'.</span><span>
</span><span id="line-1647"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSigTypeKind"><span class="hs-identifier hs-type">cvtSigTypeKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TypeOrKind"><span class="hs-identifier hs-type">TypeOrKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1648"></span><span id="cvtSigTypeKind"><span class="annot"><span class="annottext">cvtSigTypeKind :: TypeOrKind -&gt; Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigTypeKind"><span class="hs-identifier hs-var hs-var">cvtSigTypeKind</span></a></span></span><span> </span><span id="local-6989586621682774085"><span class="annot"><span class="annottext">TypeOrKind
</span><a href="#local-6989586621682774085"><span class="hs-identifier hs-var">typeOrKind</span></a></span></span><span> </span><span id="local-6989586621682774086"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774086"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1649"></span><span>  </span><span id="local-6989586621682774087"><span class="annot"><a href="#local-6989586621682774087"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtTypeKind"><span class="hs-identifier hs-var">cvtTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="#local-6989586621682774085"><span class="hs-identifier hs-var">typeOrKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774086"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1650"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#hsTypeToHsSigType"><span class="hs-identifier hs-type">hsTypeToHsSigType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-type">parenthesizeHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-type">sigPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774087"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-1651"></span><span>
</span><span id="line-1652"></span><span class="annot"><a href="GHC.ThToHs.html#cvtTypeKind"><span class="hs-identifier hs-type">cvtTypeKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TypeOrKind"><span class="hs-identifier hs-type">TypeOrKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1653"></span><span id="cvtTypeKind"><span class="annot"><span class="annottext">cvtTypeKind :: TypeOrKind -&gt; Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtTypeKind"><span class="hs-identifier hs-var hs-var">cvtTypeKind</span></a></span></span><span> </span><span id="local-6989586621682774089"><span class="annot"><span class="annottext">TypeOrKind
</span><a href="#local-6989586621682774089"><span class="hs-identifier hs-var">typeOrKind</span></a></span></span><span> </span><span id="local-6989586621682774090"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774090"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1654"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682774091"><span class="annot"><a href="#local-6989586621682774091"><span class="hs-identifier hs-var">head_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682774092"><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (Type, HsFamEqnPats GhcPs)
</span><a href="GHC.ThToHs.html#split_ty_app"><span class="hs-identifier hs-var">split_ty_app</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774090"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1655"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774093"><span class="annot"><a href="#local-6989586621682774093"><span class="hs-identifier hs-var hs-var">m_normals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))
 -&gt; Maybe (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">HsArg
  GhcPs
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; Maybe (GenLocated SrcSpanAnnA (HsType GhcPs))
forall {p} {a} {ty}. HsArg p a ty -&gt; Maybe a
</span><a href="#local-6989586621682774094"><span class="hs-identifier hs-var">extract_normal</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1656"></span><span>                                </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682774094"><span class="annot"><span class="annottext">extract_normal :: HsArg p a ty -&gt; Maybe a
</span><a href="#local-6989586621682774094"><span class="hs-identifier hs-var hs-var">extract_normal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682774095"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682774095"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682774095"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1657"></span><span>                                      </span><span class="annot"><a href="#local-6989586621682774094"><span class="hs-identifier hs-var">extract_normal</span></a></span><span> </span><span class="annot"><span class="annottext">HsArg p a ty
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1658"></span><span>
</span><span id="line-1659"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682774091"><span class="hs-identifier hs-type">head_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1660"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">TupleT</span></span><span> </span><span id="local-6989586621682774097"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774097"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1661"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774098"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774098"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1662"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774098"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; SumAlt -&gt; Bool
forall a. [a] -&gt; SumAlt -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIs"><span class="hs-operator hs-var">`lengthIs`</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774097"><span class="hs-identifier hs-var">n</span></a></span><span>         </span><span class="hs-comment">-- Saturated</span><span>
</span><span id="line-1663"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTupleTy GhcPs -&gt; HsTupleSort -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass.
XTupleTy pass -&gt; HsTupleSort -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
AnnParen
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774098"><span class="hs-identifier hs-var">normals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1664"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1665"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774102"><span class="annot"><a href="#local-6989586621682774102"><span class="hs-identifier hs-var">tuple_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; RdrName) -&gt; TyCon -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Boxity -&gt; SumAlt -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774097"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1666"></span><span>                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774102"><span class="hs-identifier hs-type">tuple_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1667"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">UnboxedTupleT</span></span><span> </span><span id="local-6989586621682774107"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774107"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1668"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774108"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774108"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1669"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774108"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; SumAlt -&gt; Bool
forall a. [a] -&gt; SumAlt -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIs"><span class="hs-operator hs-var">`lengthIs`</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774107"><span class="hs-identifier hs-var">n</span></a></span><span>               </span><span class="hs-comment">-- Saturated</span><span>
</span><span id="line-1670"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTupleTy GhcPs -&gt; HsTupleSort -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass.
XTupleTy pass -&gt; HsTupleSort -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
AnnParen
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsUnboxedTuple"><span class="hs-identifier hs-var">HsUnboxedTuple</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774108"><span class="hs-identifier hs-var">normals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1671"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1672"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774110"><span class="annot"><a href="#local-6989586621682774110"><span class="hs-identifier hs-var">tuple_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; RdrName) -&gt; TyCon -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Boxity -&gt; SumAlt -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774107"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1673"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774110"><span class="hs-identifier hs-type">tuple_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1674"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">UnboxedSumT</span></span><span> </span><span id="local-6989586621682774112"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774112"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1675"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774112"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; SumAlt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><span class="hs-number">2</span></span><span>
</span><span id="line-1676"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; ConversionFailReason
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalSumArity"><span class="hs-identifier hs-var">IllegalSumArity</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774112"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1677"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774115"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774115"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1678"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774115"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; SumAlt -&gt; Bool
forall a. [a] -&gt; SumAlt -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIs"><span class="hs-operator hs-var">`lengthIs`</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774112"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-comment">-- Saturated</span><span>
</span><span id="line-1679"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSumTy GhcPs -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass. XSumTy pass -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsSumTy"><span class="hs-identifier hs-var">HsSumTy</span></a></span><span> </span><span class="annot"><span class="annottext">XSumTy GhcPs
AnnParen
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774115"><span class="hs-identifier hs-var">normals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1680"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1681"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774117"><span class="annot"><a href="#local-6989586621682774117"><span class="hs-identifier hs-var">sum_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; RdrName) -&gt; TyCon -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#sumTyCon"><span class="hs-identifier hs-var">sumTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774112"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1682"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774117"><span class="hs-identifier hs-type">sum_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1683"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">ArrowT</span></span><span>
</span><span id="line-1684"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774120"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774120"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1685"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682774121"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682774122"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774122"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774120"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1686"></span><span>                 </span><span id="local-6989586621682774123"><span class="annot"><a href="#local-6989586621682774123"><span class="hs-identifier hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1687"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1688"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- #14646</span><span>
</span><span id="line-1689"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- #15324</span><span>
</span><span id="line-1690"></span><span>                          </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs)
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1691"></span><span>                                          </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774121"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1692"></span><span>                 </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774128"><span class="annot"><a href="#local-6989586621682774128"><span class="hs-identifier hs-var hs-var">y''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774122"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-1693"></span><span>                 </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsUnrestrictedArrow"><span class="hs-identifier hs-type">HsUnrestrictedArrow</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774123"><span class="hs-identifier hs-type">x''</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774128"><span class="hs-identifier hs-type">y''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1694"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1695"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774130"><span class="annot"><a href="#local-6989586621682774130"><span class="hs-identifier hs-var">fun_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier hs-var">unrestrictedFunTyCon</span></a></span><span>
</span><span id="line-1696"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774130"><span class="hs-identifier hs-type">fun_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1697"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">MulArrowT</span></span><span>
</span><span id="line-1698"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774133"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774133"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1699"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682774134"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774134"><span class="hs-identifier hs-var">w'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682774135"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682774136"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774136"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774133"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1700"></span><span>                 </span><span id="local-6989586621682774137"><span class="annot"><a href="#local-6989586621682774137"><span class="hs-identifier hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1701"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1702"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- #14646</span><span>
</span><span id="line-1703"></span><span>                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- #15324</span><span>
</span><span id="line-1704"></span><span>                          </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs)
 -&gt; CvtM'
      ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1705"></span><span>                                          </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774135"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1706"></span><span>                 </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774138"><span class="annot"><a href="#local-6989586621682774138"><span class="hs-identifier hs-var hs-var">y''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774136"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-1707"></span><span>                     </span><span id="local-6989586621682774139"><span class="annot"><a href="#local-6989586621682774139"><span class="hs-identifier hs-var hs-var">w''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsArrow GhcPs
</span><a href="GHC.ThToHs.html#hsTypeToArrow"><span class="hs-identifier hs-var">hsTypeToArrow</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774134"><span class="hs-identifier hs-var">w'</span></a></span><span>
</span><span id="line-1708"></span><span>                 </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774139"><span class="hs-identifier hs-type">w''</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774137"><span class="hs-identifier hs-type">x''</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774138"><span class="hs-identifier hs-type">y''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1709"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1710"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774141"><span class="annot"><a href="#local-6989586621682774141"><span class="hs-identifier hs-var">fun_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.Prim.html#fUNTyCon"><span class="hs-identifier hs-var">fUNTyCon</span></a></span><span>
</span><span id="line-1711"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774141"><span class="hs-identifier hs-type">fun_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1712"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">ListT</span></span><span>
</span><span id="line-1713"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774143"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774143"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1714"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682774144"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774144"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774143"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1715"></span><span>                </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XListTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XListTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsListTy"><span class="hs-identifier hs-var">HsListTy</span></a></span><span> </span><span class="annot"><span class="annottext">XListTy GhcPs
AnnParen
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774144"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1716"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1717"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774146"><span class="annot"><a href="#local-6989586621682774146"><span class="hs-identifier hs-var">list_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#listTyCon"><span class="hs-identifier hs-var">listTyCon</span></a></span><span>
</span><span id="line-1718"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774146"><span class="hs-identifier hs-type">list_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1719"></span><span>
</span><span id="line-1720"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621682774149"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774149"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774150"><span class="annot"><a href="#local-6989586621682774150"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var">tNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774149"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1721"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774150"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1722"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ConT</span></span><span> </span><span id="local-6989586621682774151"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774151"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774152"><span class="annot"><a href="#local-6989586621682774152"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var">tconName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774151"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1723"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774153"><span class="annot"><a href="#local-6989586621682774153"><span class="hs-identifier hs-var hs-var">prom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; PromotionFlag
</span><a href="GHC.ThToHs.html#name_promotedness"><span class="hs-identifier hs-var">name_promotedness</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682774152"><span class="hs-identifier hs-var">nm'</span></a></span><span>
</span><span id="line-1724"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774155"><span class="annot"><a href="#local-6989586621682774155"><span class="hs-identifier hs-var">lnm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774152"><span class="hs-identifier hs-type">nm'</span></a></span><span>
</span><span id="line-1725"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774153"><span class="hs-identifier hs-type">prom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774155"><span class="hs-identifier hs-type">lnm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1726"></span><span>
</span><span id="line-1727"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span> </span><span id="local-6989586621682774157"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774157"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682774158"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774158"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span id="local-6989586621682774159"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774159"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1728"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1729"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774160"><span class="annot"><a href="#local-6989586621682774160"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; CvtM [LHsTyVarBndr Specificity GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774157"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1730"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774161"><span class="annot"><a href="#local-6989586621682774161"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtContext"><span class="hs-identifier hs-type">cvtContext</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#funPrec"><span class="hs-identifier hs-type">funPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774158"><span class="hs-identifier hs-type">cxt</span></a></span><span>
</span><span id="line-1731"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774162"><span class="annot"><a href="#local-6989586621682774162"><span class="hs-identifier hs-var">ty'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774159"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1732"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774163"><span class="annot"><a href="#local-6989586621682774163"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-type">getL</span></a></span><span>
</span><span id="line-1733"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774164"><span class="annot"><a href="#local-6989586621682774164"><span class="hs-identifier hs-var hs-var">loc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774163"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1734"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774165"><span class="annot"><a href="#local-6989586621682774165"><span class="hs-identifier hs-var hs-var">tele</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
-&gt; [LHsTyVarBndr Specificity GhcPs] -&gt; HsForAllTelescope GhcPs
forall (p :: Pass).
EpAnnForallInvis
-&gt; [LHsTyVarBndr Specificity (GhcPass p)]
-&gt; HsForAllTelescope (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsForAllInvisTele"><span class="hs-identifier hs-var">mkHsForAllInvisTele</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682774160"><span class="hs-identifier hs-var">tvs'</span></a></span><span>
</span><span id="line-1735"></span><span>                         </span><span id="local-6989586621682774166"><span class="annot"><a href="#local-6989586621682774166"><span class="hs-identifier hs-var hs-var">hs_ty</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsForAllTelescope GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsForAllTy"><span class="hs-identifier hs-var">mkHsForAllTy</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774164"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">HsForAllTelescope GhcPs
</span><a href="#local-6989586621682774165"><span class="hs-identifier hs-var">tele</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774168"><span class="hs-identifier hs-var">rho_ty</span></a></span><span>
</span><span id="line-1736"></span><span>                         </span><span id="local-6989586621682774168"><span class="annot"><a href="#local-6989586621682774168"><span class="hs-identifier hs-var hs-var">rho_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; SrcSpanAnnA
-&gt; LHsContext GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsQualTy"><span class="hs-identifier hs-var">mkHsQualTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774158"><span class="hs-identifier hs-var">cxt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774164"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774161"><span class="hs-identifier hs-var">cxt'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774162"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-1737"></span><span>
</span><span id="line-1738"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682774166"><span class="hs-identifier hs-type">hs_ty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1739"></span><span>
</span><span id="line-1740"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ForallVisT</span></span><span> </span><span id="local-6989586621682774170"><span class="annot"><span class="annottext">[TyVarBndr ()]
</span><a href="#local-6989586621682774170"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621682774171"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774171"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1741"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1742"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774172"><span class="annot"><a href="#local-6989586621682774172"><span class="hs-identifier hs-var">tvs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr ()] -&gt; CvtM [LHsTyVarBndr () GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr ()]
</span><a href="#local-6989586621682774170"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1743"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774173"><span class="annot"><a href="#local-6989586621682774173"><span class="hs-identifier hs-var">ty'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774171"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1744"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774174"><span class="annot"><a href="#local-6989586621682774174"><span class="hs-identifier hs-var">loc</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-type">getL</span></a></span><span>
</span><span id="line-1745"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774175"><span class="annot"><a href="#local-6989586621682774175"><span class="hs-identifier hs-var hs-var">loc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774174"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1746"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774176"><span class="annot"><a href="#local-6989586621682774176"><span class="hs-identifier hs-var hs-var">tele</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnnForallVis
-&gt; [LHsTyVarBndr () GhcPs] -&gt; HsForAllTelescope GhcPs
forall (p :: Pass).
EpAnnForallVis
-&gt; [LHsTyVarBndr () (GhcPass p)] -&gt; HsForAllTelescope (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsForAllVisTele"><span class="hs-identifier hs-var">mkHsForAllVisTele</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallVis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621682774172"><span class="hs-identifier hs-var">tvs'</span></a></span><span>
</span><span id="line-1747"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mkHsForAllTy"><span class="hs-identifier hs-type">mkHsForAllTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774175"><span class="hs-identifier hs-type">loc'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774176"><span class="hs-identifier hs-type">tele</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774173"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1748"></span><span>
</span><span id="line-1749"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621682774178"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774178"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682774179"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774179"><span class="hs-identifier hs-var">ki</span></a></span></span><span>
</span><span id="line-1750"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774180"><span class="annot"><a href="#local-6989586621682774180"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774178"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1751"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774181"><span class="annot"><a href="#local-6989586621682774181"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774179"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-1752"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsKindSig"><span class="hs-identifier hs-type">HsKindSig</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774180"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774181"><span class="hs-identifier hs-type">ki'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span>
</span><span id="line-1753"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-1754"></span><span>
</span><span id="line-1755"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">LitT</span></span><span> </span><span id="local-6989586621682774184"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621682774184"><span class="hs-identifier hs-var">lit</span></a></span></span><span>
</span><span id="line-1756"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; HsFamEqnPats GhcPs -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-var">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyLit GhcPs -&gt; HsTyLit GhcPs -&gt; HsType GhcPs
forall pass. XTyLit pass -&gt; HsTyLit pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-var">HsTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">XTyLit GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyLit -&gt; HsTyLit GhcPs
forall (p :: Pass). TyLit -&gt; HsTyLit (GhcPass p)
</span><a href="GHC.ThToHs.html#cvtTyLit"><span class="hs-identifier hs-var">cvtTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621682774184"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1757"></span><span>
</span><span id="line-1758"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">WildCardT</span></span><span>
</span><span id="line-1759"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; HsFamEqnPats GhcPs -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-var">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpToken &quot;_&quot; -&gt; HsType GhcPs
</span><a href="GHC.Hs.Type.html#mkAnonWildCardTy"><span class="hs-identifier hs-var">mkAnonWildCardTy</span></a></span><span> </span><span class="annot"><span class="annottext">EpToken &quot;_&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1760"></span><span>
</span><span id="line-1761"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">InfixT</span></span><span> </span><span id="local-6989586621682774189"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774189"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682774190"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774190"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682774191"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774191"><span class="hs-identifier hs-var">t2</span></a></span></span><span>
</span><span id="line-1762"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774192"><span class="annot"><a href="#local-6989586621682774192"><span class="hs-identifier hs-var">s'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var">tconName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774190"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1763"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774193"><span class="annot"><a href="#local-6989586621682774193"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774189"><span class="hs-identifier hs-type">t1</span></a></span><span>
</span><span id="line-1764"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774194"><span class="annot"><a href="#local-6989586621682774194"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774191"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-1765"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774195"><span class="annot"><a href="#local-6989586621682774195"><span class="hs-identifier hs-var hs-var">prom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; PromotionFlag
</span><a href="GHC.ThToHs.html#name_promotedness"><span class="hs-identifier hs-var">name_promotedness</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682774192"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-1766"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774196"><span class="annot"><a href="#local-6989586621682774196"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774192"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-1767"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span>
</span><span id="line-1768"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774195"><span class="hs-identifier hs-type">prom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774196"><span class="hs-identifier hs-type">ls'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1769"></span><span>                      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774193"><span class="hs-identifier hs-type">t1'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774194"><span class="hs-identifier hs-type">t2'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1770"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-1771"></span><span>
</span><span id="line-1772"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">UInfixT</span></span><span> </span><span id="local-6989586621682774198"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774198"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682774199"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774199"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682774200"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774200"><span class="hs-identifier hs-var">t2</span></a></span></span><span>
</span><span id="line-1773"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774201"><span class="annot"><a href="#local-6989586621682774201"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774199"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1774"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774202"><span class="annot"><a href="#local-6989586621682774202"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774200"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-1775"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774203"><span class="annot"><a href="#local-6989586621682774203"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774198"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774201"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774202"><span class="hs-identifier hs-type">t2'</span></a></span><span>
</span><span id="line-1776"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774203"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span>
</span><span id="line-1777"></span><span>                   </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- Note [Converting UInfix]</span><span>
</span><span id="line-1778"></span><span>
</span><span id="line-1779"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">PromotedInfixT</span></span><span> </span><span id="local-6989586621682774206"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774206"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682774207"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774207"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682774208"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774208"><span class="hs-identifier hs-var">t2</span></a></span></span><span>
</span><span id="line-1780"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774209"><span class="annot"><a href="#local-6989586621682774209"><span class="hs-identifier hs-var">s'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774207"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1781"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774210"><span class="annot"><a href="#local-6989586621682774210"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774206"><span class="hs-identifier hs-type">t1</span></a></span><span>
</span><span id="line-1782"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774211"><span class="annot"><a href="#local-6989586621682774211"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774208"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-1783"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span>
</span><span id="line-1784"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774209"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1785"></span><span>                      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774210"><span class="hs-identifier hs-type">t1'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774211"><span class="hs-identifier hs-type">t2'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1786"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-1787"></span><span>
</span><span id="line-1788"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">PromotedUInfixT</span></span><span> </span><span id="local-6989586621682774214"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774214"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682774215"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774215"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682774216"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774216"><span class="hs-identifier hs-var">t2</span></a></span></span><span>
</span><span id="line-1789"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774217"><span class="annot"><a href="#local-6989586621682774217"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774215"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1790"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774218"><span class="annot"><a href="#local-6989586621682774218"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774216"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-1791"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774219"><span class="annot"><a href="#local-6989586621682774219"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774214"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774217"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774218"><span class="hs-identifier hs-type">t2'</span></a></span><span>
</span><span id="line-1792"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774219"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span>
</span><span id="line-1793"></span><span>                   </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- Note [Converting UInfix]</span><span>
</span><span id="line-1794"></span><span>
</span><span id="line-1795"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ParensT</span></span><span> </span><span id="local-6989586621682774221"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774221"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-1796"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774222"><span class="annot"><a href="#local-6989586621682774222"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774221"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1797"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774222"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span>
</span><span id="line-1798"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-1799"></span><span>
</span><span id="line-1800"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">PromotedT</span></span><span> </span><span id="local-6989586621682774224"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774224"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774225"><span class="annot"><a href="#local-6989586621682774225"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774224"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1801"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774225"><span class="hs-identifier hs-type">nm'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1802"></span><span>                                        </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1803"></span><span>                 </span><span class="hs-comment">-- Promoted data constructor; hence cName</span><span>
</span><span id="line-1804"></span><span>
</span><span id="line-1805"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">PromotedTupleT</span></span><span> </span><span id="local-6989586621682774227"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774227"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1806"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774228"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774228"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1807"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774228"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; SumAlt -&gt; Bool
forall a. [a] -&gt; SumAlt -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIs"><span class="hs-operator hs-var">`lengthIs`</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774227"><span class="hs-identifier hs-var">n</span></a></span><span>   </span><span class="hs-comment">-- Saturated</span><span>
</span><span id="line-1808"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitTupleTy GhcPs
-&gt; PromotionFlag -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass.
XExplicitTupleTy pass
-&gt; PromotionFlag -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitTupleTy"><span class="hs-identifier hs-var">HsExplicitTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;'&quot;, EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XExplicitTupleTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-var">IsPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774228"><span class="hs-identifier hs-var">normals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1809"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1810"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774230"><span class="annot"><a href="#local-6989586621682774230"><span class="hs-identifier hs-var">tuple_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; RdrName) -&gt; DataCon -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Boxity -&gt; SumAlt -&gt; DataCon
</span><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774227"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1811"></span><span>                    </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774230"><span class="hs-identifier hs-type">tuple_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1812"></span><span>
</span><span id="line-1813"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">PromotedNilT</span></span><span>
</span><span id="line-1814"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; HsFamEqnPats GhcPs -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-var">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitListTy GhcPs
-&gt; PromotionFlag -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass.
XExplicitListTy pass
-&gt; PromotionFlag -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;'&quot;, EpToken &quot;[&quot;, EpToken &quot;]&quot;)
XExplicitListTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-var">IsPromoted</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
[HsArg
   GhcPs
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774092"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-1815"></span><span>
</span><span id="line-1816"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">PromotedConsT</span></span><span>  </span><span class="hs-comment">-- See Note [Representing concrete syntax in types]</span><span>
</span><span id="line-1817"></span><span>                          </span><span class="hs-comment">-- in GHC.Internal.TH.Syntax</span><span>
</span><span id="line-1818"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774235"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774235"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1819"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682774236"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774236"><span class="hs-identifier hs-var">ty1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsExplicitListTy"><span class="hs-identifier hs-type">HsExplicitListTy</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitListTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682774237"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621682774237"><span class="hs-identifier hs-var">ip</span></a></span></span><span> </span><span id="local-6989586621682774238"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621682774238"><span class="hs-identifier hs-var">tys2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774235"><span class="hs-identifier hs-var">normals</span></a></span><span>
</span><span id="line-1820"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitListTy GhcPs
-&gt; PromotionFlag -&gt; [LHsType GhcPs] -&gt; HsType GhcPs
forall pass.
XExplicitListTy pass
-&gt; PromotionFlag -&gt; [LHsType pass] -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;'&quot;, EpToken &quot;[&quot;, EpToken &quot;]&quot;)
XExplicitListTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621682774237"><span class="hs-identifier hs-var">ip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774236"><span class="hs-identifier hs-var">ty1</span></a></span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774238"><span class="hs-identifier hs-var">tys2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1821"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1822"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774239"><span class="annot"><a href="#local-6989586621682774239"><span class="hs-identifier hs-var">cons_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#consDataCon"><span class="hs-identifier hs-var">consDataCon</span></a></span><span>
</span><span id="line-1823"></span><span>                    </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774239"><span class="hs-identifier hs-type">cons_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1824"></span><span>
</span><span id="line-1825"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">StarT</span></span><span>
</span><span id="line-1826"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774242"><span class="annot"><a href="#local-6989586621682774242"><span class="hs-identifier hs-var">type_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#liftedTypeKindTyCon"><span class="hs-identifier hs-var">liftedTypeKindTyCon</span></a></span><span>
</span><span id="line-1827"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774242"><span class="hs-identifier hs-type">type_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1828"></span><span>
</span><span id="line-1829"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">ConstraintT</span></span><span>
</span><span id="line-1830"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774245"><span class="annot"><a href="#local-6989586621682774245"><span class="hs-identifier hs-var">constraint_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; CvtM (LocatedN RdrName))
-&gt; RdrName -&gt; CvtM (LocatedN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#constraintKindTyCon"><span class="hs-identifier hs-var">constraintKindTyCon</span></a></span><span>
</span><span id="line-1831"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774245"><span class="hs-identifier hs-type">constraint_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1832"></span><span>
</span><span id="line-1833"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">EqualityT</span></span><span>
</span><span id="line-1834"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774248"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774248"><span class="hs-identifier hs-var">normals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774093"><span class="hs-identifier hs-var">m_normals</span></a></span><span>
</span><span id="line-1835"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682774249"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774249"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682774250"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774250"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774248"><span class="hs-identifier hs-var">normals</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1836"></span><span>                   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774251"><span class="annot"><span class="annottext">px :: LHsType GhcPs
</span><a href="#local-6989586621682774251"><span class="hs-identifier hs-var hs-var">px</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774249"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-1837"></span><span>                       </span><span id="local-6989586621682774252"><span class="annot"><span class="annottext">py :: LHsType GhcPs
</span><a href="#local-6989586621682774252"><span class="hs-identifier hs-var hs-var">py</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774250"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-1838"></span><span>                   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774253"><span class="annot"><a href="#local-6989586621682774253"><span class="hs-identifier hs-var">eq_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier hs-var">eqTyCon_RDR</span></a></span><span>
</span><span id="line-1839"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774251"><span class="hs-identifier hs-type">px</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774253"><span class="hs-identifier hs-type">eq_tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774252"><span class="hs-identifier hs-type">py</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1840"></span><span>               </span><span class="hs-comment">-- The long-term goal is to remove the above case entirely and</span><span>
</span><span id="line-1841"></span><span>               </span><span class="hs-comment">-- subsume it under the case for InfixT. See #15815, comment:6,</span><span>
</span><span id="line-1842"></span><span>               </span><span class="hs-comment">-- for more details.</span><span>
</span><span id="line-1843"></span><span>
</span><span id="line-1844"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1845"></span><span>                   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774256"><span class="annot"><a href="#local-6989586621682774256"><span class="hs-identifier hs-var">eq_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; CvtM (LocatedN RdrName)
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier hs-var">eqTyCon_RDR</span></a></span><span>
</span><span id="line-1846"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774256"><span class="hs-identifier hs-type">eq_tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774092"><span class="hs-identifier hs-type">tys'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1847"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">ImplicitParamT</span></span><span> </span><span id="local-6989586621682774258"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774258"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682774259"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774259"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-1848"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774260"><span class="annot"><a href="#local-6989586621682774260"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM HsIPName -&gt; CvtM (GenLocated SrcSpan HsIPName)
forall a. CvtM a -&gt; CvtM (Located a)
</span><a href="GHC.ThToHs.html#wrapL"><span class="hs-identifier hs-var">wrapL</span></a></span><span> </span><span class="annot"><span class="annottext">(CvtM HsIPName -&gt; CvtM (GenLocated SrcSpan HsIPName))
-&gt; CvtM HsIPName -&gt; CvtM (GenLocated SrcSpan HsIPName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CvtM HsIPName
</span><a href="GHC.ThToHs.html#ipName"><span class="hs-identifier hs-var">ipName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774258"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1849"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774261"><span class="annot"><a href="#local-6989586621682774261"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774259"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-1850"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsIParamTy"><span class="hs-identifier hs-type">HsIParamTy</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-type">reLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774260"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774261"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1851"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-1852"></span><span>
</span><span id="line-1853"></span><span>           </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#MalformedType"><span class="hs-identifier hs-var">MalformedType</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="#local-6989586621682774089"><span class="hs-identifier hs-var">typeOrKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774090"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1854"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1855"></span><span>
</span><span id="line-1856"></span><span class="annot"><a href="GHC.ThToHs.html#hsTypeToArrow"><span class="hs-identifier hs-type">hsTypeToArrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArrow"><span class="hs-identifier hs-type">HsArrow</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1857"></span><span id="hsTypeToArrow"><span class="annot"><span class="annottext">hsTypeToArrow :: LHsType GhcPs -&gt; HsArrow GhcPs
</span><a href="GHC.ThToHs.html#hsTypeToArrow"><span class="hs-identifier hs-var hs-var">hsTypeToArrow</span></a></span></span><span> </span><span id="local-6989586621682774264"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774264"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774264"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1858"></span><span>                     </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier hs-var">isExact_maybe</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774266"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774266"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1859"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774266"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#oneDataConName"><span class="hs-identifier hs-var">oneDataConName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XLinearArrow (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
-&gt; HsArrowOf (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
forall mult pass. XLinearArrow mult pass -&gt; HsArrowOf mult pass
</span><a href="Language.Haskell.Syntax.Type.html#HsLinearArrow"><span class="hs-identifier hs-var">HsLinearArrow</span></a></span><span> </span><span class="annot"><span class="annottext">XLinearArrow (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
EpLinearArrow
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1860"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774266"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#manyDataConName"><span class="hs-identifier hs-var">manyDataConName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XUnrestrictedArrow (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
-&gt; HsArrowOf (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
forall mult pass.
XUnrestrictedArrow mult pass -&gt; HsArrowOf mult pass
</span><a href="Language.Haskell.Syntax.Type.html#HsUnrestrictedArrow"><span class="hs-identifier hs-var">HsUnrestrictedArrow</span></a></span><span> </span><span class="annot"><span class="annottext">TokRarrow
XUnrestrictedArrow (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1861"></span><span>                     </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XExplicitMult (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArrowOf (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
forall mult pass.
XExplicitMult mult pass -&gt; mult -&gt; HsArrowOf mult pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitMult"><span class="hs-identifier hs-var">HsExplicitMult</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;%&quot;, TokRarrow)
XExplicitMult (GenLocated SrcSpanAnnA (HsType GhcPs)) GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774264"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1862"></span><span>
</span><span id="line-1863"></span><span class="hs-comment">-- ConT/InfixT can contain both data constructor (i.e., promoted) names and</span><span>
</span><span id="line-1864"></span><span class="hs-comment">-- other (i.e, unpromoted) names, as opposed to PromotedT, which can only</span><span>
</span><span id="line-1865"></span><span class="hs-comment">-- contain data constructor names. See #15572/#17394. We use this function to</span><span>
</span><span id="line-1866"></span><span class="hs-comment">-- determine whether to mark a name as promoted/unpromoted when dealing with</span><span>
</span><span id="line-1867"></span><span class="hs-comment">-- ConT/InfixT.</span><span>
</span><span id="line-1868"></span><span class="annot"><a href="GHC.ThToHs.html#name_promotedness"><span class="hs-identifier hs-type">name_promotedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PromotionFlag"><span class="hs-identifier hs-type">Hs.PromotionFlag</span></a></span><span>
</span><span id="line-1869"></span><span id="name_promotedness"><span class="annot"><span class="annottext">name_promotedness :: RdrName -&gt; PromotionFlag
</span><a href="GHC.ThToHs.html#name_promotedness"><span class="hs-identifier hs-var hs-var">name_promotedness</span></a></span></span><span> </span><span id="local-6989586621682774271"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682774271"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1870"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621682774271"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-var">IsPromoted</span></a></span><span>
</span><span id="line-1871"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span>
</span><span id="line-1872"></span><span>
</span><span id="line-1873"></span><span class="annot"><span class="hs-comment">-- | Constructs an application of a type to arguments passed in a list.</span></span><span>
</span><span id="line-1874"></span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1875"></span><span id="mk_apps"><span class="annot"><span class="annottext">mk_apps :: HsType GhcPs
-&gt; HsFamEqnPats GhcPs -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-var hs-var">mk_apps</span></a></span></span><span> </span><span id="local-6989586621682774273"><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621682774273"><span class="hs-identifier hs-var">head_ty</span></a></span></span><span> </span><span id="local-6989586621682774274"><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
</span><a href="#local-6989586621682774274"><span class="hs-identifier hs-var">type_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1876"></span><span>  </span><span id="local-6989586621682774275"><span class="annot"><a href="#local-6989586621682774275"><span class="hs-identifier hs-var">head_ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621682774273"><span class="hs-identifier hs-var">head_ty</span></a></span><span>
</span><span id="line-1877"></span><span>  </span><span class="hs-comment">-- We must parenthesize the function type in case of an explicit</span><span>
</span><span id="line-1878"></span><span>  </span><span class="hs-comment">-- signature. For instance, in `(Maybe :: Type -&gt; Type) Int`, there</span><span>
</span><span id="line-1879"></span><span>  </span><span class="hs-comment">-- _must_ be parentheses around `Maybe :: Type -&gt; Type`.</span><span>
</span><span id="line-1880"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621682774276"><span class="hs-identifier hs-type">phead_ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1881"></span><span>      </span><span id="local-6989586621682774276"><span class="annot"><a href="#local-6989586621682774276"><span class="hs-identifier hs-var hs-var">phead_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774275"><span class="hs-identifier hs-var">head_ty'</span></a></span><span>
</span><span id="line-1882"></span><span>
</span><span id="line-1883"></span><span>      </span><span class="annot"><a href="#local-6989586621682774277"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1884"></span><span>      </span><span id="local-6989586621682774277"><span class="annot"><a href="#local-6989586621682774277"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774275"><span class="hs-identifier hs-var">head_ty'</span></a></span><span>
</span><span id="line-1885"></span><span>      </span><span class="annot"><a href="#local-6989586621682774277"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682774278"><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621682774278"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682774279"><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
</span><a href="#local-6989586621682774279"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1886"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621682774278"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1887"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682774280"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774280"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1888"></span><span>                          </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682774281"><span class="annot"><a href="#local-6989586621682774281"><span class="hs-identifier hs-var">p_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall {p :: Pass}.
GenLocated SrcSpanAnnA (HsType (GhcPass p))
-&gt; CvtM (GenLocated SrcSpanAnnA (HsType (GhcPass p)))
</span><a href="#local-6989586621682774282"><span class="hs-identifier hs-var">add_parens</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774280"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1889"></span><span>                             </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppTy"><span class="hs-identifier hs-type">HsAppTy</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774276"><span class="hs-identifier hs-type">phead_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774281"><span class="hs-identifier hs-type">p_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774279"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-1890"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span id="local-6989586621682774285"><span class="annot"><span class="annottext">XTypeArg GhcPs
</span><a href="#local-6989586621682774285"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621682774286"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774286"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1891"></span><span>                          </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682774287"><span class="annot"><a href="#local-6989586621682774287"><span class="hs-identifier hs-var">p_ki</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; CvtM'
     ConversionFailReason (GenLocated SrcSpanAnnA (HsType GhcPs))
forall {p :: Pass}.
GenLocated SrcSpanAnnA (HsType (GhcPass p))
-&gt; CvtM (GenLocated SrcSpanAnnA (HsType (GhcPass p)))
</span><a href="#local-6989586621682774282"><span class="hs-identifier hs-var">add_parens</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774286"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1892"></span><span>                             </span><span class="annot"><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-type">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppKindTy"><span class="hs-identifier hs-type">HsAppKindTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774285"><span class="hs-identifier hs-type">at</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774276"><span class="hs-identifier hs-type">phead_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774287"><span class="hs-identifier hs-type">p_ki</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774279"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-1893"></span><span>          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="annot"><span class="annottext">XArgPar GhcPs
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
-&gt; HsFamEqnPats GhcPs -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#mk_apps"><span class="hs-identifier hs-var">mk_apps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy GhcPs -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy GhcPs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774276"><span class="hs-identifier hs-var">phead_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcPs
</span><a href="#local-6989586621682774279"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1894"></span><span>
</span><span id="line-1895"></span><span>  </span><span class="annot"><a href="#local-6989586621682774277"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774274"><span class="hs-identifier hs-type">type_args</span></a></span><span>
</span><span id="line-1896"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1897"></span><span>    </span><span class="hs-comment">-- See Note [Adding parens for splices]</span><span>
</span><span id="line-1898"></span><span>    </span><span id="local-6989586621682774282"><span class="annot"><span class="annottext">add_parens :: GenLocated SrcSpanAnnA (HsType (GhcPass p))
-&gt; CvtM (GenLocated SrcSpanAnnA (HsType (GhcPass p)))
</span><a href="#local-6989586621682774282"><span class="hs-identifier hs-var hs-var">add_parens</span></a></span></span><span> </span><span id="local-6989586621682774295"><span class="annot"><span class="annottext">lt :: GenLocated SrcSpanAnnA (HsType (GhcPass p))
</span><a href="#local-6989586621682774295"><span class="hs-identifier hs-var">lt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682774296"><span class="annot"><span class="annottext">HsType (GhcPass p)
</span><a href="#local-6989586621682774296"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1899"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; HsType (GhcPass p) -&gt; Bool
forall (p :: Pass). PprPrec -&gt; HsType (GhcPass p) -&gt; Bool
</span><a href="GHC.Hs.Type.html#hsTypeNeedsParens"><span class="hs-identifier hs-var">hsTypeNeedsParens</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass p)
</span><a href="#local-6989586621682774296"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass p)
-&gt; CvtM (GenLocated SrcSpanAnnA (HsType (GhcPass p)))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParTy (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; HsType (GhcPass p)
forall pass. XParTy pass -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">(EpToken &quot;(&quot;, EpToken &quot;)&quot;)
XParTy (GhcPass p)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType (GhcPass p)
GenLocated SrcSpanAnnA (HsType (GhcPass p))
</span><a href="#local-6989586621682774295"><span class="hs-identifier hs-var">lt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1900"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass p))
-&gt; CvtM (GenLocated SrcSpanAnnA (HsType (GhcPass p)))
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass p))
</span><a href="#local-6989586621682774295"><span class="hs-identifier hs-var">lt</span></a></span><span>
</span><span id="line-1901"></span><span>
</span><span id="line-1902"></span><span class="annot"><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-type">wrap_tyarg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1903"></span><span id="wrap_tyarg"><span class="annot"><span class="annottext">wrap_tyarg :: LHsTypeArg GhcPs -&gt; LHsTypeArg GhcPs
</span><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-var hs-var">wrap_tyarg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621682774298"><span class="annot"><span class="annottext">XValArg GhcPs
</span><a href="#local-6989586621682774298"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682774299"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774299"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XValArg GhcPs -&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall p tm ty. XValArg p -&gt; tm -&gt; HsArg p tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcPs
</span><a href="#local-6989586621682774298"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; LHsTypeArg GhcPs)
-&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774299"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1904"></span><span class="annot"><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-var">wrap_tyarg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span id="local-6989586621682774300"><span class="annot"><span class="annottext">XTypeArg GhcPs
</span><a href="#local-6989586621682774300"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682774301"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774301"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XTypeArg GhcPs -&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall p tm ty. XTypeArg p -&gt; ty -&gt; HsArg p tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeArg GhcPs
</span><a href="#local-6989586621682774300"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; LHsTypeArg GhcPs)
-&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774301"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1905"></span><span class="annot"><a href="GHC.ThToHs.html#wrap_tyarg"><span class="hs-identifier hs-var">wrap_tyarg</span></a></span><span> </span><span id="local-6989586621682774302"><span class="annot"><span class="annottext">ta :: LHsTypeArg GhcPs
</span><a href="#local-6989586621682774302"><span class="hs-identifier hs-var">ta</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621682774302"><span class="hs-identifier hs-var">ta</span></a></span><span> </span><span class="hs-comment">-- Already parenthesized</span><span>
</span><span id="line-1906"></span><span>
</span><span id="line-1907"></span><span class="hs-comment">-- ---------------------------------------------------------------------</span><span>
</span><span id="line-1908"></span><span class="hs-comment">{-
Note [Adding parens for splices]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The hsSyn representation of parsed source explicitly contains all the original
parens, as written in the source.

When a Template Haskell (TH) splice is evaluated, the original splice is first
renamed and type checked and then finally converted to core in
GHC.HsToCore.Quote. This core is then run in the TH engine, and the result
comes back as a TH AST.

In the process, all parens are stripped out, as they are not needed.

This Convert module then converts the TH AST back to hsSyn AST.

In order to pretty-print this hsSyn AST, parens need to be added back at certain
points so that the code is readable with its original meaning.

So scattered through &quot;GHC.ThToHs&quot; are various points where parens are added.

See (among other closed issues) https://gitlab.haskell.org/ghc/ghc/issues/14289
-}</span><span>
</span><span id="line-1930"></span><span class="hs-comment">-- ---------------------------------------------------------------------</span><span>
</span><span id="line-1931"></span><span>
</span><span id="line-1932"></span><span class="annot"><a href="GHC.ThToHs.html#split_ty_app"><span class="hs-identifier hs-type">split_ty_app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1933"></span><span id="split_ty_app"><span class="annot"><span class="annottext">split_ty_app :: Type -&gt; CvtM (Type, HsFamEqnPats GhcPs)
</span><a href="GHC.ThToHs.html#split_ty_app"><span class="hs-identifier hs-var hs-var">split_ty_app</span></a></span></span><span> </span><span id="local-6989586621682774303"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774303"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
-&gt; [HsArg
      GhcPs
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; CvtM'
     ConversionFailReason
     (Type,
      [HsArg
         GhcPs
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
forall {p}.
(XValArg p ~ NoExtField, XArgPar p ~ SrcSpan,
 NoAnn (XTypeArg p)) =&gt;
Type
-&gt; [HsArg
      p
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; CvtM'
     ConversionFailReason
     (Type,
      [HsArg
         p
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
</span><a href="#local-6989586621682774304"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774303"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1934"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1935"></span><span>    </span><span id="local-6989586621682774304"><span class="annot"><span class="annottext">go :: Type
-&gt; [HsArg
      p
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; CvtM'
     ConversionFailReason
     (Type,
      [HsArg
         p
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
</span><a href="#local-6989586621682774304"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AppT</span></span><span> </span><span id="local-6989586621682774316"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774316"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682774317"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774317"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682774318"><span class="annot"><span class="annottext">[HsArg
   p
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774318"><span class="hs-identifier hs-var">as'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774319"><span class="annot"><a href="#local-6989586621682774319"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774317"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774316"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774319"><span class="hs-identifier hs-type">a'</span></a></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><a href="#local-6989586621682774318"><span class="hs-identifier hs-type">as'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1936"></span><span>    </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AppKindT</span></span><span> </span><span id="local-6989586621682774321"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774321"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682774322"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774322"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682774323"><span class="annot"><span class="annottext">[HsArg
   p
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774323"><span class="hs-identifier hs-var">as'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774324"><span class="annot"><a href="#local-6989586621682774324"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-var">cvtKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774322"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1937"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774321"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774324"><span class="hs-identifier hs-type">ki'</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682774323"><span class="hs-identifier hs-type">as'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1938"></span><span>    </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ParensT</span></span><span> </span><span id="local-6989586621682774325"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774325"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682774326"><span class="annot"><span class="annottext">[HsArg
   p
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774326"><span class="hs-identifier hs-var">as'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774327"><span class="annot"><a href="#local-6989586621682774327"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM SrcSpan
</span><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-var">getL</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774325"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774327"><span class="hs-identifier hs-type">loc</span></a></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682774326"><span class="hs-identifier hs-type">as'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1939"></span><span>    </span><span class="annot"><a href="#local-6989586621682774304"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682774328"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774328"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682774329"><span class="annot"><span class="annottext">[HsArg
   p
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774329"><span class="hs-keyword hs-var">as</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type,
 [HsArg
    p
    (GenLocated SrcSpanAnnA (HsType GhcPs))
    (GenLocated SrcSpanAnnA (HsType GhcPs))])
-&gt; CvtM'
     ConversionFailReason
     (Type,
      [HsArg
         p
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))])
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774328"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[HsArg
   p
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621682774329"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1940"></span><span>
</span><span id="line-1941"></span><span id="local-6989586621682771098"><span class="annot"><a href="GHC.ThToHs.html#cvtTyLit"><span class="hs-identifier hs-type">cvtTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TyLit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682771098"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1942"></span><span id="cvtTyLit"><span class="annot"><span class="annottext">cvtTyLit :: forall (p :: Pass). TyLit -&gt; HsTyLit (GhcPass p)
</span><a href="GHC.ThToHs.html#cvtTyLit"><span class="hs-identifier hs-var hs-var">cvtTyLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.NumTyLit</span></span><span> </span><span id="local-6989586621682774331"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774331"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XNumTy (GhcPass p) -&gt; Integer -&gt; HsTyLit (GhcPass p)
forall pass. XNumTy pass -&gt; Integer -&gt; HsTyLit pass
</span><a href="Language.Haskell.Syntax.Type.html#HsNumTy"><span class="hs-identifier hs-var">HsNumTy</span></a></span><span> </span><span class="annot"><span class="annottext">XNumTy (GhcPass p)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774331"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1943"></span><span class="annot"><a href="GHC.ThToHs.html#cvtTyLit"><span class="hs-identifier hs-var">cvtTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.StrTyLit</span></span><span> </span><span id="local-6989586621682774334"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774334"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XStrTy (GhcPass p) -&gt; FastString -&gt; HsTyLit (GhcPass p)
forall pass. XStrTy pass -&gt; FastString -&gt; HsTyLit pass
</span><a href="Language.Haskell.Syntax.Type.html#HsStrTy"><span class="hs-identifier hs-var">HsStrTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStrTy (GhcPass p)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774334"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1944"></span><span class="annot"><a href="GHC.ThToHs.html#cvtTyLit"><span class="hs-identifier hs-var">cvtTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.CharTyLit</span></span><span> </span><span id="local-6989586621682774337"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682774337"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCharTy (GhcPass p) -&gt; Char -&gt; HsTyLit (GhcPass p)
forall pass. XCharTy pass -&gt; Char -&gt; HsTyLit pass
</span><a href="Language.Haskell.Syntax.Type.html#HsCharTy"><span class="hs-identifier hs-var">HsCharTy</span></a></span><span> </span><span class="annot"><span class="annottext">XCharTy (GhcPass p)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682774337"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1945"></span><span>
</span><span id="line-1946"></span><span class="annot"><span class="hs-comment">{- | @cvtOpAppT x op y@ converts @op@ and @y@ and produces the operator
application @x `op` y@. The produced tree of infix types will be right-biased,
provided @y@ is.

See the @cvtOpApp@ documentation for how this function works.
-}</span></span><span>
</span><span id="line-1952"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1953"></span><span id="cvtOpAppT"><span class="annot"><span class="annottext">cvtOpAppT :: PromotionFlag
-&gt; Type
-&gt; LocatedN RdrName
-&gt; LHsType GhcPs
-&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-var hs-var">cvtOpAppT</span></a></span></span><span> </span><span id="local-6989586621682774339"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621682774339"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UInfixT</span></span><span> </span><span id="local-6989586621682774340"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774340"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682774341"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774341"><span class="hs-identifier hs-var">op2</span></a></span></span><span> </span><span id="local-6989586621682774342"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774342"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682774343"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621682774343"><span class="hs-identifier hs-var">op1</span></a></span></span><span> </span><span id="local-6989586621682774344"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774344"><span class="hs-identifier hs-var">z</span></a></span></span><span>
</span><span id="line-1954"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774345"><span class="annot"><a href="#local-6989586621682774345"><span class="hs-identifier hs-var">op2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var">tconNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774341"><span class="hs-identifier hs-var">op2</span></a></span><span>
</span><span id="line-1955"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774346"><span class="annot"><a href="#local-6989586621682774346"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774339"><span class="hs-identifier hs-type">prom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774342"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774343"><span class="hs-identifier hs-type">op1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774344"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-1956"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-type">NotPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774340"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774345"><span class="hs-identifier hs-type">op2'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774346"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1957"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-var">cvtOpAppT</span></a></span><span> </span><span id="local-6989586621682774347"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621682774347"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PromotedUInfixT</span></span><span> </span><span id="local-6989586621682774348"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774348"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682774349"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774349"><span class="hs-identifier hs-var">op2</span></a></span></span><span> </span><span id="local-6989586621682774350"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774350"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682774351"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621682774351"><span class="hs-identifier hs-var">op1</span></a></span></span><span> </span><span id="local-6989586621682774352"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774352"><span class="hs-identifier hs-var">z</span></a></span></span><span>
</span><span id="line-1958"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774353"><span class="annot"><a href="#local-6989586621682774353"><span class="hs-identifier hs-var">op2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var">cNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774349"><span class="hs-identifier hs-var">op2</span></a></span><span>
</span><span id="line-1959"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774354"><span class="annot"><a href="#local-6989586621682774354"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774347"><span class="hs-identifier hs-type">prom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774350"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774351"><span class="hs-identifier hs-type">op1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774352"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-1960"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-type">cvtOpAppT</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-type">IsPromoted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774348"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774353"><span class="hs-identifier hs-type">op2'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774354"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1961"></span><span class="annot"><a href="GHC.ThToHs.html#cvtOpAppT"><span class="hs-identifier hs-var">cvtOpAppT</span></a></span><span> </span><span id="local-6989586621682774355"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621682774355"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621682774356"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774356"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682774357"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621682774357"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682774358"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774358"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-1962"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774359"><span class="annot"><a href="#local-6989586621682774359"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774356"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1963"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsOpTy"><span class="hs-identifier hs-type">mkHsOpTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774355"><span class="hs-identifier hs-type">prom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774359"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774357"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774358"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1964"></span><span>
</span><span id="line-1965"></span><span class="annot"><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-type">cvtKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1966"></span><span id="cvtKind"><span class="annot"><span class="annottext">cvtKind :: Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-var hs-var">cvtKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtTypeKind"><span class="hs-identifier hs-var">cvtTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#KindLevel"><span class="hs-identifier hs-var">KindLevel</span></a></span><span>
</span><span id="line-1967"></span><span>
</span><span id="line-1968"></span><span class="annot"><a href="GHC.ThToHs.html#cvtSigKind"><span class="hs-identifier hs-type">cvtSigKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1969"></span><span id="cvtSigKind"><span class="annot"><span class="annottext">cvtSigKind :: Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigKind"><span class="hs-identifier hs-var hs-var">cvtSigKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeOrKind -&gt; Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigTypeKind"><span class="hs-identifier hs-var">cvtSigTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#KindLevel"><span class="hs-identifier hs-var">KindLevel</span></a></span><span>
</span><span id="line-1970"></span><span>
</span><span id="line-1971"></span><span class="hs-comment">-- | Convert Maybe Kind to a type family result signature. Used with data</span><span>
</span><span id="line-1972"></span><span class="hs-comment">-- families where naming of the result is not possible (thus only kind or no</span><span>
</span><span id="line-1973"></span><span class="hs-comment">-- signature is possible).</span><span>
</span><span id="line-1974"></span><span class="annot"><a href="GHC.ThToHs.html#cvtMaybeKindToFamilyResultSig"><span class="hs-identifier hs-type">cvtMaybeKindToFamilyResultSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span>
</span><span id="line-1975"></span><span>                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyResultSig"><span class="hs-identifier hs-type">LFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1976"></span><span id="cvtMaybeKindToFamilyResultSig"><span class="annot"><span class="annottext">cvtMaybeKindToFamilyResultSig :: Maybe Type -&gt; CvtM (LFamilyResultSig GhcPs)
</span><a href="GHC.ThToHs.html#cvtMaybeKindToFamilyResultSig"><span class="hs-identifier hs-var hs-var">cvtMaybeKindToFamilyResultSig</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (FamilyResultSig GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNoSig GhcPs -&gt; FamilyResultSig GhcPs
forall pass. XNoSig pass -&gt; FamilyResultSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#NoSig"><span class="hs-identifier hs-var">Hs.NoSig</span></a></span><span> </span><span class="annot"><span class="annottext">XNoSig GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1977"></span><span class="annot"><a href="GHC.ThToHs.html#cvtMaybeKindToFamilyResultSig"><span class="hs-identifier hs-var">cvtMaybeKindToFamilyResultSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774363"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774363"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774364"><span class="annot"><a href="#local-6989586621682774364"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-var">cvtKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774363"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1978"></span><span>                                             </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#KindSig"><span class="hs-identifier hs-type">Hs.KindSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774364"><span class="hs-identifier hs-type">ki'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1979"></span><span>
</span><span id="line-1980"></span><span class="hs-comment">-- | Convert type family result signature. Used with both open and closed type</span><span>
</span><span id="line-1981"></span><span class="hs-comment">-- families.</span><span>
</span><span id="line-1982"></span><span class="annot"><a href="GHC.ThToHs.html#cvtFamilyResultSig"><span class="hs-identifier hs-type">cvtFamilyResultSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyResultSig"><span class="hs-identifier hs-type">Hs.LFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1983"></span><span id="cvtFamilyResultSig"><span class="annot"><span class="annottext">cvtFamilyResultSig :: FamilyResultSig -&gt; CvtM (LFamilyResultSig GhcPs)
</span><a href="GHC.ThToHs.html#cvtFamilyResultSig"><span class="hs-identifier hs-var hs-var">cvtFamilyResultSig</span></a></span></span><span> </span><span class="annot"><span class="annottext">FamilyResultSig
</span><span class="hs-identifier hs-var">TH.NoSig</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcPs
-&gt; CvtM'
     ConversionFailReason (GenLocated EpAnnCO (FamilyResultSig GhcPs))
forall ann e. NoAnn ann =&gt; e -&gt; CvtM (LocatedAn ann e)
</span><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-var">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNoSig GhcPs -&gt; FamilyResultSig GhcPs
forall pass. XNoSig pass -&gt; FamilyResultSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#NoSig"><span class="hs-identifier hs-var">Hs.NoSig</span></a></span><span> </span><span class="annot"><span class="annottext">XNoSig GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1984"></span><span class="annot"><a href="GHC.ThToHs.html#cvtFamilyResultSig"><span class="hs-identifier hs-var">cvtFamilyResultSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.KindSig</span></span><span> </span><span id="local-6989586621682774368"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774368"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774369"><span class="annot"><a href="#local-6989586621682774369"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtKind"><span class="hs-identifier hs-var">cvtKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774368"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1985"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#KindSig"><span class="hs-identifier hs-type">Hs.KindSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682774369"><span class="hs-identifier hs-type">ki'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1986"></span><span class="annot"><a href="GHC.ThToHs.html#cvtFamilyResultSig"><span class="hs-identifier hs-var">cvtFamilyResultSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarSig</span></span><span> </span><span id="local-6989586621682774371"><span class="annot"><span class="annottext">TyVarBndr ()
</span><a href="#local-6989586621682774371"><span class="hs-identifier hs-var">bndr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774372"><span class="annot"><a href="#local-6989586621682774372"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarBndr () -&gt; CvtM (LHsTyVarBndr () GhcPs)
forall flag flag'.
CvtFlag flag flag' =&gt;
TyVarBndr flag -&gt; CvtM (LHsTyVarBndr flag' GhcPs)
</span><a href="GHC.ThToHs.html#cvt_tv"><span class="hs-identifier hs-var">cvt_tv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarBndr ()
</span><a href="#local-6989586621682774371"><span class="hs-identifier hs-var">bndr</span></a></span><span>
</span><span id="line-1987"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyVarSig"><span class="hs-identifier hs-type">Hs.TyVarSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774372"><span class="hs-identifier hs-type">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1988"></span><span>
</span><span id="line-1989"></span><span class="annot"><span class="hs-comment">-- | Convert injectivity annotation of a type family.</span></span><span>
</span><span id="line-1990"></span><span class="annot"><a href="GHC.ThToHs.html#cvtInjectivityAnnotation"><span class="hs-identifier hs-type">cvtInjectivityAnnotation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.InjectivityAnn</span></span><span>
</span><span id="line-1991"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">Hs.LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1992"></span><span id="cvtInjectivityAnnotation"><span class="annot"><span class="annottext">cvtInjectivityAnnotation :: InjectivityAnn -&gt; CvtM (LInjectivityAnn GhcPs)
</span><a href="GHC.ThToHs.html#cvtInjectivityAnnotation"><span class="hs-identifier hs-var hs-var">cvtInjectivityAnnotation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.InjectivityAnn</span></span><span> </span><span id="local-6989586621682774375"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774375"><span class="hs-identifier hs-var">annLHS</span></a></span></span><span> </span><span id="local-6989586621682774376"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682774376"><span class="hs-identifier hs-var">annRHS</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1993"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774377"><span class="annot"><a href="#local-6989586621682774377"><span class="hs-identifier hs-var">annLHS'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var">tNameN</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774375"><span class="hs-identifier hs-var">annLHS</span></a></span><span>
</span><span id="line-1994"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774378"><span class="annot"><a href="#local-6989586621682774378"><span class="hs-identifier hs-var">annRHS'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-type">tNameN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774376"><span class="hs-identifier hs-type">annRHS</span></a></span><span>
</span><span id="line-1995"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InjectivityAnn"><span class="hs-identifier hs-type">Hs.InjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774377"><span class="hs-identifier hs-type">annLHS'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774378"><span class="hs-identifier hs-type">annRHS'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1996"></span><span>
</span><span id="line-1997"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPatSynSigTy"><span class="hs-identifier hs-type">cvtPatSynSigTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1998"></span><span class="hs-comment">-- pattern synonym types are of peculiar shapes, which is why we treat</span><span>
</span><span id="line-1999"></span><span class="hs-comment">-- them separately from regular types;</span><span>
</span><span id="line-2000"></span><span class="hs-comment">-- see Note [Pattern synonym type signatures and Template Haskell]</span><span>
</span><span id="line-2001"></span><span id="cvtPatSynSigTy"><span class="annot"><span class="annottext">cvtPatSynSigTy :: Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtPatSynSigTy"><span class="hs-identifier hs-var hs-var">cvtPatSynSigTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span> </span><span id="local-6989586621682774380"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774380"><span class="hs-identifier hs-var">univs</span></a></span></span><span> </span><span id="local-6989586621682774381"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774381"><span class="hs-identifier hs-var">reqs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span> </span><span id="local-6989586621682774382"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774382"><span class="hs-identifier hs-var">exis</span></a></span></span><span> </span><span id="local-6989586621682774383"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774383"><span class="hs-identifier hs-var">provs</span></a></span></span><span> </span><span id="local-6989586621682774384"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774384"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2002"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774382"><span class="hs-identifier hs-var">exis</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774383"><span class="hs-identifier hs-var">provs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; [Type] -&gt; Type -&gt; Type
</span><span class="hs-identifier hs-var">ForallT</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774380"><span class="hs-identifier hs-var">univs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774381"><span class="hs-identifier hs-var">reqs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774384"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2003"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774380"><span class="hs-identifier hs-var">univs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774381"><span class="hs-identifier hs-var">reqs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774385"><span class="annot"><a href="#local-6989586621682774385"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM' ConversionFailReason (LHsType GhcPs)
</span><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-var">cvtType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; [Type] -&gt; Type -&gt; Type
</span><span class="hs-identifier hs-var">ForallT</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774382"><span class="hs-identifier hs-var">exis</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774383"><span class="hs-identifier hs-var">provs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774384"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2004"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774386"><span class="annot"><a href="#local-6989586621682774386"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2005"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774387"><span class="annot"><a href="#local-6989586621682774387"><span class="hs-identifier hs-var">cxtTy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#mkHsImplicitSigType"><span class="hs-identifier hs-type">mkHsImplicitSigType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2006"></span><span>                                          </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hst_ctxt"><span class="hs-identifier hs-var">hst_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682774386"><span class="hs-identifier hs-type">ctxt'</span></a></span><span>
</span><span id="line-2007"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hst_xqual"><span class="hs-identifier hs-var">hst_xqual</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span>
</span><span id="line-2008"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682774385"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2009"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774387"><span class="hs-identifier hs-type">cxtTy</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2010"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774381"><span class="hs-identifier hs-var">reqs</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774391"><span class="annot"><a href="#local-6989586621682774391"><span class="hs-identifier hs-var">univs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; CvtM [LHsTyVarBndr Specificity GhcPs]
forall flag flag'.
CvtFlag flag flag' =&gt;
[TyVarBndr flag] -&gt; CvtM [LHsTyVarBndr flag' GhcPs]
</span><a href="GHC.ThToHs.html#cvtTvs"><span class="hs-identifier hs-var">cvtTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774380"><span class="hs-identifier hs-var">univs</span></a></span><span>
</span><span id="line-2011"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774392"><span class="annot"><a href="#local-6989586621682774392"><span class="hs-identifier hs-var">ty'</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cvtType"><span class="hs-identifier hs-type">cvtType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span> </span><span class="annot"><a href="#local-6989586621682774382"><span class="hs-identifier hs-type">exis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774383"><span class="hs-identifier hs-type">provs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774384"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2012"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774393"><span class="annot"><a href="#local-6989586621682774393"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2013"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774394"><span class="annot"><a href="#local-6989586621682774394"><span class="hs-identifier hs-var hs-var">cxtTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_ctxt :: LHsContext GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_ctxt"><span class="hs-identifier hs-var">hst_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
LocatedAn AnnContext [LHsType GhcPs]
</span><a href="#local-6989586621682774393"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-2014"></span><span>                                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_xqual :: XQualTy GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_xqual"><span class="hs-identifier hs-var">hst_xqual</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XQualTy GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2015"></span><span>                                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_body :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621682774392"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2016"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682774395"><span class="annot"><a href="#local-6989586621682774395"><span class="hs-identifier hs-var">forTy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#wrapParLA"><span class="hs-identifier hs-type">wrapParLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#mkHsExplicitSigType"><span class="hs-identifier hs-type">mkHsExplicitSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-type">noAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774391"><span class="hs-identifier hs-type">univs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682774394"><span class="hs-identifier hs-type">cxtTy</span></a></span><span>
</span><span id="line-2017"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#returnLA"><span class="hs-identifier hs-type">returnLA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774395"><span class="hs-identifier hs-type">forTy</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2018"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; [Type] -&gt; Type -&gt; Type
</span><span class="hs-identifier hs-var">ForallT</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774380"><span class="hs-identifier hs-var">univs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774381"><span class="hs-identifier hs-var">reqs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; [Type] -&gt; Type -&gt; Type
</span><span class="hs-identifier hs-var">ForallT</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621682774382"><span class="hs-identifier hs-var">exis</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774383"><span class="hs-identifier hs-var">provs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774384"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2019"></span><span class="annot"><a href="GHC.ThToHs.html#cvtPatSynSigTy"><span class="hs-identifier hs-var">cvtPatSynSigTy</span></a></span><span> </span><span id="local-6989586621682774397"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774397"><span class="hs-identifier hs-var">ty</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CvtM (LHsSigType GhcPs)
</span><a href="GHC.ThToHs.html#cvtSigType"><span class="hs-identifier hs-var">cvtSigType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682774397"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2020"></span><span>
</span><span id="line-2021"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-2022"></span><span class="annot"><a href="GHC.ThToHs.html#cvtFixity"><span class="hs-identifier hs-type">cvtFixity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Fixity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Hs.Fixity</span></a></span><span>
</span><span id="line-2023"></span><span id="cvtFixity"><span class="annot"><span class="annottext">cvtFixity :: Fixity -&gt; Fixity
</span><a href="GHC.ThToHs.html#cvtFixity"><span class="hs-identifier hs-var hs-var">cvtFixity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Fixity</span></span><span> </span><span id="local-6989586621682774399"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774399"><span class="hs-identifier hs-var">prec</span></a></span></span><span> </span><span id="local-6989586621682774400"><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621682774400"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; FixityDirection -&gt; Fixity
</span><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-var">Hs.Fixity</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774399"><span class="hs-identifier hs-var">prec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FixityDirection -&gt; FixityDirection
</span><a href="#local-6989586621682774402"><span class="hs-identifier hs-var">cvt_dir</span></a></span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621682774400"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2024"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-2025"></span><span>     </span><span id="local-6989586621682774402"><span class="annot"><span class="annottext">cvt_dir :: FixityDirection -&gt; FixityDirection
</span><a href="#local-6989586621682774402"><span class="hs-identifier hs-var hs-var">cvt_dir</span></a></span></span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><span class="hs-identifier hs-var">TH.InfixL</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixL"><span class="hs-identifier hs-var">Hs.InfixL</span></a></span><span>
</span><span id="line-2026"></span><span>     </span><span class="annot"><a href="#local-6989586621682774402"><span class="hs-identifier hs-var">cvt_dir</span></a></span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><span class="hs-identifier hs-var">TH.InfixR</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixR"><span class="hs-identifier hs-var">Hs.InfixR</span></a></span><span>
</span><span id="line-2027"></span><span>     </span><span class="annot"><a href="#local-6989586621682774402"><span class="hs-identifier hs-var">cvt_dir</span></a></span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><span class="hs-identifier hs-var">TH.InfixN</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixN"><span class="hs-identifier hs-var">Hs.InfixN</span></a></span><span>
</span><span id="line-2028"></span><span>
</span><span id="line-2029"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-2030"></span><span>
</span><span id="line-2031"></span><span>
</span><span id="line-2032"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-2033"></span><span class="hs-comment">-- some useful things</span><span>
</span><span id="line-2034"></span><span>
</span><span id="line-2035"></span><span class="annot"><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-type">overloadedLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2036"></span><span class="hs-comment">-- True for literals that Haskell treats as overloaded</span><span>
</span><span id="line-2037"></span><span id="overloadedLit"><span class="annot"><span class="annottext">overloadedLit :: Lit -&gt; Bool
</span><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-var hs-var">overloadedLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IntegerL</span></span><span>  </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2038"></span><span class="annot"><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-var">overloadedLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RationalL</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2039"></span><span class="annot"><a href="GHC.ThToHs.html#overloadedLit"><span class="hs-identifier hs-var">overloadedLit</span></a></span><span> </span><span class="annot"><span class="annottext">Lit
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2040"></span><span>
</span><span id="line-2041"></span><span class="hs-comment">-- Checks that are performed when converting unboxed sum expressions and</span><span>
</span><span id="line-2042"></span><span class="hs-comment">-- patterns alike.</span><span>
</span><span id="line-2043"></span><span class="annot"><a href="GHC.ThToHs.html#unboxedSumChecks"><span class="hs-identifier hs-type">unboxedSumChecks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumAlt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumArity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2044"></span><span id="unboxedSumChecks"><span class="annot"><span class="annottext">unboxedSumChecks :: SumAlt -&gt; SumAlt -&gt; CvtM ()
</span><a href="GHC.ThToHs.html#unboxedSumChecks"><span class="hs-identifier hs-var hs-var">unboxedSumChecks</span></a></span></span><span> </span><span id="local-6989586621682774410"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774410"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621682774411"><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774411"><span class="hs-identifier hs-var">arity</span></a></span></span><span>
</span><span id="line-2045"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774410"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; SumAlt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774411"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-2046"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason -&gt; CvtM ())
-&gt; ConversionFailReason -&gt; CvtM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; SumAlt -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#SumAltArityExceeded"><span class="hs-identifier hs-var">SumAltArityExceeded</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774410"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774411"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-2047"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774410"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; SumAlt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><span class="hs-number">0</span></span><span>
</span><span id="line-2048"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason -&gt; CvtM ())
-&gt; ConversionFailReason -&gt; CvtM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalSumAlt"><span class="hs-identifier hs-var">IllegalSumAlt</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774410"><span class="hs-identifier hs-var">alt</span></a></span><span>
</span><span id="line-2049"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774411"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; SumAlt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><span class="hs-number">2</span></span><span>
</span><span id="line-2050"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="annot"><span class="annottext">(ConversionFailReason -&gt; CvtM ())
-&gt; ConversionFailReason -&gt; CvtM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SumAlt -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalSumArity"><span class="hs-identifier hs-var">IllegalSumArity</span></a></span><span> </span><span class="annot"><span class="annottext">SumAlt
</span><a href="#local-6989586621682774411"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-2051"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2052"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; CvtM ()
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2053"></span><span>
</span><span id="line-2054"></span><span class="hs-comment">-- | If passed an empty list of 'LHsTyVarBndr's, this simply returns the</span><span>
</span><span id="line-2055"></span><span class="hs-comment">-- third argument (an 'LHsType'). Otherwise, return an 'HsForAllTy'</span><span>
</span><span id="line-2056"></span><span class="hs-comment">-- using the provided 'LHsQTyVars' and 'LHsType'.</span><span>
</span><span id="line-2057"></span><span class="annot"><a href="GHC.ThToHs.html#mkHsForAllTy"><span class="hs-identifier hs-type">mkHsForAllTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-2058"></span><span>             </span><span class="hs-comment">-- ^ The location of the returned 'LHsType' if it needs an</span><span>
</span><span id="line-2059"></span><span>             </span><span class="hs-comment">--   explicit forall</span><span>
</span><span id="line-2060"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTelescope"><span class="hs-identifier hs-type">HsForAllTelescope</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2061"></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ The converted type variable binders</span></span><span>
</span><span id="line-2062"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2063"></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ The converted rho type</span></span><span>
</span><span id="line-2064"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2065"></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ The complete type, quantified with a forall if necessary</span></span><span>
</span><span id="line-2066"></span><span id="mkHsForAllTy"><span class="annot"><span class="annottext">mkHsForAllTy :: SrcSpanAnnA
-&gt; HsForAllTelescope GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsForAllTy"><span class="hs-identifier hs-var hs-var">mkHsForAllTy</span></a></span></span><span> </span><span id="local-6989586621682774416"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774416"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682774417"><span class="annot"><span class="annottext">HsForAllTelescope GhcPs
</span><a href="#local-6989586621682774417"><span class="hs-identifier hs-var">tele</span></a></span></span><span> </span><span id="local-6989586621682774418"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774418"><span class="hs-identifier hs-var">rho_ty</span></a></span></span><span>
</span><span id="line-2067"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682774419"><span class="hs-identifier hs-var">no_tvs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774418"><span class="hs-identifier hs-var">rho_ty</span></a></span><span>
</span><span id="line-2068"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774416"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_tele :: HsForAllTelescope GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_tele"><span class="hs-identifier hs-var">hst_tele</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsForAllTelescope GhcPs
</span><a href="#local-6989586621682774417"><span class="hs-identifier hs-var">tele</span></a></span><span>
</span><span id="line-2069"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_xforall :: XForAllTy GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_xforall"><span class="hs-identifier hs-var">hst_xforall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XForAllTy GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2070"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_body :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774418"><span class="hs-identifier hs-var">rho_ty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2071"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2072"></span><span>    </span><span id="local-6989586621682774419"><span class="annot"><span class="annottext">no_tvs :: Bool
</span><a href="#local-6989586621682774419"><span class="hs-identifier hs-var hs-var">no_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsForAllTelescope GhcPs
</span><a href="#local-6989586621682774417"><span class="hs-identifier hs-var">tele</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2073"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllVis"><span class="hs-identifier hs-type">HsForAllVis</span></a></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsf_vis_bndrs :: forall pass. HsForAllTelescope pass -&gt; [LHsTyVarBndr () pass]
</span><a href="Language.Haskell.Syntax.Type.html#hsf_vis_bndrs"><span class="hs-identifier hs-var">hsf_vis_bndrs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682774424"><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621682774424"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621682774424"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-2074"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllInvis"><span class="hs-identifier hs-type">HsForAllInvis</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsf_invis_bndrs :: forall pass.
HsForAllTelescope pass -&gt; [LHsTyVarBndr Specificity pass]
</span><a href="Language.Haskell.Syntax.Type.html#hsf_invis_bndrs"><span class="hs-identifier hs-var">hsf_invis_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682774427"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621682774427"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621682774427"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-2075"></span><span>
</span><span id="line-2076"></span><span class="hs-comment">-- | If passed an empty 'TH.Cxt', this simply returns the third argument</span><span>
</span><span id="line-2077"></span><span class="hs-comment">-- (an 'LHsType'). Otherwise, return an 'HsQualTy' using the provided</span><span>
</span><span id="line-2078"></span><span class="hs-comment">-- 'LHsContext' and 'LHsType'.</span><span>
</span><span id="line-2079"></span><span>
</span><span id="line-2080"></span><span class="hs-comment">-- It's important that we don't build an HsQualTy if the context is empty,</span><span>
</span><span id="line-2081"></span><span class="hs-comment">-- as the pretty-printer for HsType _always_ prints contexts, even if</span><span>
</span><span id="line-2082"></span><span class="hs-comment">-- they're empty. See #13183.</span><span>
</span><span id="line-2083"></span><span class="annot"><a href="GHC.ThToHs.html#mkHsQualTy"><span class="hs-identifier hs-type">mkHsQualTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span>
</span><span id="line-2084"></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ The original Template Haskell context</span></span><span>
</span><span id="line-2085"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-2086"></span><span>           </span><span class="hs-comment">-- ^ The location of the returned 'LHsType' if it needs an</span><span>
</span><span id="line-2087"></span><span>           </span><span class="hs-comment">--   explicit context</span><span>
</span><span id="line-2088"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2089"></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ The converted context</span></span><span>
</span><span id="line-2090"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2091"></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ The converted tau type</span></span><span>
</span><span id="line-2092"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2093"></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ The complete type, qualified with a context if necessary</span></span><span>
</span><span id="line-2094"></span><span id="mkHsQualTy"><span class="annot"><span class="annottext">mkHsQualTy :: [Type]
-&gt; SrcSpanAnnA
-&gt; LHsContext GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.ThToHs.html#mkHsQualTy"><span class="hs-identifier hs-var hs-var">mkHsQualTy</span></a></span></span><span> </span><span id="local-6989586621682774428"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774428"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621682774429"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774429"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682774430"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621682774430"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span> </span><span id="local-6989586621682774431"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774431"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-2095"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682774428"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774431"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2096"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682774429"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_xqual :: XQualTy GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_xqual"><span class="hs-identifier hs-var">hst_xqual</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XQualTy GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2097"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_ctxt :: LHsContext GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_ctxt"><span class="hs-identifier hs-var">hst_ctxt</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621682774430"><span class="hs-identifier hs-var">ctxt'</span></a></span><span>
</span><span id="line-2098"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_body :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621682774431"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2099"></span><span>
</span><span id="line-2100"></span><span class="hs-comment">-- | @'mkHsContextMaybe' lc@ returns 'Nothing' if @lc@ is empty and @'Just' lc@</span><span>
</span><span id="line-2101"></span><span class="hs-comment">-- otherwise.</span><span>
</span><span id="line-2102"></span><span class="hs-comment">--</span><span>
</span><span id="line-2103"></span><span class="hs-comment">-- This is much like 'mkHsQualTy', except that it returns a</span><span>
</span><span id="line-2104"></span><span class="hs-comment">-- @'Maybe' ('LHsContext' 'GhcPs')@. This is used specifically for constructing</span><span>
</span><span id="line-2105"></span><span class="hs-comment">-- superclasses, datatype contexts (#20011), and contexts in GADT constructor</span><span>
</span><span id="line-2106"></span><span class="hs-comment">-- types (#20590). We wish to avoid using @'Just' []@ in the case of an empty</span><span>
</span><span id="line-2107"></span><span class="hs-comment">-- contexts, as the pretty-printer always prints 'Just' contexts, even if</span><span>
</span><span id="line-2108"></span><span class="hs-comment">-- they're empty.</span><span>
</span><span id="line-2109"></span><span class="annot"><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-type">mkHsContextMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2110"></span><span id="mkHsContextMaybe"><span class="annot"><span class="annottext">mkHsContextMaybe :: LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs)
</span><a href="GHC.ThToHs.html#mkHsContextMaybe"><span class="hs-identifier hs-var hs-var">mkHsContextMaybe</span></a></span></span><span> </span><span id="local-6989586621682774433"><span class="annot"><span class="annottext">lctxt :: LHsContext GhcPs
</span><a href="#local-6989586621682774433"><span class="hs-identifier hs-var">lctxt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnContext
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682774434"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774434"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774434"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
Maybe
  (GenLocated
     (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-2112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; Maybe
     (GenLocated
        (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (EpAnn AnnContext) [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621682774433"><span class="hs-identifier hs-var">lctxt</span></a></span><span>
</span><span id="line-2113"></span><span>
</span><span id="line-2114"></span><span class="annot"><a href="GHC.ThToHs.html#mkHsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">mkHsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2115"></span><span id="mkHsOuterFamEqnTyVarBndrs"><span class="annot"><span class="annottext">mkHsOuterFamEqnTyVarBndrs :: Maybe [LHsTyVarBndr () GhcPs] -&gt; HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="GHC.ThToHs.html#mkHsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-var hs-var">mkHsOuterFamEqnTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
-&gt; ([GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
    -&gt; HsOuterFamEqnTyVarBndrs GhcPs)
-&gt; Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
-&gt; HsOuterFamEqnTyVarBndrs GhcPs
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
forall flag. HsOuterTyVarBndrs flag GhcPs
</span><a href="GHC.Hs.Type.html#mkHsOuterImplicit"><span class="hs-identifier hs-var">mkHsOuterImplicit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnForallInvis
-&gt; [LHsTyVarBndr () GhcPs] -&gt; HsOuterFamEqnTyVarBndrs GhcPs
forall flag.
EpAnnForallInvis
-&gt; [LHsTyVarBndr flag GhcPs] -&gt; HsOuterTyVarBndrs flag GhcPs
</span><a href="GHC.Hs.Type.html#mkHsOuterExplicit"><span class="hs-identifier hs-var">mkHsOuterExplicit</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnForallInvis
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2116"></span><span>
</span><span id="line-2117"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-2118"></span><span class="hs-comment">--      Turning Name back into RdrName</span><span>
</span><span id="line-2119"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-2120"></span><span>
</span><span id="line-2121"></span><span class="hs-comment">-- variable names</span><span>
</span><span id="line-2122"></span><span class="annot"><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-type">vNameN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-type">cNameN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#vcNameN"><span class="hs-identifier hs-type">vcNameN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-type">tNameN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-type">tconNameN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#dNameN"><span class="hs-identifier hs-type">dNameN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2123"></span><span class="annot"><a href="GHC.ThToHs.html#vNameL"><span class="hs-identifier hs-type">vNameL</span></a></span><span>                                             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2124"></span><span class="annot"><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-type">vName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#cName"><span class="hs-identifier hs-type">cName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#vcName"><span class="hs-identifier hs-type">vcName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#tName"><span class="hs-identifier hs-type">tName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-type">tconName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.ThToHs.html#dName"><span class="hs-identifier hs-type">dName</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2125"></span><span>
</span><span id="line-2126"></span><span class="hs-comment">-- Variable names</span><span>
</span><span id="line-2127"></span><span id="vNameN"><span class="annot"><span class="annottext">vNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vNameN"><span class="hs-identifier hs-var hs-var">vNameN</span></a></span></span><span> </span><span id="local-6989586621682774438"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774438"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var">vName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774438"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2128"></span><span id="vNameL"><span class="annot"><span class="annottext">vNameL :: Name -&gt; CvtM (LocatedA RdrName)
</span><a href="GHC.ThToHs.html#vNameL"><span class="hs-identifier hs-var hs-var">vNameL</span></a></span></span><span> </span><span id="local-6989586621682774439"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774439"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedA RdrName)
forall a. CvtM a -&gt; CvtM (LocatedA a)
</span><a href="GHC.ThToHs.html#wrapLA"><span class="hs-identifier hs-var">wrapLA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var">vName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774439"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2129"></span><span id="vName"><span class="annot"><span class="annottext">vName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var hs-var">vName</span></a></span></span><span> </span><span id="local-6989586621682774440"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774440"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var">cvtName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">OccName.varName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774440"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2130"></span><span>
</span><span id="line-2131"></span><span class="hs-comment">-- Constructor function names; this is Haskell source, hence srcDataName</span><span>
</span><span id="line-2132"></span><span id="cNameN"><span class="annot"><span class="annottext">cNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#cNameN"><span class="hs-identifier hs-var hs-var">cNameN</span></a></span></span><span> </span><span id="local-6989586621682774442"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774442"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cName"><span class="hs-identifier hs-var">cName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774442"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2133"></span><span id="cName"><span class="annot"><span class="annottext">cName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cName"><span class="hs-identifier hs-var hs-var">cName</span></a></span></span><span> </span><span id="local-6989586621682774443"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774443"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var">cvtName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">OccName.dataName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774443"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2134"></span><span>
</span><span id="line-2135"></span><span class="hs-comment">-- Type or data constructor name</span><span>
</span><span id="line-2136"></span><span id="dNameN"><span class="annot"><span class="annottext">dNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#dNameN"><span class="hs-identifier hs-var hs-var">dNameN</span></a></span></span><span> </span><span id="local-6989586621682774445"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774445"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#dName"><span class="hs-identifier hs-var">dName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774445"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2137"></span><span id="dName"><span class="annot"><span class="annottext">dName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#dName"><span class="hs-identifier hs-var hs-var">dName</span></a></span></span><span> </span><span id="local-6989586621682774446"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774446"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cName"><span class="hs-identifier hs-var">cName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774446"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM RdrName -&gt; CvtM RdrName
forall err a. CvtM' err a -&gt; CvtM' err a -&gt; CvtM' err a
</span><a href="GHC.ThToHs.html#orOnFail"><span class="hs-operator hs-var">`orOnFail`</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var">tconName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774446"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2138"></span><span>
</span><span id="line-2139"></span><span class="hs-comment">-- Variable *or* constructor names; check by looking at the first char</span><span>
</span><span id="line-2140"></span><span id="vcNameN"><span class="annot"><span class="annottext">vcNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#vcNameN"><span class="hs-identifier hs-var hs-var">vcNameN</span></a></span></span><span> </span><span id="local-6989586621682774447"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774447"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vcName"><span class="hs-identifier hs-var">vcName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774447"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2141"></span><span id="vcName"><span class="annot"><span class="annottext">vcName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vcName"><span class="hs-identifier hs-var hs-var">vcName</span></a></span></span><span> </span><span id="local-6989586621682774448"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774448"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.ThToHs.html#isVarName"><span class="hs-identifier hs-var">isVarName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774448"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#vName"><span class="hs-identifier hs-var">vName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774448"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cName"><span class="hs-identifier hs-var">cName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774448"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2142"></span><span>
</span><span id="line-2143"></span><span class="hs-comment">-- Type variable names</span><span>
</span><span id="line-2144"></span><span id="tNameN"><span class="annot"><span class="annottext">tNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tNameN"><span class="hs-identifier hs-var hs-var">tNameN</span></a></span></span><span> </span><span id="local-6989586621682774450"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774450"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tName"><span class="hs-identifier hs-var">tName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774450"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2145"></span><span id="tName"><span class="annot"><span class="annottext">tName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tName"><span class="hs-identifier hs-var hs-var">tName</span></a></span></span><span> </span><span id="local-6989586621682774451"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774451"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var">cvtName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">OccName.tvName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774451"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2146"></span><span>
</span><span id="line-2147"></span><span class="hs-comment">-- Type Constructor names</span><span>
</span><span id="line-2148"></span><span id="tconNameN"><span class="annot"><span class="annottext">tconNameN :: Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#tconNameN"><span class="hs-identifier hs-var hs-var">tconNameN</span></a></span></span><span> </span><span id="local-6989586621682774453"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774453"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var">tconName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774453"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2149"></span><span id="tconName"><span class="annot"><span class="annottext">tconName :: Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#tconName"><span class="hs-identifier hs-var hs-var">tconName</span></a></span></span><span> </span><span id="local-6989586621682774454"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774454"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var">cvtName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">OccName.tcClsName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774454"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2150"></span><span>
</span><span id="line-2151"></span><span class="hs-comment">-- Field names</span><span>
</span><span id="line-2152"></span><span class="annot"><a href="GHC.ThToHs.html#fldName"><span class="hs-identifier hs-type">fldName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2153"></span><span id="fldName"><span class="annot"><span class="annottext">fldName :: String -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#fldName"><span class="hs-identifier hs-var hs-var">fldName</span></a></span></span><span> </span><span id="local-6989586621682774457"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774457"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621682774458"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774458"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var">cvtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-var">OccName.fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; NameSpace) -&gt; FastString -&gt; NameSpace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774457"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774458"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2154"></span><span>
</span><span id="line-2155"></span><span class="annot"><a href="GHC.ThToHs.html#fldNameN"><span class="hs-identifier hs-type">fldNameN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2156"></span><span id="fldNameN"><span class="annot"><span class="annottext">fldNameN :: String -&gt; Name -&gt; CvtM (LocatedN RdrName)
</span><a href="GHC.ThToHs.html#fldNameN"><span class="hs-identifier hs-var hs-var">fldNameN</span></a></span></span><span> </span><span id="local-6989586621682774460"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774460"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621682774461"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774461"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CvtM RdrName -&gt; CvtM (LocatedN RdrName)
forall a. CvtM a -&gt; CvtM (LocatedN a)
</span><a href="GHC.ThToHs.html#wrapLN"><span class="hs-identifier hs-var">wrapLN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#fldName"><span class="hs-identifier hs-var">fldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774460"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774461"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2157"></span><span>
</span><span id="line-2158"></span><span class="annot"><a href="GHC.ThToHs.html#ipName"><span class="hs-identifier hs-type">ipName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a></span><span>
</span><span id="line-2159"></span><span id="ipName"><span class="annot"><span class="annottext">ipName :: String -&gt; CvtM HsIPName
</span><a href="GHC.ThToHs.html#ipName"><span class="hs-identifier hs-var hs-var">ipName</span></a></span></span><span> </span><span id="local-6989586621682774462"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774462"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-2160"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CvtM () -&gt; CvtM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#okVarOcc"><span class="hs-identifier hs-var">okVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774462"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM ()
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalOccName"><span class="hs-identifier hs-var">IllegalOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">OccName.varName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774462"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2161"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsIPName -&gt; CvtM HsIPName
forall a. a -&gt; CvtM' ConversionFailReason a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; HsIPName
</span><a href="Language.Haskell.Syntax.Type.html#HsIPName"><span class="hs-identifier hs-var">HsIPName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774462"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2162"></span><span>
</span><span id="line-2163"></span><span class="annot"><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-type">cvtName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">OccName.NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#CvtM"><span class="hs-identifier hs-type">CvtM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2164"></span><span id="cvtName"><span class="annot"><span class="annottext">cvtName :: NameSpace -&gt; Name -&gt; CvtM RdrName
</span><a href="GHC.ThToHs.html#cvtName"><span class="hs-identifier hs-var hs-var">cvtName</span></a></span></span><span> </span><span id="local-6989586621682774466"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774466"><span class="hs-identifier hs-var">ctxt_ns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span id="local-6989586621682774468"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774468"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621682774469"><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774469"><span class="hs-identifier hs-var">flavour</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2165"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; Bool
</span><a href="GHC.ThToHs.html#okOcc"><span class="hs-identifier hs-var">okOcc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774466"><span class="hs-identifier hs-var">ctxt_ns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774471"><span class="hs-identifier hs-var">occ_str</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConversionFailReason -&gt; CvtM RdrName
forall a. ConversionFailReason -&gt; CvtM a
</span><a href="GHC.ThToHs.html#failWith"><span class="hs-identifier hs-var">failWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; ConversionFailReason
</span><a href="GHC.Tc.Errors.Types.html#IllegalOccName"><span class="hs-identifier hs-var">IllegalOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774466"><span class="hs-identifier hs-var">ctxt_ns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774471"><span class="hs-identifier hs-var">occ_str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2167"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682774472"><span class="annot"><a href="#local-6989586621682774472"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CvtM SrcSpan
</span><a href="GHC.ThToHs.html#getL"><span class="hs-identifier hs-var">getL</span></a></span><span>
</span><span id="line-2168"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774473"><span class="annot"><a href="#local-6989586621682774473"><span class="hs-identifier hs-var hs-var">rdr_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; NameSpace -&gt; String -&gt; NameFlavour -&gt; RdrName
</span><a href="GHC.ThToHs.html#thRdrName"><span class="hs-identifier hs-var">thRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774472"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774466"><span class="hs-identifier hs-var">ctxt_ns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774471"><span class="hs-identifier hs-var">occ_str</span></a></span><span> </span><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774469"><span class="hs-identifier hs-var">flavour</span></a></span><span>
</span><span id="line-2169"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.ThToHs.html#force"><span class="hs-identifier hs-type">force</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682774473"><span class="hs-identifier hs-type">rdr_name</span></a></span><span>
</span><span id="line-2170"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682774473"><span class="hs-identifier hs-type">rdr_name</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2171"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2172"></span><span>    </span><span id="local-6989586621682774471"><span class="annot"><span class="annottext">occ_str :: String
</span><a href="#local-6989586621682774471"><span class="hs-identifier hs-var hs-var">occ_str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><span class="hs-identifier hs-var">TH.occString</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774468"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2173"></span><span>
</span><span id="line-2174"></span><span class="annot"><a href="GHC.ThToHs.html#okOcc"><span class="hs-identifier hs-type">okOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">OccName.NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2175"></span><span id="okOcc"><span class="annot"><span class="annottext">okOcc :: NameSpace -&gt; String -&gt; Bool
</span><a href="GHC.ThToHs.html#okOcc"><span class="hs-identifier hs-var hs-var">okOcc</span></a></span></span><span> </span><span id="local-6989586621682774476"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774476"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682774477"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774477"><span class="hs-identifier hs-var">str</span></a></span></span><span>
</span><span id="line-2176"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">OccName.isVarNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774476"><span class="hs-identifier hs-var">ns</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#okVarOcc"><span class="hs-identifier hs-var">okVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774477"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2177"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">OccName.isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774476"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#okConOcc"><span class="hs-identifier hs-var">okConOcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774477"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2178"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#okTcOcc"><span class="hs-identifier hs-var">okTcOcc</span></a></span><span>  </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774477"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2179"></span><span>
</span><span id="line-2180"></span><span class="hs-comment">-- Determine the name space of a name in a type</span><span>
</span><span id="line-2181"></span><span class="hs-comment">--</span><span>
</span><span id="line-2182"></span><span class="annot"><a href="GHC.ThToHs.html#isVarName"><span class="hs-identifier hs-type">isVarName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2183"></span><span id="isVarName"><span class="annot"><span class="annottext">isVarName :: Name -&gt; Bool
</span><a href="GHC.ThToHs.html#isVarName"><span class="hs-identifier hs-var hs-var">isVarName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span id="local-6989586621682774482"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774482"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameFlavour
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-2184"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><span class="hs-identifier hs-var">TH.occString</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774482"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2185"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2186"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682774483"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682774483"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">startsVarId</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682774483"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">startsVarSym</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682774483"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2187"></span><span>
</span><span id="line-2188"></span><span class="annot"><a href="GHC.ThToHs.html#thRdrName"><span class="hs-identifier hs-type">thRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">OccName.NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.NameFlavour</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2189"></span><span class="hs-comment">-- This turns a TH Name into a RdrName; used for both binders and occurrences</span><span>
</span><span id="line-2190"></span><span class="hs-comment">-- See Note [Binders in Template Haskell]</span><span>
</span><span id="line-2191"></span><span class="hs-comment">-- The passed-in name space tells what the context is expecting;</span><span>
</span><span id="line-2192"></span><span class="hs-comment">--      use it unless the TH name knows what name-space it comes</span><span>
</span><span id="line-2193"></span><span class="hs-comment">--      from, in which case use the latter</span><span>
</span><span id="line-2194"></span><span class="hs-comment">--</span><span>
</span><span id="line-2195"></span><span class="hs-comment">-- We pass in a SrcSpan (gotten from the monad) because this function</span><span>
</span><span id="line-2196"></span><span class="hs-comment">-- is used for *binders* and if we make an Exact Name we want it</span><span>
</span><span id="line-2197"></span><span class="hs-comment">-- to have a binding site inside it.  (cf #5434)</span><span>
</span><span id="line-2198"></span><span class="hs-comment">--</span><span>
</span><span id="line-2199"></span><span class="hs-comment">-- ToDo: we may generate silly RdrNames, by passing a name space</span><span>
</span><span id="line-2200"></span><span class="hs-comment">--       that doesn't match the string, like VarName &quot;:+&quot;,</span><span>
</span><span id="line-2201"></span><span class="hs-comment">--       which will give confusing error messages later</span><span>
</span><span id="line-2202"></span><span class="hs-comment">--</span><span>
</span><span id="line-2203"></span><span class="hs-comment">-- The strict applications ensure that any buried exceptions get forced</span><span>
</span><span id="line-2204"></span><span id="thRdrName"><span class="annot"><span class="annottext">thRdrName :: SrcSpan -&gt; NameSpace -&gt; String -&gt; NameFlavour -&gt; RdrName
</span><a href="GHC.ThToHs.html#thRdrName"><span class="hs-identifier hs-var hs-var">thRdrName</span></a></span></span><span> </span><span id="local-6989586621682774486"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774486"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682774487"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774487"><span class="hs-identifier hs-var">ctxt_ns</span></a></span></span><span> </span><span id="local-6989586621682774488"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774488"><span class="hs-identifier hs-var">th_occ</span></a></span></span><span> </span><span id="local-6989586621682774489"><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774489"><span class="hs-identifier hs-var">th_name</span></a></span></span><span>
</span><span id="line-2205"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774489"><span class="hs-identifier hs-var">th_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2206"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">TH.NameG</span></span><span> </span><span id="local-6989586621682774491"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774491"><span class="hs-identifier hs-var">th_ns</span></a></span></span><span> </span><span id="local-6989586621682774492"><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774492"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621682774493"><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774493"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; NameSpace -&gt; PkgName -&gt; ModName -&gt; RdrName
</span><a href="GHC.ThToHs.html#thOrigRdrName"><span class="hs-identifier hs-var">thOrigRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774488"><span class="hs-identifier hs-var">th_occ</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774491"><span class="hs-identifier hs-var">th_ns</span></a></span><span> </span><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774492"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774493"><span class="hs-identifier hs-var">mod</span></a></span><span>
</span><span id="line-2207"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">TH.NameQ</span></span><span> </span><span id="local-6989586621682774496"><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774496"><span class="hs-identifier hs-var">mod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrQual"><span class="hs-identifier hs-var">mkRdrQual</span></a></span><span>  </span><span class="annot"><span class="annottext">(ModuleName -&gt; OccName -&gt; RdrName)
-&gt; ModuleName -&gt; OccName -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">ModName -&gt; ModuleName
</span><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-var">mk_mod</span></a></span><span> </span><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774496"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName) -&gt; OccName -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2208"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">TH.NameL</span></span><span> </span><span id="local-6989586621682774501"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774501"><span class="hs-identifier hs-var">uniq</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; RdrName) -&gt; Name -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
</span><a href="GHC.Types.Name.html#mkInternalName"><span class="hs-identifier hs-var">Name.mkInternalName</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; OccName -&gt; SrcSpan -&gt; Name)
-&gt; Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Unique
</span><a href="GHC.ThToHs.html#mk_uniq"><span class="hs-identifier hs-var">mk_uniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774501"><span class="hs-identifier hs-var">uniq</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; SrcSpan -&gt; Name) -&gt; OccName -&gt; SrcSpan -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774486"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2209"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">TH.NameU</span></span><span> </span><span id="local-6989586621682774506"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774506"><span class="hs-identifier hs-var">uniq</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; RdrName) -&gt; Name -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
</span><a href="GHC.Types.Name.html#mkSystemNameAt"><span class="hs-identifier hs-var">Name.mkSystemNameAt</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; OccName -&gt; SrcSpan -&gt; Name)
-&gt; Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Unique
</span><a href="GHC.ThToHs.html#mk_uniq"><span class="hs-identifier hs-var">mk_uniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682774506"><span class="hs-identifier hs-var">uniq</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; SrcSpan -&gt; Name) -&gt; OccName -&gt; SrcSpan -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682774486"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2210"></span><span>     </span><span class="annot"><span class="annottext">NameFlavour
</span><span class="hs-identifier hs-var">TH.NameS</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774509"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774509"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Maybe Name
</span><a href="GHC.Builtin.Types.html#isBuiltInOcc_maybe"><span class="hs-identifier hs-var">isBuiltInOcc_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; RdrName) -&gt; Name -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774509"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-2211"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-var">mkRdrUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName) -&gt; OccName -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2212"></span><span>              </span><span class="hs-comment">-- We check for built-in syntax here, because the TH</span><span>
</span><span id="line-2213"></span><span>              </span><span class="hs-comment">-- user might have written a (NameS &quot;(,,)&quot;), for example</span><span>
</span><span id="line-2214"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2215"></span><span>    </span><span class="annot"><a href="#local-6989586621682774499"><span class="hs-identifier hs-type">occ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName.OccName</span></a></span><span>
</span><span id="line-2216"></span><span>    </span><span id="local-6989586621682774499"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621682774499"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.ThToHs.html#mk_occ"><span class="hs-identifier hs-var">mk_occ</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774487"><span class="hs-identifier hs-var">ctxt_ns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774488"><span class="hs-identifier hs-var">th_occ</span></a></span><span>
</span><span id="line-2217"></span><span>
</span><span id="line-2218"></span><span class="hs-comment">-- Return an unqualified exact RdrName if we're dealing with built-in syntax.</span><span>
</span><span id="line-2219"></span><span class="hs-comment">-- See #13776.</span><span>
</span><span id="line-2220"></span><span class="annot"><a href="GHC.ThToHs.html#thOrigRdrName"><span class="hs-identifier hs-type">thOrigRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.NameSpace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PkgName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ModName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2221"></span><span id="thOrigRdrName"><span class="annot"><span class="annottext">thOrigRdrName :: String -&gt; NameSpace -&gt; PkgName -&gt; ModName -&gt; RdrName
</span><a href="GHC.ThToHs.html#thOrigRdrName"><span class="hs-identifier hs-var hs-var">thOrigRdrName</span></a></span></span><span> </span><span id="local-6989586621682774513"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774513"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621682774514"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774514"><span class="hs-identifier hs-var">th_ns</span></a></span></span><span> </span><span id="local-6989586621682774515"><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774515"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621682774516"><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774516"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2222"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682774517"><span class="annot"><span class="annottext">occ' :: OccName
</span><a href="#local-6989586621682774517"><span class="hs-identifier hs-var hs-var">occ'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.ThToHs.html#mk_occ"><span class="hs-identifier hs-var">mk_occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; NameSpace
</span><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-var">mk_ghc_ns</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774514"><span class="hs-identifier hs-var">th_ns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774513"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2223"></span><span>      </span><span id="local-6989586621682774519"><span class="annot"><span class="annottext">mod' :: GenModule Unit
</span><a href="#local-6989586621682774519"><span class="hs-identifier hs-var hs-var">mod'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unit -&gt; ModuleName -&gt; GenModule Unit
forall u. u -&gt; ModuleName -&gt; GenModule u
</span><a href="GHC.Unit.Types.html#mkModule"><span class="hs-identifier hs-var">mkModule</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PkgName -&gt; Unit
</span><a href="GHC.ThToHs.html#mk_pkg"><span class="hs-identifier hs-var">mk_pkg</span></a></span><span> </span><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774515"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModName -&gt; ModuleName
</span><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-var">mk_mod</span></a></span><span> </span><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774516"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2224"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Maybe Name
</span><a href="GHC.Builtin.Types.html#isBuiltInOcc_maybe"><span class="hs-identifier hs-var">isBuiltInOcc_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774517"><span class="hs-identifier hs-var">occ'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; Maybe Name
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenModule Unit -&gt; OccName -&gt; Maybe Name
</span><a href="GHC.Builtin.Types.html#isPunOcc_maybe"><span class="hs-identifier hs-var">isPunOcc_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">GenModule Unit
</span><a href="#local-6989586621682774519"><span class="hs-identifier hs-var">mod'</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774517"><span class="hs-identifier hs-var">occ'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2225"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682774523"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774523"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682774523"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-2226"></span><span>       </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenModule Unit -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkOrig"><span class="hs-identifier hs-var">mkOrig</span></a></span><span> </span><span class="annot"><span class="annottext">(GenModule Unit -&gt; OccName -&gt; RdrName)
-&gt; GenModule Unit -&gt; OccName -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">GenModule Unit
</span><a href="#local-6989586621682774519"><span class="hs-identifier hs-var">mod'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName) -&gt; OccName -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774517"><span class="hs-identifier hs-var">occ'</span></a></span><span>
</span><span id="line-2227"></span><span>
</span><span id="line-2228"></span><span class="annot"><a href="GHC.ThToHs.html#thRdrNameGuesses"><span class="hs-identifier hs-type">thRdrNameGuesses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2229"></span><span id="thRdrNameGuesses"><span class="annot"><span class="annottext">thRdrNameGuesses :: Name -&gt; [RdrName]
</span><a href="GHC.ThToHs.html#thRdrNameGuesses"><span class="hs-identifier hs-var hs-var">thRdrNameGuesses</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span id="local-6989586621682774525"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774525"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621682774526"><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774526"><span class="hs-identifier hs-var">flavour</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2230"></span><span>  </span><span class="hs-comment">-- This special case for NameG ensures that we don't generate duplicates in the output list</span><span>
</span><span id="line-2231"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.NameG</span></span><span> </span><span id="local-6989586621682774527"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774527"><span class="hs-identifier hs-var">th_ns</span></a></span></span><span> </span><span id="local-6989586621682774528"><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774528"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621682774529"><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774529"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774526"><span class="hs-identifier hs-var">flavour</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; NameSpace -&gt; PkgName -&gt; ModName -&gt; RdrName
</span><a href="GHC.ThToHs.html#thOrigRdrName"><span class="hs-identifier hs-var">thOrigRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774530"><span class="hs-identifier hs-var">occ_str</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774527"><span class="hs-identifier hs-var">th_ns</span></a></span><span> </span><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774528"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774529"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2232"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; NameSpace -&gt; String -&gt; NameFlavour -&gt; RdrName
</span><a href="GHC.ThToHs.html#thRdrName"><span class="hs-identifier hs-var">thRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.Types.SrcLoc.html#noSrcSpan"><span class="hs-identifier hs-var">noSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774532"><span class="hs-identifier hs-var">gns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774530"><span class="hs-identifier hs-var">occ_str</span></a></span><span> </span><span class="annot"><span class="annottext">NameFlavour
</span><a href="#local-6989586621682774526"><span class="hs-identifier hs-var">flavour</span></a></span><span>
</span><span id="line-2233"></span><span>                                        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682774532"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774532"><span class="hs-identifier hs-var">gns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NameSpace]
</span><a href="#local-6989586621682774533"><span class="hs-identifier hs-var">guessed_nss</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2234"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2235"></span><span>    </span><span class="hs-comment">-- guessed_ns are the name spaces guessed from looking at the TH name</span><span>
</span><span id="line-2236"></span><span>    </span><span id="local-6989586621682774533"><span class="annot"><span class="annottext">guessed_nss :: [NameSpace]
</span><a href="#local-6989586621682774533"><span class="hs-identifier hs-var hs-var">guessed_nss</span></a></span></span><span>
</span><span id="line-2237"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexCon"><span class="hs-identifier hs-var">isLexCon</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682774535"><span class="hs-identifier hs-var">occ_txt</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">OccName.tcName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">OccName.dataName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2238"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexVarSym"><span class="hs-identifier hs-var">isLexVarSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682774535"><span class="hs-identifier hs-var">occ_txt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">OccName.tcName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">OccName.varName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- #23525</span><span>
</span><span id="line-2239"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">OccName.varName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">OccName.tvName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2240"></span><span>    </span><span id="local-6989586621682774530"><span class="annot"><span class="annottext">occ_str :: String
</span><a href="#local-6989586621682774530"><span class="hs-identifier hs-var hs-var">occ_str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><span class="hs-identifier hs-var">TH.occString</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682774525"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2241"></span><span>    </span><span id="local-6989586621682774535"><span class="annot"><span class="annottext">occ_txt :: FastString
</span><a href="#local-6989586621682774535"><span class="hs-identifier hs-var hs-var">occ_txt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774530"><span class="hs-identifier hs-var">occ_str</span></a></span><span>
</span><span id="line-2242"></span><span>
</span><span id="line-2243"></span><span class="hs-comment">-- The packing and unpacking is rather turgid :-(</span><span>
</span><span id="line-2244"></span><span class="annot"><a href="GHC.ThToHs.html#mk_occ"><span class="hs-identifier hs-type">mk_occ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">OccName.NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName.OccName</span></a></span><span>
</span><span id="line-2245"></span><span id="mk_occ"><span class="annot"><span class="annottext">mk_occ :: NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.ThToHs.html#mk_occ"><span class="hs-identifier hs-var hs-var">mk_occ</span></a></span></span><span> </span><span id="local-6989586621682774538"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774538"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682774539"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774539"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">OccName.mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682774538"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774539"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-2246"></span><span>
</span><span id="line-2247"></span><span class="annot"><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-type">mk_ghc_ns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.NameSpace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">OccName.NameSpace</span></a></span><span>
</span><span id="line-2248"></span><span id="mk_ghc_ns"><span class="annot"><span class="annottext">mk_ghc_ns :: NameSpace -&gt; NameSpace
</span><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-var hs-var">mk_ghc_ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier hs-var">TH.DataName</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">OccName.dataName</span></a></span><span>
</span><span id="line-2249"></span><span class="annot"><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-var">mk_ghc_ns</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier hs-var">TH.TcClsName</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">OccName.tcClsName</span></a></span><span>
</span><span id="line-2250"></span><span class="annot"><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-var">mk_ghc_ns</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier hs-var">TH.VarName</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">OccName.varName</span></a></span><span>
</span><span id="line-2251"></span><span class="annot"><a href="GHC.ThToHs.html#mk_ghc_ns"><span class="hs-identifier hs-var">mk_ghc_ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.FldName</span></span><span> </span><span id="local-6989586621682774545"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774545"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-var">OccName.fieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682774545"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2252"></span><span>
</span><span id="line-2253"></span><span class="annot"><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-type">mk_mod</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.ModName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span>
</span><span id="line-2254"></span><span id="mk_mod"><span class="annot"><span class="annottext">mk_mod :: ModName -&gt; ModuleName
</span><a href="GHC.ThToHs.html#mk_mod"><span class="hs-identifier hs-var hs-var">mk_mod</span></a></span></span><span> </span><span id="local-6989586621682774546"><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774546"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ModuleName
</span><a href="Language.Haskell.Syntax.Module.Name.html#mkModuleName"><span class="hs-identifier hs-var">mkModuleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModName -&gt; String
</span><span class="hs-identifier hs-var">TH.modString</span></span><span> </span><span class="annot"><span class="annottext">ModName
</span><a href="#local-6989586621682774546"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2255"></span><span>
</span><span id="line-2256"></span><span class="annot"><a href="GHC.ThToHs.html#mk_pkg"><span class="hs-identifier hs-type">mk_pkg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PkgName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Unit"><span class="hs-identifier hs-type">Unit</span></a></span><span>
</span><span id="line-2257"></span><span id="mk_pkg"><span class="annot"><span class="annottext">mk_pkg :: PkgName -&gt; Unit
</span><a href="GHC.ThToHs.html#mk_pkg"><span class="hs-identifier hs-var hs-var">mk_pkg</span></a></span></span><span> </span><span id="local-6989586621682774549"><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774549"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Unit
</span><a href="GHC.Unit.Types.html#stringToUnit"><span class="hs-identifier hs-var">stringToUnit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PkgName -&gt; String
</span><span class="hs-identifier hs-var">TH.pkgString</span></span><span> </span><span class="annot"><span class="annottext">PkgName
</span><a href="#local-6989586621682774549"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2258"></span><span>
</span><span id="line-2259"></span><span class="annot"><a href="GHC.ThToHs.html#mk_uniq"><span class="hs-identifier hs-type">mk_uniq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span>
</span><span id="line-2260"></span><span id="mk_uniq"><span class="annot"><span class="annottext">mk_uniq :: Word64 -&gt; Unique
</span><a href="GHC.ThToHs.html#mk_uniq"><span class="hs-identifier hs-var hs-var">mk_uniq</span></a></span></span><span> </span><span id="local-6989586621682774552"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621682774552"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621682774552"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-2261"></span><span>
</span><span id="line-2262"></span><span class="hs-comment">{-
Note [Binders in Template Haskell]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider this TH term construction:
  do { x1 &lt;- TH.newName &quot;x&quot;   -- newName :: String -&gt; Q TH.Name
     ; x2 &lt;- TH.newName &quot;x&quot;   -- Builds a NameU
     ; x3 &lt;- TH.newName &quot;x&quot;

     ; let x = mkName &quot;x&quot;     -- mkName :: String -&gt; TH.Name
                              -- Builds a NameS

     ; return (LamE (..pattern [x1,x2]..) $
               LamE (VarPat x3) $
               ..tuple (x1,x2,x3,x)) }

It represents the term   \[x1,x2]. \x3. (x1,x2,x3,x)

a) We don't want to complain about &quot;x&quot; being bound twice in
   the pattern [x1,x2]
b) We don't want x3 to shadow the x1,x2
c) We *do* want 'x' (dynamically bound with mkName) to bind
   to the innermost binding of &quot;x&quot;, namely x3.
d) When pretty printing, we want to print a unique with x1,x2
   etc, else they'll all print as &quot;x&quot; which isn't very helpful

When we convert all this to HsSyn, the TH.Names are converted with
thRdrName.  To achieve (b) we want the binders to be Exact RdrNames.
Achieving (a) is a bit awkward, because
   - We must check for duplicate and shadowed names on Names,
     not RdrNames, *after* renaming.
     See Note [Collect binders only after renaming] in GHC.Hs.Utils

   - But to achieve (a) we must distinguish between the Exact
     RdrNames arising from TH and the Unqual RdrNames that would
     come from a user writing \[x,x] -&gt; blah

So in Convert.thRdrName we translate
   TH Name                          RdrName
   --------------------------------------------------------
   NameU (arising from newName) --&gt; Exact (Name{ System })
   NameS (arising from mkName)  --&gt; Unqual

Notice that the NameUs generate *System* Names.  Then, when
figuring out shadowing and duplicates, we can filter out
System Names.

This use of System Names fits with other uses of System Names, eg for
temporary variables &quot;a&quot;. Since there are lots of things called &quot;a&quot; we
usually want to print the name with the unique, and that is indeed
the way System Names are printed.

There's a small complication of course; see Note [Looking up Exact
RdrNames] in GHC.Rename.Env.
-}</span><span>
</span><span id="line-2316"></span><span>
</span><span id="line-2317"></span><span class="hs-comment">{-
Note [Pattern synonym type signatures and Template Haskell]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In general, the type signature of a pattern synonym

  pattern P x1 x2 .. xn = &lt;some-pattern&gt;

is of the form

   forall univs. reqs =&gt; forall exis. provs =&gt; t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t

with the following parts:

   1) the (possibly empty lists of) universally quantified type
      variables `univs` and required constraints `reqs` on them.
   2) the (possibly empty lists of) existentially quantified type
      variables `exis` and the provided constraints `provs` on them.
   3) the types `t1`, `t2`, .., `tn` of the pattern synonym's arguments x1,
      x2, .., xn, respectively
   4) the type `t` of &lt;some-pattern&gt;, mentioning only universals from `univs`.

Due to the two forall quantifiers and constraint contexts (either of
which might be empty), pattern synonym type signatures are treated
specially in `GHC.HsToCore.Quote`, `GHC.ThToHs`, and
`GHC.Tc.Gen.Splice`:

   (a) When desugaring a pattern synonym from HsSyn to TH.Dec in
       `GHC.HsToCore.Quote`, we represent its *full* type signature in TH, i.e.:

           ForallT univs reqs (ForallT exis provs ty)
              (where ty is the AST representation of t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t)

   (b) When converting pattern synonyms from TH.Dec to HsSyn in
       `GHC.ThToHs`, we convert their TH type signatures back to an
       appropriate Haskell pattern synonym type of the form

         forall univs. reqs =&gt; forall exis. provs =&gt; t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t

       where initial empty `univs` type variables or an empty `reqs`
       constraint context are represented *explicitly* as `() =&gt;`.

   (c) When reifying a pattern synonym in `GHC.Tc.Gen.Splice`, we always
       return its *full* type, i.e.:

           ForallT univs reqs (ForallT exis provs ty)
              (where ty is the AST representation of t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t)

The key point is to always represent a pattern synonym's *full* type
in cases (a) and (c) to make it clear which of the two forall
quantifiers and/or constraint contexts are specified, and which are
not. See GHC's user's guide on pattern synonyms for more information
about pattern synonym type signatures.

-}</span><span>
</span><span id="line-2372"></span></pre></body></html>