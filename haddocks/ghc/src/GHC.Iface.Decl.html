<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE NondecreasingIndentation #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">{-
(c) The University of Glasgow 2006-2008
(c) The GRASP/AQUA Project, Glasgow University, 1993-1998
-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">-- | Module for constructing interface declaration values</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- from the corresponding 'TyThing's.</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Iface.Decl.html"><span class="hs-identifier">GHC.Iface.Decl</span></a></span><span>
</span><span id="line-14"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Iface.Decl.html#coAxiomToIfaceDecl"><span class="hs-identifier">coAxiomToIfaceDecl</span></a></span><span>
</span><span id="line-15"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier">tyThingToIfaceDecl</span></a></span><span> </span><span class="hs-comment">-- Converting things to their Iface equivalents</span><span>
</span><span id="line-16"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier">toIfaceBooleanFormula</span></a></span><span>
</span><span id="line-17"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">where</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html"><span class="hs-identifier">GHC.Tc.Utils.TcType</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html"><span class="hs-identifier">GHC.Iface.Syntax</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.CoreToIface.html"><span class="hs-identifier">GHC.CoreToIface</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Class.html"><span class="hs-identifier">GHC.Core.Class</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html"><span class="hs-identifier">GHC.Core.ConLike</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Multiplicity.html"><span class="hs-identifier">GHC.Core.Multiplicity</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html"><span class="hs-identifier">GHC.Types.Var.Env</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.BooleanFormula.html"><span class="hs-identifier">GHC.Data.BooleanFormula</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">findIndex</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mapAccumL</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Converting things to their Iface equivalents
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="annot"><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier hs-type">tyThingToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span><span>
</span><span id="line-62"></span><span id="tyThingToIfaceDecl"><span class="annot"><span class="annottext">tyThingToIfaceDecl :: Bool -&gt; TyThing -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier hs-var hs-var">tyThingToIfaceDecl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682898960"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898960"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCoVar -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#idToIfaceDecl"><span class="hs-identifier hs-var">idToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898960"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-63"></span><span class="annot"><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier hs-var">tyThingToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682898963"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682898963"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TidyEnv, IfaceDecl) -&gt; IfaceDecl
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCon -&gt; (TidyEnv, IfaceDecl)
</span><a href="GHC.Iface.Decl.html#tyConToIfaceDecl"><span class="hs-identifier hs-var">tyConToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="GHC.Types.Var.Env.html#emptyTidyEnv"><span class="hs-identifier hs-var">emptyTidyEnv</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682898963"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="annot"><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier hs-var">tyThingToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span id="local-6989586621682898968"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682898968"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; IfaceDecl
forall (br :: BranchFlag). CoAxiom br -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#coAxiomToIfaceDecl"><span class="hs-identifier hs-var">coAxiomToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682898968"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-65"></span><span class="annot"><a href="GHC.Iface.Decl.html#tyThingToIfaceDecl"><span class="hs-identifier hs-var">tyThingToIfaceDecl</span></a></span><span> </span><span id="local-6989586621682898969"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682898969"><span class="hs-identifier hs-var">show_linear_types</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682898971"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682898971"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682898971"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682898973"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682898973"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; DataCon -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#dataConToIfaceDecl"><span class="hs-identifier hs-var">dataConToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682898969"><span class="hs-identifier hs-var">show_linear_types</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682898973"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="hs-comment">-- for ppr purposes only</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span> </span><span id="local-6989586621682898976"><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682898976"><span class="hs-identifier hs-var">ps</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PatSyn -&gt; IfaceDecl
</span><a href="GHC.CoreToIface.html#patSynToIfaceDecl"><span class="hs-identifier hs-var">patSynToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682898976"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-70"></span><span class="annot"><a href="GHC.Iface.Decl.html#idToIfaceDecl"><span class="hs-identifier hs-type">idToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- The Id is already tidied, so that locally-bound names</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- (lambdas, for-alls) already have non-clashing OccNames</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- We can't tidy it here, locally, because it may have</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- free variables in its type or IdInfo</span><span>
</span><span id="line-75"></span><span id="idToIfaceDecl"><span class="annot"><span class="annottext">idToIfaceDecl :: TyCoVar -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#idToIfaceDecl"><span class="hs-identifier hs-var hs-var">idToIfaceDecl</span></a></span></span><span> </span><span id="local-6989586621682898979"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898979"><span class="hs-identifier hs-var">id</span></a></span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceId"><span class="hs-identifier hs-type">IfaceId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCoVar -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898979"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>              </span><span class="annot"><span class="annottext">ifType :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifType"><span class="hs-identifier hs-var">ifType</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#toIfaceType"><span class="hs-identifier hs-var">toIfaceType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCoVar -&gt; Type
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898979"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>              </span><span class="annot"><span class="annottext">ifIdDetails :: IfaceIdDetails
</span><a href="GHC.Iface.Syntax.html#ifIdDetails"><span class="hs-identifier hs-var">ifIdDetails</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdDetails -&gt; IfaceIdDetails
</span><a href="GHC.CoreToIface.html#toIfaceIdDetails"><span class="hs-identifier hs-var">toIfaceIdDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCoVar -&gt; IdDetails
</span><a href="GHC.Types.Var.html#idDetails"><span class="hs-identifier hs-var">idDetails</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898979"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>              </span><span class="annot"><span class="annottext">ifIdInfo :: IfaceIdInfo
</span><a href="GHC.Iface.Syntax.html#ifIdInfo"><span class="hs-identifier hs-var">ifIdInfo</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; IfaceIdInfo
</span><a href="GHC.CoreToIface.html#toIfaceIdInfo"><span class="hs-identifier hs-var">toIfaceIdInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; TyCoVar -&gt; IdInfo
TyCoVar -&gt; IdInfo
</span><a href="GHC.Types.Var.html#idInfo"><span class="hs-identifier hs-var">idInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682898979"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-82"></span><span class="annot"><a href="GHC.Iface.Decl.html#dataConToIfaceDecl"><span class="hs-identifier hs-type">dataConToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span><span>
</span><span id="line-83"></span><span id="dataConToIfaceDecl"><span class="annot"><span class="annottext">dataConToIfaceDecl :: Bool -&gt; DataCon -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#dataConToIfaceDecl"><span class="hs-identifier hs-var hs-var">dataConToIfaceDecl</span></a></span></span><span> </span><span id="local-6989586621682898992"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682898992"><span class="hs-identifier hs-var">show_linear_types</span></a></span></span><span> </span><span id="local-6989586621682898993"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682898993"><span class="hs-identifier hs-var">dataCon</span></a></span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceId"><span class="hs-identifier hs-type">IfaceId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682898993"><span class="hs-identifier hs-var">dataCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>              </span><span class="annot"><span class="annottext">ifType :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifType"><span class="hs-identifier hs-var">ifType</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#toIfaceType"><span class="hs-identifier hs-var">toIfaceType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; DataCon -&gt; Type
</span><a href="GHC.Core.DataCon.html#dataConDisplayType"><span class="hs-identifier hs-var">dataConDisplayType</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682898992"><span class="hs-identifier hs-var">show_linear_types</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682898993"><span class="hs-identifier hs-var">dataCon</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>              </span><span class="annot"><span class="annottext">ifIdDetails :: IfaceIdDetails
</span><a href="GHC.Iface.Syntax.html#ifIdDetails"><span class="hs-identifier hs-var">ifIdDetails</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceIdDetails
</span><a href="GHC.Iface.Syntax.html#IfVanillaId"><span class="hs-identifier hs-var">IfVanillaId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>              </span><span class="annot"><span class="annottext">ifIdInfo :: IfaceIdInfo
</span><a href="GHC.Iface.Syntax.html#ifIdInfo"><span class="hs-identifier hs-var">ifIdInfo</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-90"></span><span id="local-6989586621682898809"><span class="annot"><a href="GHC.Iface.Decl.html#coAxiomToIfaceDecl"><span class="hs-identifier hs-type">coAxiomToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxiom"><span class="hs-identifier hs-type">CoAxiom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682898809"><span class="hs-identifier hs-type">br</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- We *do* tidy Axioms, because they are not (and cannot</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- conveniently be) built in tidy form</span><span>
</span><span id="line-93"></span><span id="coAxiomToIfaceDecl"><span class="annot"><span class="annottext">coAxiomToIfaceDecl :: forall (br :: BranchFlag). CoAxiom br -&gt; IfaceDecl
</span><a href="GHC.Iface.Decl.html#coAxiomToIfaceDecl"><span class="hs-identifier hs-var hs-var">coAxiomToIfaceDecl</span></a></span></span><span> </span><span id="local-6989586621682898998"><span class="annot"><span class="annottext">ax :: CoAxiom br
</span><a href="#local-6989586621682898998"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxiom"><span class="hs-identifier hs-type">CoAxiom</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">co_ax_tc :: forall (br :: BranchFlag). CoAxiom br -&gt; TyCon
</span><a href="GHC.Core.Coercion.Axiom.html#co_ax_tc"><span class="hs-identifier hs-var">co_ax_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899001"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899001"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">co_ax_branches :: forall (br :: BranchFlag). CoAxiom br -&gt; Branches br
</span><a href="GHC.Core.Coercion.Axiom.html#co_ax_branches"><span class="hs-identifier hs-var">co_ax_branches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899003"><span class="annot"><span class="annottext">Branches br
</span><a href="#local-6989586621682899003"><span class="hs-identifier hs-var">branches</span></a></span></span><span>
</span><span id="line-94"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">co_ax_role :: forall (br :: BranchFlag). CoAxiom br -&gt; Role
</span><a href="GHC.Core.Coercion.Axiom.html#co_ax_role"><span class="hs-identifier hs-var">co_ax_role</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899005"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621682899005"><span class="hs-keyword hs-var">role</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceAxiom"><span class="hs-identifier hs-type">IfaceAxiom</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom br -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom br
</span><a href="#local-6989586621682898998"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-96"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifTyCon :: IfaceTyCon
</span><a href="GHC.Iface.Syntax.html#ifTyCon"><span class="hs-identifier hs-var">ifTyCon</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; IfaceTyCon
</span><a href="GHC.CoreToIface.html#toIfaceTyCon"><span class="hs-identifier hs-var">toIfaceTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899001"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-97"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifRole :: Role
</span><a href="GHC.Iface.Syntax.html#ifRole"><span class="hs-identifier hs-var">ifRole</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621682899005"><span class="hs-keyword hs-var">role</span></a></span><span>
</span><span id="line-98"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifAxBranches :: [IfaceAxBranch]
</span><a href="GHC.Iface.Syntax.html#ifAxBranches"><span class="hs-identifier hs-var">ifAxBranches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CoAxBranch -&gt; IfaceAxBranch) -&gt; [CoAxBranch] -&gt; [IfaceAxBranch]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [[Type]] -&gt; CoAxBranch -&gt; IfaceAxBranch
</span><a href="GHC.Iface.Decl.html#coAxBranchToIfaceBranch"><span class="hs-identifier hs-var">coAxBranchToIfaceBranch</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899001"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-99"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CoAxBranch -&gt; [Type]) -&gt; [CoAxBranch] -&gt; [[Type]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">CoAxBranch -&gt; [Type]
</span><a href="GHC.Core.Coercion.Axiom.html#coAxBranchLHS"><span class="hs-identifier hs-var">coAxBranchLHS</span></a></span><span> </span><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899013"><span class="hs-identifier hs-var">branch_list</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>                                   </span><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899013"><span class="hs-identifier hs-var">branch_list</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-101"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>   </span><span id="local-6989586621682899013"><span class="annot"><span class="annottext">branch_list :: [CoAxBranch]
</span><a href="#local-6989586621682899013"><span class="hs-identifier hs-var hs-var">branch_list</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Branches br -&gt; [CoAxBranch]
forall (br :: BranchFlag). Branches br -&gt; [CoAxBranch]
</span><a href="GHC.Core.Coercion.Axiom.html#fromBranches"><span class="hs-identifier hs-var">fromBranches</span></a></span><span> </span><span class="annot"><span class="annottext">Branches br
</span><a href="#local-6989586621682899003"><span class="hs-identifier hs-var">branches</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- 2nd parameter is the list of branch LHSs, in case of a closed type family,</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- for conversion from incompatible branches to incompatible indices.</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- For an open type family the list should be empty.</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- See Note [Storing compatibility] in GHC.Core.Coercion.Axiom</span><span>
</span><span id="line-108"></span><span class="annot"><a href="GHC.Iface.Decl.html#coAxBranchToIfaceBranch"><span class="hs-identifier hs-type">coAxBranchToIfaceBranch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxBranch"><span class="hs-identifier hs-type">CoAxBranch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceAxBranch"><span class="hs-identifier hs-type">IfaceAxBranch</span></a></span><span>
</span><span id="line-109"></span><span id="coAxBranchToIfaceBranch"><span class="annot"><span class="annottext">coAxBranchToIfaceBranch :: TyCon -&gt; [[Type]] -&gt; CoAxBranch -&gt; IfaceAxBranch
</span><a href="GHC.Iface.Decl.html#coAxBranchToIfaceBranch"><span class="hs-identifier hs-var hs-var">coAxBranchToIfaceBranch</span></a></span></span><span> </span><span id="local-6989586621682899015"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899015"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682899016"><span class="annot"><span class="annottext">[[Type]]
</span><a href="#local-6989586621682899016"><span class="hs-identifier hs-var">lhs_s</span></a></span></span><span>
</span><span id="line-110"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxBranch"><span class="hs-identifier hs-type">CoAxBranch</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cab_tvs :: CoAxBranch -&gt; [TyCoVar]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_tvs"><span class="hs-identifier hs-var">cab_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899019"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899019"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_cvs :: CoAxBranch -&gt; [TyCoVar]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_cvs"><span class="hs-identifier hs-var">cab_cvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899021"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899021"><span class="hs-identifier hs-var">cvs</span></a></span></span><span>
</span><span id="line-111"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_eta_tvs :: CoAxBranch -&gt; [TyCoVar]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_eta_tvs"><span class="hs-identifier hs-var">cab_eta_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899023"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899023"><span class="hs-identifier hs-var">eta_tvs</span></a></span></span><span>
</span><span id="line-112"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_lhs :: CoAxBranch -&gt; [Type]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_lhs"><span class="hs-identifier hs-var">cab_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899025"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899025"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_roles :: CoAxBranch -&gt; [Role]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_roles"><span class="hs-identifier hs-var">cab_roles</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899027"><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621682899027"><span class="hs-identifier hs-var">roles</span></a></span></span><span>
</span><span id="line-113"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_rhs :: CoAxBranch -&gt; Type
</span><a href="GHC.Core.Coercion.Axiom.html#cab_rhs"><span class="hs-identifier hs-var">cab_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899029"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899029"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cab_incomps :: CoAxBranch -&gt; [CoAxBranch]
</span><a href="GHC.Core.Coercion.Axiom.html#cab_incomps"><span class="hs-identifier hs-var">cab_incomps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899031"><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899031"><span class="hs-identifier hs-var">incomps</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceAxBranch"><span class="hs-identifier hs-type">IfaceAxBranch</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifaxbTyVars :: [IfaceTvBndr]
</span><a href="GHC.Iface.Syntax.html#ifaxbTyVars"><span class="hs-identifier hs-var">ifaxbTyVars</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyCoVar] -&gt; [IfaceTvBndr]
</span><a href="GHC.CoreToIface.html#toIfaceTvBndrs"><span class="hs-identifier hs-var">toIfaceTvBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899019"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-116"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbCoVars :: [IfaceIdBndr]
</span><a href="GHC.Iface.Syntax.html#ifaxbCoVars"><span class="hs-identifier hs-var">ifaxbCoVars</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyCoVar -&gt; IfaceIdBndr) -&gt; [TyCoVar] -&gt; [IfaceIdBndr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyCoVar -&gt; IfaceIdBndr
</span><a href="GHC.CoreToIface.html#toIfaceIdBndr"><span class="hs-identifier hs-var">toIfaceIdBndr</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899021"><span class="hs-identifier hs-var">cvs</span></a></span><span>
</span><span id="line-117"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbEtaTyVars :: [IfaceTvBndr]
</span><a href="GHC.Iface.Syntax.html#ifaxbEtaTyVars"><span class="hs-identifier hs-var">ifaxbEtaTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyCoVar] -&gt; [IfaceTvBndr]
</span><a href="GHC.CoreToIface.html#toIfaceTvBndrs"><span class="hs-identifier hs-var">toIfaceTvBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899023"><span class="hs-identifier hs-var">eta_tvs</span></a></span><span>
</span><span id="line-118"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbLHS :: IfaceAppArgs
</span><a href="GHC.Iface.Syntax.html#ifaxbLHS"><span class="hs-identifier hs-var">ifaxbLHS</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; IfaceAppArgs
</span><a href="GHC.CoreToIface.html#toIfaceTcArgs"><span class="hs-identifier hs-var">toIfaceTcArgs</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899015"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899025"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-119"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbRoles :: [Role]
</span><a href="GHC.Iface.Syntax.html#ifaxbRoles"><span class="hs-identifier hs-var">ifaxbRoles</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621682899027"><span class="hs-identifier hs-var">roles</span></a></span><span>
</span><span id="line-120"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbRHS :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifaxbRHS"><span class="hs-identifier hs-var">ifaxbRHS</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#toIfaceType"><span class="hs-identifier hs-var">toIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899029"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-121"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ifaxbIncomps :: [BranchIndex]
</span><a href="GHC.Iface.Syntax.html#ifaxbIncomps"><span class="hs-identifier hs-var">ifaxbIncomps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[BranchIndex]
</span><a href="#local-6989586621682899043"><span class="hs-identifier hs-var">iface_incomps</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>    </span><span id="local-6989586621682899043"><span class="annot"><span class="annottext">iface_incomps :: [BranchIndex]
</span><a href="#local-6989586621682899043"><span class="hs-identifier hs-var hs-var">iface_incomps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CoAxBranch -&gt; BranchIndex) -&gt; [CoAxBranch] -&gt; [BranchIndex]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe BranchIndex -&gt; BranchIndex
forall a. HasDebugCallStack =&gt; String -&gt; Maybe a -&gt; a
</span><a href="GHC.Data.Maybe.html#expectJust"><span class="hs-identifier hs-var">expectJust</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;iface_incomps&quot;</span></span><span>
</span><span id="line-124"></span><span>                        </span><span class="annot"><span class="annottext">(Maybe BranchIndex -&gt; BranchIndex)
-&gt; (CoAxBranch -&gt; Maybe BranchIndex) -&gt; CoAxBranch -&gt; BranchIndex
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(([Type] -&gt; Bool) -&gt; [[Type]] -&gt; Maybe BranchIndex)
-&gt; [[Type]] -&gt; ([Type] -&gt; Bool) -&gt; Maybe BranchIndex
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">([Type] -&gt; Bool) -&gt; [[Type]] -&gt; Maybe BranchIndex
forall a. (a -&gt; Bool) -&gt; [a] -&gt; Maybe BranchIndex
</span><span class="hs-identifier hs-var">findIndex</span></span><span> </span><span class="annot"><span class="annottext">[[Type]]
</span><a href="#local-6989586621682899016"><span class="hs-identifier hs-var">lhs_s</span></a></span><span>
</span><span id="line-125"></span><span>                        </span><span class="annot"><span class="annottext">(([Type] -&gt; Bool) -&gt; Maybe BranchIndex)
-&gt; (CoAxBranch -&gt; [Type] -&gt; Bool)
-&gt; CoAxBranch
-&gt; Maybe BranchIndex
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; [Type] -&gt; Bool
</span><a href="GHC.Core.TyCo.Compare.html#eqTypes"><span class="hs-identifier hs-var">eqTypes</span></a></span><span>
</span><span id="line-126"></span><span>                        </span><span class="annot"><span class="annottext">([Type] -&gt; [Type] -&gt; Bool)
-&gt; (CoAxBranch -&gt; [Type]) -&gt; CoAxBranch -&gt; [Type] -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CoAxBranch -&gt; [Type]
</span><a href="GHC.Core.Coercion.Axiom.html#coAxBranchLHS"><span class="hs-identifier hs-var">coAxBranchLHS</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899031"><span class="hs-identifier hs-var">incomps</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-----------------</span><span>
</span><span id="line-129"></span><span class="annot"><a href="GHC.Iface.Decl.html#tyConToIfaceDecl"><span class="hs-identifier hs-type">tyConToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- We *do* tidy TyCons, because they are not (and cannot</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- conveniently be) built in tidy form</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- The returned TidyEnv is the one after tidying the tyConTyVars</span><span>
</span><span id="line-133"></span><span id="tyConToIfaceDecl"><span class="annot"><span class="annottext">tyConToIfaceDecl :: TidyEnv -&gt; TyCon -&gt; (TidyEnv, IfaceDecl)
</span><a href="GHC.Iface.Decl.html#tyConToIfaceDecl"><span class="hs-identifier hs-var hs-var">tyConToIfaceDecl</span></a></span></span><span> </span><span id="local-6989586621682899048"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899048"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682899049"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682899050"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899050"><span class="hs-identifier hs-var">clas</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Class
</span><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-var">tyConClass_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; Class -&gt; (TidyEnv, IfaceDecl)
</span><a href="GHC.Iface.Decl.html#classToIfaceDecl"><span class="hs-identifier hs-var">classToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899048"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899050"><span class="hs-identifier hs-var">clas</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682899053"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899053"><span class="hs-identifier hs-var">syn_rhs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Type
</span><a href="GHC.Core.TyCon.html#synTyConRhs_maybe"><span class="hs-identifier hs-var">synTyConRhs_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceSynonym"><span class="hs-identifier hs-type">IfaceSynonym</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>                     </span><span class="annot"><span class="annottext">ifRoles :: [Role]
</span><a href="GHC.Iface.Syntax.html#ifRoles"><span class="hs-identifier hs-var">ifRoles</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Role]
</span><a href="GHC.Core.TyCon.html#tyConRoles"><span class="hs-identifier hs-var">tyConRoles</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>                     </span><span class="annot"><span class="annottext">ifSynRhs :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifSynRhs"><span class="hs-identifier hs-var">ifSynRhs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; IfaceType
</span><a href="#local-6989586621682899060"><span class="hs-identifier hs-var">if_syn_type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899053"><span class="hs-identifier hs-var">syn_rhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>                     </span><span class="annot"><span class="annottext">ifBinders :: [IfaceTyConBinder]
</span><a href="GHC.Iface.Syntax.html#ifBinders"><span class="hs-identifier hs-var">ifBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IfaceTyConBinder]
</span><a href="#local-6989586621682899062"><span class="hs-identifier hs-var">if_binders</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>                     </span><span class="annot"><span class="annottext">ifResKind :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifResKind"><span class="hs-identifier hs-var">ifResKind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceType
</span><a href="#local-6989586621682899064"><span class="hs-identifier hs-var">if_res_kind</span></a></span><span>
</span><span id="line-144"></span><span>                   </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682899065"><span class="annot"><span class="annottext">FamTyConFlav
</span><a href="#local-6989586621682899065"><span class="hs-identifier hs-var">fam_flav</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe FamTyConFlav
</span><a href="GHC.Core.TyCon.html#famTyConFlav_maybe"><span class="hs-identifier hs-var">famTyConFlav_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceFamily"><span class="hs-identifier hs-type">IfaceFamily</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>                    </span><span class="annot"><span class="annottext">ifResVar :: Maybe IfLclName
</span><a href="GHC.Iface.Syntax.html#ifResVar"><span class="hs-identifier hs-var">ifResVar</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; IfLclName
</span><a href="GHC.Iface.Type.html#mkIfLclName"><span class="hs-identifier hs-var">mkIfLclName</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; IfLclName) -&gt; Maybe FastString -&gt; Maybe IfLclName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621682899071"><span class="hs-identifier hs-var">if_res_var</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>                    </span><span class="annot"><span class="annottext">ifFamFlav :: IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#ifFamFlav"><span class="hs-identifier hs-var">ifFamFlav</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamTyConFlav -&gt; IfaceFamTyConFlav
</span><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="annot"><span class="annottext">FamTyConFlav
</span><a href="#local-6989586621682899065"><span class="hs-identifier hs-var">fam_flav</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>                    </span><span class="annot"><span class="annottext">ifBinders :: [IfaceTyConBinder]
</span><a href="GHC.Iface.Syntax.html#ifBinders"><span class="hs-identifier hs-var">ifBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IfaceTyConBinder]
</span><a href="#local-6989586621682899062"><span class="hs-identifier hs-var">if_binders</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>                    </span><span class="annot"><span class="annottext">ifResKind :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifResKind"><span class="hs-identifier hs-var">ifResKind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceType
</span><a href="#local-6989586621682899064"><span class="hs-identifier hs-var">if_res_kind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>                    </span><span class="annot"><span class="annottext">ifFamInj :: Injectivity
</span><a href="GHC.Iface.Syntax.html#ifFamInj"><span class="hs-identifier hs-var">ifFamInj</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Injectivity
</span><a href="GHC.Core.TyCon.html#tyConInjectivityInfo"><span class="hs-identifier hs-var">tyConInjectivityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-154"></span><span>                  </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isAlgTyCon"><span class="hs-identifier hs-var">isAlgTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceData"><span class="hs-identifier hs-type">IfaceData</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>                  </span><span class="annot"><span class="annottext">ifBinders :: [IfaceTyConBinder]
</span><a href="GHC.Iface.Syntax.html#ifBinders"><span class="hs-identifier hs-var">ifBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IfaceTyConBinder]
</span><a href="#local-6989586621682899062"><span class="hs-identifier hs-var">if_binders</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-160"></span><span>                  </span><span class="annot"><span class="annottext">ifResKind :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifResKind"><span class="hs-identifier hs-var">ifResKind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceType
</span><a href="#local-6989586621682899064"><span class="hs-identifier hs-var">if_res_kind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-161"></span><span>                  </span><span class="annot"><span class="annottext">ifCType :: Maybe CType
</span><a href="GHC.Iface.Syntax.html#ifCType"><span class="hs-identifier hs-var">ifCType</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe CType
</span><a href="GHC.Core.TyCon.html#tyConCType_maybe"><span class="hs-identifier hs-var">tyConCType_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-162"></span><span>                  </span><span class="annot"><span class="annottext">ifRoles :: [Role]
</span><a href="GHC.Iface.Syntax.html#ifRoles"><span class="hs-identifier hs-var">ifRoles</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Role]
</span><a href="GHC.Core.TyCon.html#tyConRoles"><span class="hs-identifier hs-var">tyConRoles</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-163"></span><span>                  </span><span class="annot"><span class="annottext">ifCtxt :: IfaceContext
</span><a href="GHC.Iface.Syntax.html#ifCtxt"><span class="hs-identifier hs-var">ifCtxt</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [Type] -&gt; IfaceContext
</span><a href="GHC.CoreToIface.html#tidyToIfaceContext"><span class="hs-identifier hs-var">tidyToIfaceContext</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [Type]
</span><a href="GHC.Core.TyCon.html#tyConStupidTheta"><span class="hs-identifier hs-var">tyConStupidTheta</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-164"></span><span>                  </span><span class="annot"><span class="annottext">ifCons :: IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#ifCons"><span class="hs-identifier hs-var">ifCons</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgTyConRhs -&gt; IfaceConDecls
</span><a href="#local-6989586621682899084"><span class="hs-identifier hs-var">ifaceConDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; AlgTyConRhs
</span><a href="GHC.Core.TyCon.html#algTyConRhs"><span class="hs-identifier hs-var">algTyConRhs</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-165"></span><span>                  </span><span class="annot"><span class="annottext">ifGadtSyntax :: Bool
</span><a href="GHC.Iface.Syntax.html#ifGadtSyntax"><span class="hs-identifier hs-var">ifGadtSyntax</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isGadtSyntaxTyCon"><span class="hs-identifier hs-var">isGadtSyntaxTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>                  </span><span class="annot"><span class="annottext">ifParent :: IfaceTyConParent
</span><a href="GHC.Iface.Syntax.html#ifParent"><span class="hs-identifier hs-var">ifParent</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceTyConParent
</span><a href="#local-6989586621682899089"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>  </span><span class="hs-comment">-- FunTyCon, PrimTyCon, promoted TyCon/DataCon</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-comment">-- We only convert these TyCons to IfaceTyCons when we are</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-comment">-- just about to pretty-print them, not because we are going</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">-- to put them into interface files</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899048"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceData"><span class="hs-identifier hs-type">IfaceData</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-174"></span><span>                  </span><span class="annot"><span class="annottext">ifBinders :: [IfaceTyConBinder]
</span><a href="GHC.Iface.Syntax.html#ifBinders"><span class="hs-identifier hs-var">ifBinders</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IfaceTyConBinder]
</span><a href="#local-6989586621682899062"><span class="hs-identifier hs-var">if_binders</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-175"></span><span>                  </span><span class="annot"><span class="annottext">ifResKind :: IfaceType
</span><a href="GHC.Iface.Syntax.html#ifResKind"><span class="hs-identifier hs-var">ifResKind</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceType
</span><a href="#local-6989586621682899064"><span class="hs-identifier hs-var">if_res_kind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-176"></span><span>                  </span><span class="annot"><span class="annottext">ifCType :: Maybe CType
</span><a href="GHC.Iface.Syntax.html#ifCType"><span class="hs-identifier hs-var">ifCType</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CType
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span>
</span><span id="line-177"></span><span>                  </span><span class="annot"><span class="annottext">ifRoles :: [Role]
</span><a href="GHC.Iface.Syntax.html#ifRoles"><span class="hs-identifier hs-var">ifRoles</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Role]
</span><a href="GHC.Core.TyCon.html#tyConRoles"><span class="hs-identifier hs-var">tyConRoles</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-178"></span><span>                  </span><span class="annot"><span class="annottext">ifCtxt :: IfaceContext
</span><a href="GHC.Iface.Syntax.html#ifCtxt"><span class="hs-identifier hs-var">ifCtxt</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-179"></span><span>                  </span><span class="annot"><span class="annottext">ifCons :: IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#ifCons"><span class="hs-identifier hs-var">ifCons</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [IfaceConDecl] -&gt; IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfDataTyCon"><span class="hs-identifier hs-var">IfDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-180"></span><span>                  </span><span class="annot"><span class="annottext">ifGadtSyntax :: Bool
</span><a href="GHC.Iface.Syntax.html#ifGadtSyntax"><span class="hs-identifier hs-var">ifGadtSyntax</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-181"></span><span>                  </span><span class="annot"><span class="annottext">ifParent :: IfaceTyConParent
</span><a href="GHC.Iface.Syntax.html#ifParent"><span class="hs-identifier hs-var">ifParent</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceTyConParent
</span><a href="GHC.Iface.Syntax.html#IfNoParent"><span class="hs-identifier hs-var">IfNoParent</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-comment">-- NOTE: Not all TyCons have `tyConTyVars` field. Forcing this when `tycon`</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-comment">-- is one of these TyCons (FunTyCon, PrimTyCon, PromotedDataCon) will cause</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-comment">-- an error.</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682899055"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899092"><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899092"><span class="hs-identifier hs-var">tc_binders</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [TyConBinder] -&gt; (TidyEnv, [TyConBinder])
</span><a href="GHC.Iface.Decl.html#tidyTyConBinders"><span class="hs-identifier hs-var">tidyTyConBinders</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899048"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [TyConBinder]
</span><a href="GHC.Core.TyCon.html#tyConBinders"><span class="hs-identifier hs-var">tyConBinders</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621682899095"><span class="annot"><span class="annottext">tc_tyvars :: [TyCoVar]
</span><a href="#local-6989586621682899095"><span class="hs-identifier hs-var hs-var">tc_tyvars</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyConBinder] -&gt; [TyCoVar]
forall tv argf. [VarBndr tv argf] -&gt; [tv]
</span><a href="GHC.Types.Var.html#binderVars"><span class="hs-identifier hs-var">binderVars</span></a></span><span> </span><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899092"><span class="hs-identifier hs-var">tc_binders</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span id="local-6989586621682899062"><span class="annot"><span class="annottext">if_binders :: [IfaceTyConBinder]
</span><a href="#local-6989586621682899062"><span class="hs-identifier hs-var hs-var">if_binders</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyConBinder] -&gt; [IfaceTyConBinder]
forall vis. [VarBndr TyCoVar vis] -&gt; [VarBndr IfaceBndr vis]
</span><a href="GHC.CoreToIface.html#toIfaceForAllBndrs"><span class="hs-identifier hs-var">toIfaceForAllBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899092"><span class="hs-identifier hs-var">tc_binders</span></a></span><span>
</span><span id="line-189"></span><span>                     </span><span class="hs-comment">-- No tidying of the binders; they are already tidy</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621682899064"><span class="annot"><span class="annottext">if_res_kind :: IfaceType
</span><a href="#local-6989586621682899064"><span class="hs-identifier hs-var hs-var">if_res_kind</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Core.TyCon.html#tyConResKind"><span class="hs-identifier hs-var">tyConResKind</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621682899060"><span class="annot"><span class="annottext">if_syn_type :: Type -&gt; IfaceType
</span><a href="#local-6989586621682899060"><span class="hs-identifier hs-var hs-var">if_syn_type</span></a></span></span><span> </span><span id="local-6989586621682899100"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899100"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899100"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621682899071"><span class="annot"><span class="annottext">if_res_var :: Maybe FastString
</span><a href="#local-6989586621682899071"><span class="hs-identifier hs-var hs-var">if_res_var</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; FastString
forall a. NamedThing a =&gt; a -&gt; FastString
</span><a href="GHC.Types.Name.html#getOccFS"><span class="hs-identifier hs-var">getOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; FastString) -&gt; Maybe Name -&gt; Maybe FastString
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Name
</span><a href="GHC.Core.TyCon.html#tyConFamilyResVar_maybe"><span class="hs-identifier hs-var">tyConFamilyResVar_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621682899089"><span class="annot"><span class="annottext">parent :: IfaceTyConParent
</span><a href="#local-6989586621682899089"><span class="hs-identifier hs-var hs-var">parent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe (TyCon, [Type], CoAxiom Unbranched)
</span><a href="GHC.Core.TyCon.html#tyConFamInstSig_maybe"><span class="hs-identifier hs-var">tyConFamInstSig_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-195"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682899104"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899104"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899105"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899105"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899106"><span class="annot"><span class="annottext">CoAxiom Unbranched
</span><a href="#local-6989586621682899106"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; IfaceTyCon -&gt; IfaceAppArgs -&gt; IfaceTyConParent
</span><a href="GHC.Iface.Syntax.html#IfDataInstance"><span class="hs-identifier hs-var">IfDataInstance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CoAxiom Unbranched -&gt; Name
forall (br :: BranchFlag). CoAxiom br -&gt; Name
</span><a href="GHC.Core.Coercion.Axiom.html#coAxiomName"><span class="hs-identifier hs-var">coAxiomName</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Unbranched
</span><a href="#local-6989586621682899106"><span class="hs-identifier hs-var">ax</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; IfaceTyCon
</span><a href="GHC.CoreToIface.html#toIfaceTyCon"><span class="hs-identifier hs-var">toIfaceTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899104"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCon -&gt; [Type] -&gt; IfaceAppArgs
</span><a href="GHC.CoreToIface.html#tidyToIfaceTcArgs"><span class="hs-identifier hs-var">tidyToIfaceTcArgs</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899104"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899105"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>               </span><span class="annot"><span class="annottext">Maybe (TyCon, [Type], CoAxiom Unbranched)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IfaceTyConParent
</span><a href="GHC.Iface.Syntax.html#IfNoParent"><span class="hs-identifier hs-var">IfNoParent</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621682899073"><span class="annot"><span class="annottext">to_if_fam_flav :: FamTyConFlav -&gt; IfaceFamTyConFlav
</span><a href="#local-6989586621682899073"><span class="hs-identifier hs-var hs-var">to_if_fam_flav</span></a></span></span><span> </span><span class="annot"><span class="annottext">FamTyConFlav
</span><a href="GHC.Core.TyCon.html#OpenSynFamilyTyCon"><span class="hs-identifier hs-var">OpenSynFamilyTyCon</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceOpenSynFamilyTyCon"><span class="hs-identifier hs-var">IfaceOpenSynFamilyTyCon</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="annot"><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="annot"><span class="annottext">FamTyConFlav
</span><a href="GHC.Core.TyCon.html#AbstractClosedSynFamilyTyCon"><span class="hs-identifier hs-var">AbstractClosedSynFamilyTyCon</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceAbstractClosedSynFamilyTyCon"><span class="hs-identifier hs-var">IfaceAbstractClosedSynFamilyTyCon</span></a></span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#DataFamilyTyCon"><span class="hs-identifier hs-type">DataFamilyTyCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceDataFamilyTyCon"><span class="hs-identifier hs-var">IfaceDataFamilyTyCon</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#BuiltInSynFamTyCon"><span class="hs-identifier hs-type">BuiltInSynFamTyCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceBuiltInSynFamTyCon"><span class="hs-identifier hs-var">IfaceBuiltInSynFamTyCon</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#ClosedSynFamilyTyCon"><span class="hs-identifier hs-type">ClosedSynFamilyTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (CoAxiom Branched)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Name, [IfaceAxBranch]) -&gt; IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceClosedSynFamilyTyCon"><span class="hs-identifier hs-var">IfaceClosedSynFamilyTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Name, [IfaceAxBranch])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="#local-6989586621682899073"><span class="hs-identifier hs-var">to_if_fam_flav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#ClosedSynFamilyTyCon"><span class="hs-identifier hs-type">ClosedSynFamilyTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682899120"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682899120"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Name, [IfaceAxBranch]) -&gt; IfaceFamTyConFlav
</span><a href="GHC.Iface.Syntax.html#IfaceClosedSynFamilyTyCon"><span class="hs-identifier hs-var">IfaceClosedSynFamilyTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name, [IfaceAxBranch]) -&gt; Maybe (Name, [IfaceAxBranch])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682899121"><span class="hs-identifier hs-var">axn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[IfaceAxBranch]
</span><a href="#local-6989586621682899122"><span class="hs-identifier hs-var">ibr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682899123"><span class="annot"><span class="annottext">defs :: [CoAxBranch]
</span><a href="#local-6989586621682899123"><span class="hs-identifier hs-var hs-var">defs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Branches Branched -&gt; [CoAxBranch]
forall (br :: BranchFlag). Branches br -&gt; [CoAxBranch]
</span><a href="GHC.Core.Coercion.Axiom.html#fromBranches"><span class="hs-identifier hs-var">fromBranches</span></a></span><span> </span><span class="annot"><span class="annottext">(Branches Branched -&gt; [CoAxBranch])
-&gt; Branches Branched -&gt; [CoAxBranch]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; Branches Branched
forall (br :: BranchFlag). CoAxiom br -&gt; Branches br
</span><a href="GHC.Core.Coercion.Axiom.html#coAxiomBranches"><span class="hs-identifier hs-var">coAxiomBranches</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682899120"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-208"></span><span>            </span><span id="local-6989586621682899125"><span class="annot"><span class="annottext">lhss :: [[Type]]
</span><a href="#local-6989586621682899125"><span class="hs-identifier hs-var hs-var">lhss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CoAxBranch -&gt; [Type]) -&gt; [CoAxBranch] -&gt; [[Type]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">CoAxBranch -&gt; [Type]
</span><a href="GHC.Core.Coercion.Axiom.html#coAxBranchLHS"><span class="hs-identifier hs-var">coAxBranchLHS</span></a></span><span> </span><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899123"><span class="hs-identifier hs-var">defs</span></a></span><span>
</span><span id="line-209"></span><span>            </span><span id="local-6989586621682899122"><span class="annot"><span class="annottext">ibr :: [IfaceAxBranch]
</span><a href="#local-6989586621682899122"><span class="hs-identifier hs-var hs-var">ibr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CoAxBranch -&gt; IfaceAxBranch) -&gt; [CoAxBranch] -&gt; [IfaceAxBranch]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [[Type]] -&gt; CoAxBranch -&gt; IfaceAxBranch
</span><a href="GHC.Iface.Decl.html#coAxBranchToIfaceBranch"><span class="hs-identifier hs-var">coAxBranchToIfaceBranch</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899049"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[[Type]]
</span><a href="#local-6989586621682899125"><span class="hs-identifier hs-var">lhss</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CoAxBranch]
</span><a href="#local-6989586621682899123"><span class="hs-identifier hs-var">defs</span></a></span><span>
</span><span id="line-210"></span><span>            </span><span id="local-6989586621682899121"><span class="annot"><span class="annottext">axn :: Name
</span><a href="#local-6989586621682899121"><span class="hs-identifier hs-var hs-var">axn</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; Name
forall (br :: BranchFlag). CoAxiom br -&gt; Name
</span><a href="GHC.Core.Coercion.Axiom.html#coAxiomName"><span class="hs-identifier hs-var">coAxiomName</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682899120"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621682899084"><span class="annot"><span class="annottext">ifaceConDecls :: AlgTyConRhs -&gt; IfaceConDecls
</span><a href="#local-6989586621682899084"><span class="hs-identifier hs-var hs-var">ifaceConDecls</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#NewTyCon"><span class="hs-identifier hs-type">NewTyCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">data_con :: AlgTyConRhs -&gt; DataCon
</span><a href="GHC.Core.TyCon.html#data_con"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899128"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899128"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceConDecl -&gt; IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfNewTyCon"><span class="hs-identifier hs-var">IfNewTyCon</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; IfaceConDecl
</span><a href="#local-6989586621682899130"><span class="hs-identifier hs-var">ifaceConDecl</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899128"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><a href="#local-6989586621682899084"><span class="hs-identifier hs-var">ifaceConDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#DataTyCon"><span class="hs-identifier hs-type">DataTyCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">data_cons :: AlgTyConRhs -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#data_cons"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899133"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682899133"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_type_data :: AlgTyConRhs -&gt; Bool
</span><a href="GHC.Core.TyCon.html#is_type_data"><span class="hs-identifier hs-var">is_type_data</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899135"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682899135"><span class="hs-identifier hs-var">type_data</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [IfaceConDecl] -&gt; IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfDataTyCon"><span class="hs-identifier hs-var">IfDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682899135"><span class="hs-identifier hs-var">type_data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon -&gt; IfaceConDecl) -&gt; [DataCon] -&gt; [IfaceConDecl]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; IfaceConDecl
</span><a href="#local-6989586621682899130"><span class="hs-identifier hs-var">ifaceConDecl</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682899133"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="#local-6989586621682899084"><span class="hs-identifier hs-var">ifaceConDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#TupleTyCon"><span class="hs-identifier hs-type">TupleTyCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">data_con :: AlgTyConRhs -&gt; DataCon
</span><a href="GHC.Core.TyCon.html#data_con"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899137"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899137"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [IfaceConDecl] -&gt; IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfDataTyCon"><span class="hs-identifier hs-var">IfDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">DataCon -&gt; IfaceConDecl
</span><a href="#local-6989586621682899130"><span class="hs-identifier hs-var">ifaceConDecl</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899137"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><a href="#local-6989586621682899084"><span class="hs-identifier hs-var">ifaceConDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#SumTyCon"><span class="hs-identifier hs-type">SumTyCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">data_cons :: AlgTyConRhs -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#data_cons"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682899139"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682899139"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [IfaceConDecl] -&gt; IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfDataTyCon"><span class="hs-identifier hs-var">IfDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon -&gt; IfaceConDecl) -&gt; [DataCon] -&gt; [IfaceConDecl]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; IfaceConDecl
</span><a href="#local-6989586621682899130"><span class="hs-identifier hs-var">ifaceConDecl</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682899139"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><a href="#local-6989586621682899084"><span class="hs-identifier hs-var">ifaceConDecls</span></a></span><span> </span><span class="annot"><span class="annottext">AlgTyConRhs
</span><a href="GHC.Core.TyCon.html#AbstractTyCon"><span class="hs-identifier hs-var">AbstractTyCon</span></a></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceConDecls
</span><a href="GHC.Iface.Syntax.html#IfAbstractTyCon"><span class="hs-identifier hs-var">IfAbstractTyCon</span></a></span><span>
</span><span id="line-218"></span><span>        </span><span class="hs-comment">-- The AbstractTyCon case happens when a TyCon has been trimmed</span><span>
</span><span id="line-219"></span><span>        </span><span class="hs-comment">-- during tidying.</span><span>
</span><span id="line-220"></span><span>        </span><span class="hs-comment">-- Furthermore, tyThingToIfaceDecl is also used in GHC.Tc.Module</span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-comment">-- for GHCi, when browsing a module, in which case the</span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-comment">-- AbstractTyCon and TupleTyCon cases are perfectly sensible.</span><span>
</span><span id="line-223"></span><span>        </span><span class="hs-comment">-- (Tuple declarations are not serialised into interface files.)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621682899130"><span class="annot"><span class="annottext">ifaceConDecl :: DataCon -&gt; IfaceConDecl
</span><a href="#local-6989586621682899130"><span class="hs-identifier hs-var hs-var">ifaceConDecl</span></a></span></span><span> </span><span id="local-6989586621682899142"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfCon"><span class="hs-identifier hs-type">IfCon</span></a></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifConName :: Name
</span><a href="GHC.Iface.Syntax.html#ifConName"><span class="hs-identifier hs-var">ifConName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-227"></span><span>                    </span><span class="annot"><span class="annottext">ifConInfix :: Bool
</span><a href="GHC.Iface.Syntax.html#ifConInfix"><span class="hs-identifier hs-var">ifConInfix</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#dataConIsInfix"><span class="hs-identifier hs-var">dataConIsInfix</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-228"></span><span>                    </span><span class="annot"><span class="annottext">ifConWrapper :: Bool
</span><a href="GHC.Iface.Syntax.html#ifConWrapper"><span class="hs-identifier hs-var">ifConWrapper</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TyCoVar -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Maybe TyCoVar
</span><a href="GHC.Core.DataCon.html#dataConWrapId_maybe"><span class="hs-identifier hs-var">dataConWrapId_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-229"></span><span>                    </span><span class="annot"><span class="annottext">ifConExTCvs :: [IfaceBndr]
</span><a href="GHC.Iface.Syntax.html#ifConExTCvs"><span class="hs-identifier hs-var">ifConExTCvs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyCoVar -&gt; IfaceBndr) -&gt; [TyCoVar] -&gt; [IfaceBndr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyCoVar -&gt; IfaceBndr
</span><a href="GHC.CoreToIface.html#toIfaceBndr"><span class="hs-identifier hs-var">toIfaceBndr</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899153"><span class="hs-identifier hs-var">ex_tvs'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-230"></span><span>                    </span><span class="annot"><span class="annottext">ifConUserTvBinders :: [IfaceForAllSpecBndr]
</span><a href="GHC.Iface.Syntax.html#ifConUserTvBinders"><span class="hs-identifier hs-var">ifConUserTvBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[VarBndr TyCoVar Specificity] -&gt; [IfaceForAllSpecBndr]
forall vis. [VarBndr TyCoVar vis] -&gt; [VarBndr IfaceBndr vis]
</span><a href="GHC.CoreToIface.html#toIfaceForAllBndrs"><span class="hs-identifier hs-var">toIfaceForAllBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[VarBndr TyCoVar Specificity]
</span><a href="#local-6989586621682899155"><span class="hs-identifier hs-var">user_bndrs'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-231"></span><span>                    </span><span class="annot"><span class="annottext">ifConEqSpec :: [IfaceTvBndr]
</span><a href="GHC.Iface.Syntax.html#ifConEqSpec"><span class="hs-identifier hs-var">ifConEqSpec</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(EqSpec -&gt; IfaceTvBndr) -&gt; [EqSpec] -&gt; [IfaceTvBndr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyCoVar, Type) -&gt; IfaceTvBndr
</span><a href="#local-6989586621682899157"><span class="hs-identifier hs-var">to_eq_spec</span></a></span><span> </span><span class="annot"><span class="annottext">((TyCoVar, Type) -&gt; IfaceTvBndr)
-&gt; (EqSpec -&gt; (TyCoVar, Type)) -&gt; EqSpec -&gt; IfaceTvBndr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EqSpec -&gt; (TyCoVar, Type)
</span><a href="GHC.Core.DataCon.html#eqSpecPair"><span class="hs-identifier hs-var">eqSpecPair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[EqSpec]
</span><a href="#local-6989586621682899159"><span class="hs-identifier hs-var">eq_spec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-232"></span><span>                    </span><span class="annot"><span class="annottext">ifConCtxt :: IfaceContext
</span><a href="GHC.Iface.Syntax.html#ifConCtxt"><span class="hs-identifier hs-var">ifConCtxt</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [Type] -&gt; IfaceContext
</span><a href="GHC.CoreToIface.html#tidyToIfaceContext"><span class="hs-identifier hs-var">tidyToIfaceContext</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899162"><span class="hs-identifier hs-var">theta</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-233"></span><span>                    </span><span class="annot"><span class="annottext">ifConArgTys :: [(IfaceType, IfaceType)]
</span><a href="GHC.Iface.Syntax.html#ifConArgTys"><span class="hs-identifier hs-var">ifConArgTys</span></a></span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-234"></span><span>                      </span><span class="annot"><span class="annottext">(Scaled Type -&gt; (IfaceType, IfaceType))
-&gt; [Scaled Type] -&gt; [(IfaceType, IfaceType)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Scaled"><span class="hs-identifier hs-type">Scaled</span></a></span><span> </span><span id="local-6989586621682899165"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899165"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682899166"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899166"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899165"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-235"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899166"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Scaled Type]
</span><a href="#local-6989586621682899167"><span class="hs-identifier hs-var">arg_tys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-236"></span><span>                    </span><span class="annot"><span class="annottext">ifConFields :: [FieldLabel]
</span><a href="GHC.Iface.Syntax.html#ifConFields"><span class="hs-identifier hs-var">ifConFields</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [FieldLabel]
</span><a href="GHC.Core.DataCon.html#dataConFieldLabels"><span class="hs-identifier hs-var">dataConFieldLabels</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-237"></span><span>                    </span><span class="annot"><span class="annottext">ifConStricts :: [IfaceBang]
</span><a href="GHC.Iface.Syntax.html#ifConStricts"><span class="hs-identifier hs-var">ifConStricts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsImplBang -&gt; IfaceBang) -&gt; [HsImplBang] -&gt; [IfaceBang]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; HsImplBang -&gt; IfaceBang
</span><a href="GHC.CoreToIface.html#toIfaceBang"><span class="hs-identifier hs-var">toIfaceBang</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [HsImplBang]
</span><a href="GHC.Core.DataCon.html#dataConImplBangs"><span class="hs-identifier hs-var">dataConImplBangs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>                    </span><span class="annot"><span class="annottext">ifConSrcStricts :: [IfaceSrcBang]
</span><a href="GHC.Iface.Syntax.html#ifConSrcStricts"><span class="hs-identifier hs-var">ifConSrcStricts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsSrcBang -&gt; IfaceSrcBang) -&gt; [HsSrcBang] -&gt; [IfaceSrcBang]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">HsSrcBang -&gt; IfaceSrcBang
</span><a href="GHC.CoreToIface.html#toIfaceSrcBang"><span class="hs-identifier hs-var">toIfaceSrcBang</span></a></span><span>
</span><span id="line-240"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [HsSrcBang]
</span><a href="GHC.Core.DataCon.html#dataConSrcBangs"><span class="hs-identifier hs-var">dataConSrcBangs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682899176"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899176"><span class="hs-identifier hs-var">univ_tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899177"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899177"><span class="hs-identifier hs-var">ex_tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899159"><span class="annot"><span class="annottext">[EqSpec]
</span><a href="#local-6989586621682899159"><span class="hs-identifier hs-var">eq_spec</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899162"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899162"><span class="hs-identifier hs-var">theta</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899167"><span class="annot"><span class="annottext">[Scaled Type]
</span><a href="#local-6989586621682899167"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; ([TyCoVar], [TyCoVar], [EqSpec], [Type], [Scaled Type], Type)
</span><a href="GHC.Core.DataCon.html#dataConFullSig"><span class="hs-identifier hs-var">dataConFullSig</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-244"></span><span>          </span><span id="local-6989586621682899179"><span class="annot"><span class="annottext">user_bndrs :: [VarBndr TyCoVar Specificity]
</span><a href="#local-6989586621682899179"><span class="hs-identifier hs-var hs-var">user_bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [VarBndr TyCoVar Specificity]
</span><a href="GHC.Core.DataCon.html#dataConUserTyVarBinders"><span class="hs-identifier hs-var">dataConUserTyVarBinders</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682899142"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span>          </span><span class="hs-comment">-- Tidy the univ_tvs of the data constructor to be identical</span><span>
</span><span id="line-247"></span><span>          </span><span class="hs-comment">-- to the tyConTyVars of the type constructor.  This means</span><span>
</span><span id="line-248"></span><span>          </span><span class="hs-comment">-- (a) we don't need to redundantly put them into the interface file</span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-comment">-- (b) when pretty-printing an Iface data declaration in H98-style syntax,</span><span>
</span><span id="line-250"></span><span>          </span><span class="hs-comment">--     we know that the type variables will line up</span><span>
</span><span id="line-251"></span><span>          </span><span class="hs-comment">-- The latter (b) is important because we pretty-print type constructors</span><span>
</span><span id="line-252"></span><span>          </span><span class="hs-comment">-- by converting to Iface syntax and pretty-printing that</span><span>
</span><span id="line-253"></span><span>          </span><span id="local-6989586621682899181"><span class="annot"><span class="annottext">con_env1 :: TidyEnv
</span><a href="#local-6989586621682899181"><span class="hs-identifier hs-var hs-var">con_env1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TidyOccEnv
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899055"><span class="hs-identifier hs-var">tc_env1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(TyCoVar, TyCoVar)] -&gt; VarEnv TyCoVar
forall a. [(TyCoVar, a)] -&gt; VarEnv a
</span><a href="GHC.Types.Var.Env.html#mkVarEnv"><span class="hs-identifier hs-var">mkVarEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [TyCoVar] -&gt; [TyCoVar] -&gt; [(TyCoVar, TyCoVar)]
forall a b. HasDebugCallStack =&gt; String -&gt; [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="GHC.Utils.Misc.html#zipEqual"><span class="hs-identifier hs-var">zipEqual</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ifaceConDecl&quot;</span></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899176"><span class="hs-identifier hs-var">univ_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899095"><span class="hs-identifier hs-var">tc_tyvars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>                     </span><span class="hs-comment">-- A bit grimy, perhaps, but it's simple!</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682899161"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899153"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899153"><span class="hs-identifier hs-var">ex_tvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [TyCoVar] -&gt; (TidyEnv, [TyCoVar])
</span><a href="GHC.Core.TyCo.Tidy.html#tidyVarBndrs"><span class="hs-identifier hs-var">tidyVarBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899181"><span class="hs-identifier hs-var">con_env1</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899177"><span class="hs-identifier hs-var">ex_tvs</span></a></span><span>
</span><span id="line-257"></span><span>          </span><span id="local-6989586621682899155"><span class="annot"><span class="annottext">user_bndrs' :: [VarBndr TyCoVar Specificity]
</span><a href="#local-6989586621682899155"><span class="hs-identifier hs-var hs-var">user_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(VarBndr TyCoVar Specificity -&gt; VarBndr TyCoVar Specificity)
-&gt; [VarBndr TyCoVar Specificity] -&gt; [VarBndr TyCoVar Specificity]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv
-&gt; VarBndr TyCoVar Specificity -&gt; VarBndr TyCoVar Specificity
</span><a href="#local-6989586621682899186"><span class="hs-identifier hs-var">tidyUserForAllTyBinder</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[VarBndr TyCoVar Specificity]
</span><a href="#local-6989586621682899179"><span class="hs-identifier hs-var">user_bndrs</span></a></span><span>
</span><span id="line-258"></span><span>          </span><span id="local-6989586621682899157"><span class="annot"><span class="annottext">to_eq_spec :: (TyCoVar, Type) -&gt; IfaceTvBndr
</span><a href="#local-6989586621682899157"><span class="hs-identifier hs-var hs-var">to_eq_spec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682899187"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899187"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682899188"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899188"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCoVar -&gt; IfLclName
</span><a href="GHC.Iface.Decl.html#tidyTyVar"><span class="hs-identifier hs-var">tidyTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899187"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899161"><span class="hs-identifier hs-var">con_env2</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899188"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>          </span><span class="hs-comment">-- By this point, we have tidied every universal and existential</span><span>
</span><span id="line-261"></span><span>          </span><span class="hs-comment">-- tyvar. Because of the dcUserForAllTyBinders invariant</span><span>
</span><span id="line-262"></span><span>          </span><span class="hs-comment">-- (see Note [DataCon user type variable binders]), *every*</span><span>
</span><span id="line-263"></span><span>          </span><span class="hs-comment">-- user-written tyvar must be contained in the substitution that</span><span>
</span><span id="line-264"></span><span>          </span><span class="hs-comment">-- tidying produced. Therefore, tidying the user-written tyvars is a</span><span>
</span><span id="line-265"></span><span>          </span><span class="hs-comment">-- simple matter of looking up each variable in the substitution,</span><span>
</span><span id="line-266"></span><span>          </span><span class="hs-comment">-- which tidyTyCoVarOcc accomplishes.</span><span>
</span><span id="line-267"></span><span>          </span><span class="annot"><a href="#local-6989586621682899186"><span class="hs-identifier hs-type">tidyUserForAllTyBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span>
</span><span id="line-268"></span><span>          </span><span id="local-6989586621682899186"><span class="annot"><span class="annottext">tidyUserForAllTyBinder :: TidyEnv
-&gt; VarBndr TyCoVar Specificity -&gt; VarBndr TyCoVar Specificity
</span><a href="#local-6989586621682899186"><span class="hs-identifier hs-var hs-var">tidyUserForAllTyBinder</span></a></span></span><span> </span><span id="local-6989586621682899191"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899191"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621682899193"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899193"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span id="local-6989586621682899194"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621682899194"><span class="hs-identifier hs-var">vis</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>            </span><span class="annot"><span class="annottext">TyCoVar -&gt; Specificity -&gt; VarBndr TyCoVar Specificity
forall var argf. var -&gt; argf -&gt; VarBndr var argf
</span><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-var">Bndr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCoVar -&gt; TyCoVar
</span><a href="GHC.Core.TyCo.Tidy.html#tidyTyCoVarOcc"><span class="hs-identifier hs-var">tidyTyCoVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899191"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899193"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621682899194"><span class="hs-identifier hs-var">vis</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><a href="GHC.Iface.Decl.html#classToIfaceDecl"><span class="hs-identifier hs-type">classToIfaceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceDecl"><span class="hs-identifier hs-type">IfaceDecl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span id="classToIfaceDecl"><span class="annot"><span class="annottext">classToIfaceDecl :: TidyEnv -&gt; Class -&gt; (TidyEnv, IfaceDecl)
</span><a href="GHC.Iface.Decl.html#classToIfaceDecl"><span class="hs-identifier hs-var hs-var">classToIfaceDecl</span></a></span></span><span> </span><span id="local-6989586621682899196"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899196"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682899197"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899197"><span class="hs-identifier hs-var">clas</span></a></span></span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceClass"><span class="hs-identifier hs-type">IfaceClass</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ifName :: Name
</span><a href="GHC.Iface.Syntax.html#ifName"><span class="hs-identifier hs-var">ifName</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899200"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-275"></span><span>                   </span><span class="annot"><span class="annottext">ifRoles :: [Role]
</span><a href="GHC.Iface.Syntax.html#ifRoles"><span class="hs-identifier hs-var">ifRoles</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Role]
</span><a href="GHC.Core.TyCon.html#tyConRoles"><span class="hs-identifier hs-var">tyConRoles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; TyCon
</span><a href="GHC.Core.Class.html#classTyCon"><span class="hs-identifier hs-var">classTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899197"><span class="hs-identifier hs-var">clas</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-276"></span><span>                   </span><span class="annot"><span class="annottext">ifBinders :: [IfaceTyConBinder]
</span><a href="GHC.Iface.Syntax.html#ifBinders"><span class="hs-identifier hs-var">ifBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyConBinder] -&gt; [IfaceTyConBinder]
forall vis. [VarBndr TyCoVar vis] -&gt; [VarBndr IfaceBndr vis]
</span><a href="GHC.CoreToIface.html#toIfaceForAllBndrs"><span class="hs-identifier hs-var">toIfaceForAllBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899202"><span class="hs-identifier hs-var">tc_binders</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-277"></span><span>                   </span><span class="annot"><span class="annottext">ifBody :: IfaceClassBody
</span><a href="GHC.Iface.Syntax.html#ifBody"><span class="hs-identifier hs-var">ifBody</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceClassBody
</span><a href="#local-6989586621682899204"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-278"></span><span>                   </span><span class="annot"><span class="annottext">ifFDs :: [FunDep IfLclName]
</span><a href="GHC.Iface.Syntax.html#ifFDs"><span class="hs-identifier hs-var">ifFDs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(([TyCoVar], [TyCoVar]) -&gt; FunDep IfLclName)
-&gt; [([TyCoVar], [TyCoVar])] -&gt; [FunDep IfLclName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">([TyCoVar], [TyCoVar]) -&gt; FunDep IfLclName
</span><a href="#local-6989586621682899206"><span class="hs-identifier hs-var">toIfaceFD</span></a></span><span> </span><span class="annot"><span class="annottext">[([TyCoVar], [TyCoVar])]
</span><a href="#local-6989586621682899207"><span class="hs-identifier hs-var">clas_fds</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyCoVar]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899207"><span class="annot"><span class="annottext">[([TyCoVar], [TyCoVar])]
</span><a href="#local-6989586621682899207"><span class="hs-identifier hs-var">clas_fds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899208"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899208"><span class="hs-identifier hs-var">sc_theta</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899209"><span class="annot"><span class="annottext">[ClassATItem]
</span><a href="#local-6989586621682899209"><span class="hs-identifier hs-var">clas_ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899210"><span class="annot"><span class="annottext">[ClassOpItem]
</span><a href="#local-6989586621682899210"><span class="hs-identifier hs-var">op_stuff</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class
-&gt; ([TyCoVar], [([TyCoVar], [TyCoVar])], [Type], [TyCoVar],
    [ClassATItem], [ClassOpItem])
</span><a href="GHC.Core.Class.html#classExtraBigSig"><span class="hs-identifier hs-var">classExtraBigSig</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899197"><span class="hs-identifier hs-var">clas</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621682899200"><span class="annot"><span class="annottext">tycon :: TyCon
</span><a href="#local-6989586621682899200"><span class="hs-identifier hs-var hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; TyCon
</span><a href="GHC.Core.Class.html#classTyCon"><span class="hs-identifier hs-var">classTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899197"><span class="hs-identifier hs-var">clas</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621682899204"><span class="annot"><span class="annottext">body :: IfaceClassBody
</span><a href="#local-6989586621682899204"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isAbstractTyCon"><span class="hs-identifier hs-var">isAbstractTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899200"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceClassBody
</span><a href="GHC.Iface.Syntax.html#IfAbstractClass"><span class="hs-identifier hs-var">IfAbstractClass</span></a></span><span>
</span><span id="line-285"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-286"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfConcreteClass"><span class="hs-identifier hs-type">IfConcreteClass</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-287"></span><span>                </span><span class="annot"><span class="annottext">ifClassCtxt :: IfaceContext
</span><a href="GHC.Iface.Syntax.html#ifClassCtxt"><span class="hs-identifier hs-var">ifClassCtxt</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [Type] -&gt; IfaceContext
</span><a href="GHC.CoreToIface.html#tidyToIfaceContext"><span class="hs-identifier hs-var">tidyToIfaceContext</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621682899208"><span class="hs-identifier hs-var">sc_theta</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-288"></span><span>                </span><span class="annot"><span class="annottext">ifATs :: [IfaceAT]
</span><a href="GHC.Iface.Syntax.html#ifATs"><span class="hs-identifier hs-var">ifATs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ClassATItem -&gt; IfaceAT) -&gt; [ClassATItem] -&gt; [IfaceAT]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ClassATItem -&gt; IfaceAT
</span><a href="#local-6989586621682899217"><span class="hs-identifier hs-var">toIfaceAT</span></a></span><span> </span><span class="annot"><span class="annottext">[ClassATItem]
</span><a href="#local-6989586621682899209"><span class="hs-identifier hs-var">clas_ats</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-289"></span><span>                </span><span class="annot"><span class="annottext">ifSigs :: [IfaceClassOp]
</span><a href="GHC.Iface.Syntax.html#ifSigs"><span class="hs-identifier hs-var">ifSigs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ClassOpItem -&gt; IfaceClassOp) -&gt; [ClassOpItem] -&gt; [IfaceClassOp]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ClassOpItem -&gt; IfaceClassOp
</span><a href="#local-6989586621682899219"><span class="hs-identifier hs-var">toIfaceClassOp</span></a></span><span> </span><span class="annot"><span class="annottext">[ClassOpItem]
</span><a href="#local-6989586621682899210"><span class="hs-identifier hs-var">op_stuff</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-290"></span><span>                </span><span class="annot"><span class="annottext">ifMinDef :: IfaceBooleanFormula
</span><a href="GHC.Iface.Syntax.html#ifMinDef"><span class="hs-identifier hs-var">ifMinDef</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BooleanFormula IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-var">toIfaceBooleanFormula</span></a></span><span> </span><span class="annot"><span class="annottext">(BooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; BooleanFormula IfLclName -&gt; IfaceBooleanFormula
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; IfLclName)
-&gt; BooleanFormula Name -&gt; BooleanFormula IfLclName
forall a b. (a -&gt; b) -&gt; BooleanFormula a -&gt; BooleanFormula b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; IfLclName
</span><a href="GHC.Iface.Type.html#mkIfLclName"><span class="hs-identifier hs-var">mkIfLclName</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; IfLclName)
-&gt; (Name -&gt; FastString) -&gt; Name -&gt; IfLclName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; FastString
forall a. NamedThing a =&gt; a -&gt; FastString
</span><a href="GHC.Types.Name.html#getOccFS"><span class="hs-identifier hs-var">getOccFS</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; BooleanFormula Name
</span><a href="GHC.Core.Class.html#classMinimalDef"><span class="hs-identifier hs-var">classMinimalDef</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682899197"><span class="hs-identifier hs-var">clas</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682899198"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899202"><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899202"><span class="hs-identifier hs-var">tc_binders</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; [TyConBinder] -&gt; (TidyEnv, [TyConBinder])
</span><a href="GHC.Iface.Decl.html#tidyTyConBinders"><span class="hs-identifier hs-var">tidyTyConBinders</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899196"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [TyConBinder]
</span><a href="GHC.Core.TyCon.html#tyConBinders"><span class="hs-identifier hs-var">tyConBinders</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899200"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="#local-6989586621682899217"><span class="hs-identifier hs-type">toIfaceAT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#ClassATItem"><span class="hs-identifier hs-type">ClassATItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceAT"><span class="hs-identifier hs-type">IfaceAT</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621682899217"><span class="annot"><span class="annottext">toIfaceAT :: ClassATItem -&gt; IfaceAT
</span><a href="#local-6989586621682899217"><span class="hs-identifier hs-var hs-var">toIfaceAT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Class.html#ATI"><span class="hs-identifier hs-type">ATI</span></a></span><span> </span><span id="local-6989586621682899223"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899223"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621682899224"><span class="annot"><span class="annottext">Maybe (Type, TyFamEqnValidityInfo)
</span><a href="#local-6989586621682899224"><span class="hs-identifier hs-var">def</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceDecl -&gt; Maybe IfaceType -&gt; IfaceAT
</span><a href="GHC.Iface.Syntax.html#IfaceAT"><span class="hs-identifier hs-var">IfaceAT</span></a></span><span> </span><span class="annot"><span class="annottext">IfaceDecl
</span><a href="#local-6989586621682899226"><span class="hs-identifier hs-var">if_decl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Type, TyFamEqnValidityInfo) -&gt; IfaceType)
-&gt; Maybe (Type, TyFamEqnValidityInfo) -&gt; Maybe IfaceType
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899227"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; IfaceType)
-&gt; ((Type, TyFamEqnValidityInfo) -&gt; Type)
-&gt; (Type, TyFamEqnValidityInfo)
-&gt; IfaceType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Type, TyFamEqnValidityInfo) -&gt; Type
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Type, TyFamEqnValidityInfo)
</span><a href="#local-6989586621682899224"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682899227"><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899227"><span class="hs-identifier hs-var">env2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899226"><span class="annot"><span class="annottext">IfaceDecl
</span><a href="#local-6989586621682899226"><span class="hs-identifier hs-var">if_decl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCon -&gt; (TidyEnv, IfaceDecl)
</span><a href="GHC.Iface.Decl.html#tyConToIfaceDecl"><span class="hs-identifier hs-var">tyConToIfaceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682899223"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621682899219"><span class="annot"><span class="annottext">toIfaceClassOp :: ClassOpItem -&gt; IfaceClassOp
</span><a href="#local-6989586621682899219"><span class="hs-identifier hs-var hs-var">toIfaceClassOp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682899228"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899228"><span class="hs-identifier hs-var">sel_id</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899229"><span class="annot"><span class="annottext">Maybe (Name, DefMethSpec Type)
</span><a href="#local-6989586621682899229"><span class="hs-identifier hs-var">def_meth</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IfaceClassOp -&gt; IfaceClassOp
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899231"><span class="hs-identifier hs-var">sel_tyvars</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCoVar] -&gt; [TyCoVar] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[TyConBinder] -&gt; [TyCoVar]
forall tv argf. [VarBndr tv argf] -&gt; [tv]
</span><a href="GHC.Types.Var.html#binderVars"><span class="hs-identifier hs-var">binderVars</span></a></span><span> </span><span class="annot"><span class="annottext">[TyConBinder]
</span><a href="#local-6989586621682899202"><span class="hs-identifier hs-var">tc_binders</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IfaceClassOp -&gt; IfaceClassOp) -&gt; IfaceClassOp -&gt; IfaceClassOp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><span class="annottext">Name -&gt; IfaceType -&gt; Maybe (DefMethSpec IfaceType) -&gt; IfaceClassOp
</span><a href="GHC.Iface.Syntax.html#IfaceClassOp"><span class="hs-identifier hs-var">IfaceClassOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCoVar -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899228"><span class="hs-identifier hs-var">sel_id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899233"><span class="hs-identifier hs-var">op_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Name, DefMethSpec Type) -&gt; DefMethSpec IfaceType)
-&gt; Maybe (Name, DefMethSpec Type) -&gt; Maybe (DefMethSpec IfaceType)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(Name, DefMethSpec Type) -&gt; DefMethSpec IfaceType
</span><a href="#local-6989586621682899234"><span class="hs-identifier hs-var">toDmSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Name, DefMethSpec Type)
</span><a href="#local-6989586621682899229"><span class="hs-identifier hs-var">def_meth</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>                </span><span class="hs-comment">-- Be careful when splitting the type, because of things</span><span>
</span><span id="line-308"></span><span>                </span><span class="hs-comment">-- like         class Foo a where</span><span>
</span><span id="line-309"></span><span>                </span><span class="hs-comment">--                op :: (?x :: String) =&gt; a -&gt; a</span><span>
</span><span id="line-310"></span><span>                </span><span class="hs-comment">-- and          class Baz a where</span><span>
</span><span id="line-311"></span><span>                </span><span class="hs-comment">--                op :: (Ord a) =&gt; a -&gt; a</span><span>
</span><span id="line-312"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682899231"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899231"><span class="hs-identifier hs-var">sel_tyvars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899235"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899235"><span class="hs-identifier hs-var">rho_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([TyCoVar], Type)
</span><a href="GHC.Core.Type.html#splitForAllTyCoVars"><span class="hs-identifier hs-var">splitForAllTyCoVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCoVar -&gt; Type
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899228"><span class="hs-identifier hs-var">sel_id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>          </span><span id="local-6989586621682899233"><span class="annot"><span class="annottext">op_ty :: Type
</span><a href="#local-6989586621682899233"><span class="hs-identifier hs-var hs-var">op_ty</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type
Type -&gt; Type
</span><a href="GHC.Core.Type.html#funResultTy"><span class="hs-identifier hs-var">funResultTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899235"><span class="hs-identifier hs-var">rho_ty</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>    </span><span class="annot"><a href="#local-6989586621682899234"><span class="hs-identifier hs-type">toDmSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#DefMethSpec"><span class="hs-identifier hs-type">DefMethSpec</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#DefMethSpec"><span class="hs-identifier hs-type">DefMethSpec</span></a></span><span> </span><span class="annot"><a href="GHC.Iface.Type.html#IfaceType"><span class="hs-identifier hs-type">IfaceType</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621682899234"><span class="annot"><span class="annottext">toDmSpec :: (Name, DefMethSpec Type) -&gt; DefMethSpec IfaceType
</span><a href="#local-6989586621682899234"><span class="hs-identifier hs-var hs-var">toDmSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DefMethSpec Type
</span><a href="GHC.Types.Basic.html#VanillaDM"><span class="hs-identifier hs-var">VanillaDM</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefMethSpec IfaceType
forall ty. DefMethSpec ty
</span><a href="GHC.Types.Basic.html#VanillaDM"><span class="hs-identifier hs-var">VanillaDM</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><a href="#local-6989586621682899234"><span class="hs-identifier hs-var">toDmSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#GenericDM"><span class="hs-identifier hs-type">GenericDM</span></a></span><span> </span><span id="local-6989586621682899240"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899240"><span class="hs-identifier hs-var">dm_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IfaceType -&gt; DefMethSpec IfaceType
forall ty. ty -&gt; DefMethSpec ty
</span><a href="GHC.Types.Basic.html#GenericDM"><span class="hs-identifier hs-var">GenericDM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; Type -&gt; IfaceType
</span><a href="GHC.CoreToIface.html#tidyToIfaceType"><span class="hs-identifier hs-var">tidyToIfaceType</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682899240"><span class="hs-identifier hs-var">dm_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>    </span><span id="local-6989586621682899206"><span class="annot"><span class="annottext">toIfaceFD :: ([TyCoVar], [TyCoVar]) -&gt; FunDep IfLclName
</span><a href="#local-6989586621682899206"><span class="hs-identifier hs-var hs-var">toIfaceFD</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682899241"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899241"><span class="hs-identifier hs-var">tvs1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899242"><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899242"><span class="hs-identifier hs-var">tvs2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyCoVar -&gt; IfLclName) -&gt; [TyCoVar] -&gt; [IfLclName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCoVar -&gt; IfLclName
</span><a href="GHC.Iface.Decl.html#tidyTyVar"><span class="hs-identifier hs-var">tidyTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899241"><span class="hs-identifier hs-var">tvs1</span></a></span><span>
</span><span id="line-320"></span><span>                             </span><span class="hs-special">,</span><span class="annot"><span class="annottext">(TyCoVar -&gt; IfLclName) -&gt; [TyCoVar] -&gt; [IfLclName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv -&gt; TyCoVar -&gt; IfLclName
</span><a href="GHC.Iface.Decl.html#tidyTyVar"><span class="hs-identifier hs-var">tidyTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899198"><span class="hs-identifier hs-var">env1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyCoVar]
</span><a href="#local-6989586621682899242"><span class="hs-identifier hs-var">tvs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="annot"><a href="GHC.Iface.Decl.html#tidyTyConBinder"><span class="hs-identifier hs-type">tidyTyConBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyConBinder"><span class="hs-identifier hs-type">TyConBinder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyConBinder"><span class="hs-identifier hs-type">TyConBinder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- If the type variable &quot;binder&quot; is in scope, don't re-bind it</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- In a class decl, for example, the ATD binders mention</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- (amd must mention) the class tyvars</span><span>
</span><span id="line-328"></span><span id="tidyTyConBinder"><span class="annot"><span class="annottext">tidyTyConBinder :: TidyEnv -&gt; TyConBinder -&gt; (TidyEnv, TyConBinder)
</span><a href="GHC.Iface.Decl.html#tidyTyConBinder"><span class="hs-identifier hs-var hs-var">tidyTyConBinder</span></a></span></span><span> </span><span id="local-6989586621682899244"><span class="annot"><span class="annottext">env :: TidyEnv
</span><a href="#local-6989586621682899244"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899245"><span class="annot"><span class="annottext">VarEnv TyCoVar
</span><a href="#local-6989586621682899245"><span class="hs-identifier hs-var">subst</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682899246"><span class="annot"><span class="annottext">tvb :: TyConBinder
</span><a href="#local-6989586621682899246"><span class="hs-identifier hs-var">tvb</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621682899247"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899247"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span id="local-6989586621682899248"><span class="annot"><span class="annottext">TyConBndrVis
</span><a href="#local-6989586621682899248"><span class="hs-identifier hs-var">vis</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">VarEnv TyCoVar -&gt; TyCoVar -&gt; Maybe TyCoVar
forall a. VarEnv a -&gt; TyCoVar -&gt; Maybe a
</span><a href="GHC.Types.Var.Env.html#lookupVarEnv"><span class="hs-identifier hs-var">lookupVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv TyCoVar
</span><a href="#local-6989586621682899245"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899247"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-330"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682899250"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899250"><span class="hs-identifier hs-var">tv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899244"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">TyCoVar -&gt; TyConBndrVis -&gt; TyConBinder
forall var argf. var -&gt; argf -&gt; VarBndr var argf
</span><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-var">Bndr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899250"><span class="hs-identifier hs-var">tv'</span></a></span><span> </span><span class="annot"><span class="annottext">TyConBndrVis
</span><a href="#local-6989586621682899248"><span class="hs-identifier hs-var">vis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>     </span><span class="annot"><span class="annottext">Maybe TyCoVar
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; TyConBinder -&gt; (TidyEnv, TyConBinder)
forall vis.
TidyEnv -&gt; VarBndr TyCoVar vis -&gt; (TidyEnv, VarBndr TyCoVar vis)
</span><a href="GHC.Core.TyCo.Tidy.html#tidyForAllTyBinder"><span class="hs-identifier hs-var">tidyForAllTyBinder</span></a></span><span> </span><span class="annot"><span class="annottext">TidyEnv
</span><a href="#local-6989586621682899244"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TyConBinder
</span><a href="#local-6989586621682899246"><span class="hs-identifier hs-var">tvb</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><a href="GHC.Iface.Decl.html#tidyTyConBinders"><span class="hs-identifier hs-type">tidyTyConBinders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#TyConBinder"><span class="hs-identifier hs-type">TyConBinder</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#TyConBinder"><span class="hs-identifier hs-type">TyConBinder</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span id="tidyTyConBinders"><span class="annot"><span class="annottext">tidyTyConBinders :: TidyEnv -&gt; [TyConBinder] -&gt; (TidyEnv, [TyConBinder])
</span><a href="GHC.Iface.Decl.html#tidyTyConBinders"><span class="hs-identifier hs-var hs-var">tidyTyConBinders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TidyEnv -&gt; TyConBinder -&gt; (TidyEnv, TyConBinder))
-&gt; TidyEnv -&gt; [TyConBinder] -&gt; (TidyEnv, [TyConBinder])
forall (t :: * -&gt; *) s a b.
Traversable t =&gt;
(s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span><span class="hs-identifier hs-var">mapAccumL</span></span><span> </span><span class="annot"><span class="annottext">TidyEnv -&gt; TyConBinder -&gt; (TidyEnv, TyConBinder)
</span><a href="GHC.Iface.Decl.html#tidyTyConBinder"><span class="hs-identifier hs-var">tidyTyConBinder</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="annot"><a href="GHC.Iface.Decl.html#tidyTyVar"><span class="hs-identifier hs-type">tidyTyVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#TidyEnv"><span class="hs-identifier hs-type">TidyEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Type.html#IfLclName"><span class="hs-identifier hs-type">IfLclName</span></a></span><span>
</span><span id="line-337"></span><span id="tidyTyVar"><span class="annot"><span class="annottext">tidyTyVar :: TidyEnv -&gt; TyCoVar -&gt; IfLclName
</span><a href="GHC.Iface.Decl.html#tidyTyVar"><span class="hs-identifier hs-var hs-var">tidyTyVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682899253"><span class="annot"><span class="annottext">VarEnv TyCoVar
</span><a href="#local-6989586621682899253"><span class="hs-identifier hs-var">subst</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682899254"><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899254"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCoVar -&gt; IfLclName
</span><a href="GHC.CoreToIface.html#toIfaceTyVar"><span class="hs-identifier hs-var">toIfaceTyVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv TyCoVar -&gt; TyCoVar -&gt; Maybe TyCoVar
forall a. VarEnv a -&gt; TyCoVar -&gt; Maybe a
</span><a href="GHC.Types.Var.Env.html#lookupVarEnv"><span class="hs-identifier hs-var">lookupVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv TyCoVar
</span><a href="#local-6989586621682899253"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899254"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TyCoVar -&gt; TyCoVar -&gt; TyCoVar
forall a. Maybe a -&gt; a -&gt; a
</span><a href="GHC.Data.Maybe.html#orElse"><span class="hs-operator hs-var">`orElse`</span></a></span><span> </span><span class="annot"><span class="annottext">TyCoVar
</span><a href="#local-6989586621682899254"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-type">toIfaceBooleanFormula</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.BooleanFormula.html#BooleanFormula"><span class="hs-identifier hs-type">BooleanFormula</span></a></span><span> </span><span class="annot"><a href="GHC.Iface.Type.html#IfLclName"><span class="hs-identifier hs-type">IfLclName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Iface.Syntax.html#IfaceBooleanFormula"><span class="hs-identifier hs-type">IfaceBooleanFormula</span></a></span><span>
</span><span id="line-340"></span><span id="toIfaceBooleanFormula"><span class="annot"><span class="annottext">toIfaceBooleanFormula :: BooleanFormula IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-var hs-var">toIfaceBooleanFormula</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><a href="GHC.Data.BooleanFormula.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621682899258"><span class="annot"><span class="annottext">IfLclName
</span><a href="#local-6989586621682899258"><span class="hs-identifier hs-var">nm</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Syntax.html#IfVar"><span class="hs-identifier hs-var">IfVar</span></a></span><span>    </span><span class="annot"><span class="annottext">IfLclName
</span><a href="#local-6989586621682899258"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><a href="GHC.Data.BooleanFormula.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span id="local-6989586621682899261"><span class="annot"><span class="annottext">[LBooleanFormula IfLclName]
</span><a href="#local-6989586621682899261"><span class="hs-identifier hs-var">bfs</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[IfaceBooleanFormula] -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Syntax.html#IfAnd"><span class="hs-identifier hs-var">IfAnd</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LBooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; [LBooleanFormula IfLclName] -&gt; [IfaceBooleanFormula]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BooleanFormula IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-var">toIfaceBooleanFormula</span></a></span><span> </span><span class="annot"><span class="annottext">(BooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; (LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName)
-&gt; LBooleanFormula IfLclName
-&gt; IfaceBooleanFormula
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LBooleanFormula IfLclName]
</span><a href="#local-6989586621682899261"><span class="hs-identifier hs-var">bfs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><a href="GHC.Data.BooleanFormula.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span> </span><span id="local-6989586621682899265"><span class="annot"><span class="annottext">[LBooleanFormula IfLclName]
</span><a href="#local-6989586621682899265"><span class="hs-identifier hs-var">bfs</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[IfaceBooleanFormula] -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Syntax.html#IfOr"><span class="hs-identifier hs-var">IfOr</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LBooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; [LBooleanFormula IfLclName] -&gt; [IfaceBooleanFormula]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BooleanFormula IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-var">toIfaceBooleanFormula</span></a></span><span> </span><span class="annot"><span class="annottext">(BooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; (LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName)
-&gt; LBooleanFormula IfLclName
-&gt; IfaceBooleanFormula
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LBooleanFormula IfLclName]
</span><a href="#local-6989586621682899265"><span class="hs-identifier hs-var">bfs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>    </span><span class="annot"><a href="GHC.Data.BooleanFormula.html#Parens"><span class="hs-identifier hs-type">Parens</span></a></span><span> </span><span id="local-6989586621682899268"><span class="annot"><span class="annottext">LBooleanFormula IfLclName
</span><a href="#local-6989586621682899268"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IfaceBooleanFormula -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Syntax.html#IfParens"><span class="hs-identifier hs-var">IfParens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BooleanFormula IfLclName -&gt; IfaceBooleanFormula
</span><a href="GHC.Iface.Decl.html#toIfaceBooleanFormula"><span class="hs-identifier hs-var">toIfaceBooleanFormula</span></a></span><span> </span><span class="annot"><span class="annottext">(BooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; (LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName)
-&gt; LBooleanFormula IfLclName
-&gt; IfaceBooleanFormula
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LBooleanFormula IfLclName -&gt; BooleanFormula IfLclName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(LBooleanFormula IfLclName -&gt; IfaceBooleanFormula)
-&gt; LBooleanFormula IfLclName -&gt; IfaceBooleanFormula
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LBooleanFormula IfLclName
</span><a href="#local-6989586621682899268"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span></pre></body></html>