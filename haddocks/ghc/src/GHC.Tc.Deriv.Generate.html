<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
    %
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998

-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- | Generating derived instance declarations</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- This module is nominally ``subordinate'' to &quot;GHC.Tc.Deriv&quot;, which is the</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- ``official'' interface to deriving-related things.</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- This is where we do all the grimy bindings' generation.</span><span>
</span><span id="line-21"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html"><span class="hs-identifier">GHC.Tc.Deriv.Generate</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-22"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier">AuxBindSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Eq_binds"><span class="hs-identifier">gen_Eq_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Ord_binds"><span class="hs-identifier">gen_Ord_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Enum_binds"><span class="hs-identifier">gen_Enum_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Bounded_binds"><span class="hs-identifier">gen_Bounded_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Ix_binds"><span class="hs-identifier">gen_Ix_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Show_binds"><span class="hs-identifier">gen_Show_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Read_binds"><span class="hs-identifier">gen_Read_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Data_binds"><span class="hs-identifier">gen_Data_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Lift_binds"><span class="hs-identifier">gen_Lift_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_binds"><span class="hs-identifier">gen_Newtype_binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_fam_insts"><span class="hs-identifier">gen_Newtype_fam_insts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkCoerceClassMethEqn"><span class="hs-identifier">mkCoerceClassMethEqn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genAuxBinds"><span class="hs-identifier">genAuxBinds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ordOpTbl"><span class="hs-identifier">ordOpTbl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#boxConTbl"><span class="hs-identifier">boxConTbl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBind"><span class="hs-identifier">mkRdrFunBind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindEC"><span class="hs-identifier">mkRdrFunBindEC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindSE"><span class="hs-identifier">mkRdrFunBindSE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#error_Expr"><span class="hs-identifier">error_Expr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier">getPossibleDataCons</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier">DerivInstTys</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#buildDataConInstArgEnv"><span class="hs-identifier">buildDataConInstArgEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier">derivDataConInstArgTys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#substDerivInstTys"><span class="hs-identifier">substDerivInstTys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#zonkDerivInstTys"><span class="hs-identifier">zonkDerivInstTys</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.TyCl.Class.html"><span class="hs-identifier">GHC.Tc.TyCl.Class</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Tc.TyCl.Class.html#substATBndrs"><span class="hs-identifier">substATBndrs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.Monad.html"><span class="hs-identifier">GHC.Tc.Utils.Monad</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.Instantiate.html"><span class="hs-identifier">GHC.Tc.Utils.Instantiate</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.Instantiate.html#newFamInst"><span class="hs-identifier">newFamInst</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.Env.html"><span class="hs-identifier">GHC.Tc.Utils.Env</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html"><span class="hs-identifier">GHC.Tc.Utils.TcType</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Zonk.Type.html"><span class="hs-identifier">GHC.Tc.Zonk.Type</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Validity.html"><span class="hs-identifier">GHC.Tc.Validity</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html"><span class="hs-identifier">GHC.Core.FamInstEnv</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#coAxiomSingleBranch"><span class="hs-identifier">coAxiomSingleBranch</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Class.html"><span class="hs-identifier">GHC.Core.Class</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html"><span class="hs-identifier">GHC.Types.Fixity</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html"><span class="hs-identifier">GHC.Types.SourceText</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.Make.html"><span class="hs-identifier">GHC.Types.Id.Make</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Id.Make.html#coerceId"><span class="hs-identifier">coerceId</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier">lookupUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-identifier">listToUFM</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html"><span class="hs-identifier">GHC.Types.Var.Env</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html"><span class="hs-identifier">GHC.Builtin.Names</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html"><span class="hs-identifier">GHC.Builtin.Names.TH</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html"><span class="hs-identifier">GHC.Builtin.PrimOps</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.Ids.html"><span class="hs-identifier">GHC.Builtin.PrimOps.Ids</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.Ids.html#primOpId"><span class="hs-identifier">primOpId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.Prim.html"><span class="hs-identifier">GHC.Builtin.Types.Prim</span></a></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Pair.html"><span class="hs-identifier">GHC.Data.Pair</span></a></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html#expectJust"><span class="hs-identifier">expectJust</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html"><span class="hs-identifier">Language.Haskell.Syntax.Basic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier">FieldLabelString</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">find</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">partition</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">intersperse</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- | A declarative description of an auxiliary binding that should be</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- generated. See @Note [Auxiliary binders]@ for a more detailed description</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- of how these are used.</span><span>
</span><span id="line-101"></span><span class="hs-keyword">data</span><span> </span><span id="AuxBindSpec"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-var">AuxBindSpec</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-comment">-- DerivTag2Con, and DerivMaxTag are used in derived Eq, Ord,</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-comment">-- Enum, and Ix instances.</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-comment">-- All these generate ZERO-BASED tag operations</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-comment">-- I.e first constructor has tag 0</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><span class="hs-comment">-- | @$tag2con@: Given a tag, computes the corresponding data constructor</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DerivTag2Con"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-var">DerivTag2Con</span></a></span></span><span>
</span><span id="line-109"></span><span>      </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>   </span><span class="hs-comment">-- The type constructor of the data type to which the</span><span>
</span><span id="line-110"></span><span>              </span><span class="hs-comment">-- constructors belong</span><span>
</span><span id="line-111"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-comment">-- The to-be-generated $tag2con binding's RdrName</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- | @$maxtag@: The maximum possible tag value among a data type's</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-comment">-- constructors</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DerivMaxTag"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivMaxTag"><span class="hs-identifier hs-var">DerivMaxTag</span></a></span></span><span>
</span><span id="line-116"></span><span>      </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>   </span><span class="hs-comment">-- The type constructor of the data type to which the</span><span>
</span><span id="line-117"></span><span>              </span><span class="hs-comment">-- constructors belong</span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-comment">-- The to-be-generated $maxtag binding's RdrName</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-comment">-- DerivDataDataType and DerivDataConstr are only used in derived Data</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-comment">-- instances</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="hs-comment">-- | @$t@: The @DataType@ representation for a @Data@ instance</span></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DerivDataDataType"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataDataType"><span class="hs-identifier hs-var">DerivDataDataType</span></a></span></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>     </span><span class="hs-comment">-- The type constructor of the data type to be represented</span><span>
</span><span id="line-126"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>   </span><span class="hs-comment">-- The to-be-generated $t binding's RdrName</span><span>
</span><span id="line-127"></span><span>      </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- The RdrNames of the to-be-generated $c bindings for each</span><span>
</span><span id="line-128"></span><span>                </span><span class="hs-comment">-- data constructor. These are only used on the RHS of the</span><span>
</span><span id="line-129"></span><span>                </span><span class="hs-comment">-- to-be-generated $t binding.</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="hs-comment">-- | @$c@: The @Constr@ representation for a @Data@ instance</span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DerivDataConstr"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataConstr"><span class="hs-identifier hs-var">DerivDataConstr</span></a></span></span><span>
</span><span id="line-133"></span><span>      </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-comment">-- The data constructor to be represented</span><span>
</span><span id="line-134"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-comment">-- The to-be-generated $c binding's RdrName</span><span>
</span><span id="line-135"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-comment">-- The RdrName of the to-be-generated $t binding for the parent</span><span>
</span><span id="line-136"></span><span>              </span><span class="hs-comment">-- data type. This is only used on the RHS of the</span><span>
</span><span id="line-137"></span><span>              </span><span class="hs-comment">-- to-be-generated $c binding.</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Retrieve the 'RdrName' of the binding that the supplied 'AuxBindSpec'</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- describes.</span><span>
</span><span id="line-141"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-type">auxBindSpecRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-142"></span><span id="auxBindSpecRdrName"><span class="annot"><span class="annottext">auxBindSpecRdrName :: AuxBindSpec -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var hs-var">auxBindSpecRdrName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-type">DerivTag2Con</span></a></span><span>      </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683090589"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090589"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090589"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span>
</span><span id="line-143"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivMaxTag"><span class="hs-identifier hs-type">DerivMaxTag</span></a></span><span>       </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683090590"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090590"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090590"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span>
</span><span id="line-144"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataDataType"><span class="hs-identifier hs-type">DerivDataDataType</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683090591"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090591"><span class="hs-identifier hs-var">dataT_RDR</span></a></span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090591"><span class="hs-identifier hs-var">dataT_RDR</span></a></span><span>
</span><span id="line-145"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataConstr"><span class="hs-identifier hs-type">DerivDataConstr</span></a></span><span>   </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683090592"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090592"><span class="hs-identifier hs-var">dataC_RDR</span></a></span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090592"><span class="hs-identifier hs-var">dataC_RDR</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Eq instances
*                                                                      *
************************************************************************

Here are the heuristics for the code we generate for @Eq@. Let's
assume we have a data type with some (possibly zero) nullary data
constructors and some ordinary, non-nullary ones (the rest, also
possibly zero of them).  Here's an example, with both \tr{N}ullary and
\tr{O}rdinary data cons.

  data Foo ... = N1 | N2 ... | Nn | O1 a b | O2 Int | O3 Double b b | ...

* We first attempt to compare the constructor tags. If tags don't
  match - we immediately bail out. Otherwise, we then generate one
  branch per constructor comparing only the fields as we already
  know that the tags match. Note that it only makes sense to check
  the tag if there is more than one data constructor.

* For the ordinary constructors (if any), we emit clauses to do The
  Usual Thing, e.g.,:

    (==) (O1 a1 b1)    (O1 a2 b2)    = a1 == a2 &amp;&amp; b1 == b2
    (==) (O2 a1)       (O2 a2)       = a1 == a2
    (==) (O3 a1 b1 c1) (O3 a2 b2 c2) = a1 == a2 &amp;&amp; b1 == b2 &amp;&amp; c1 == c2

  Note: if we're comparing unlifted things, e.g., if 'a1' and
  'a2' are Float#s, then we have to generate
       case (a1 `eqFloat#` a2) of r -&gt; r
  for that particular test.

* For nullary constructors, we emit a catch-all clause that always
  returns True since we already know that the tags match.

* So, given this data type:

    data T = A | B Int | C Char

  We roughly get:

    (==) a b =
      case dataToTag# a /= dataToTag# b of
        True -&gt; False
        False -&gt; case a of       -- Here we already know that tags match
            B a1 -&gt; case b of
                B b1 -&gt; a1 == b1 -- Only one branch
            C a1 -&gt; case b of
                C b1 -&gt; a1 == b1 -- Only one branch
            _ -&gt; True            -- catch-all to match all nullary ctors

  An older approach preferred regular pattern matches in some cases
  but with dataToTag# forcing it's argument, and work on improving
  join points, this seems no longer necessary.

* For the @(/=)@ method, we normally just use the default method.
  If the type is an enumeration type, we could/may/should? generate
  special code that calls @dataToTag#@, much like for @(==)@ shown
  above.

We thought about doing this: If we're also deriving 'Ord' for this
tycon, we generate:
  instance ... Eq (Foo ...) where
    (==) a b  = case (compare a b) of { _LT -&gt; False; _EQ -&gt; True ; _GT -&gt; False}
    (/=) a b  = case (compare a b) of { _LT -&gt; True ; _EQ -&gt; False; _GT -&gt; True }
However, that requires that (Ord &lt;whatever&gt;) was put in the context
for the instance decl, which it probably wasn't, so the decls
produced don't get through the typechecker.
-}</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Eq_binds"><span class="hs-identifier hs-type">gen_Eq_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span id="gen_Eq_binds"><span class="annot"><span class="annottext">gen_Eq_binds :: SrcSpan
-&gt; DerivInstTys
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Eq_binds"><span class="hs-identifier hs-var hs-var">gen_Eq_binds</span></a></span></span><span> </span><span id="local-6989586621683090594"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090594"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683090595"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683090595"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090598"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090598"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>
</span><span id="line-220"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090600"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090600"><span class="hs-identifier hs-var">tycon_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><span class="annottext">([GenLocated
    SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))],
 Bag AuxBindSpec)
-&gt; IOEnv
     (Env TcGblEnv TcLclEnv)
     ([GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))],
      Bag AuxBindSpec)
forall a. a -&gt; IOEnv (Env TcGblEnv TcLclEnv) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090601"><span class="hs-identifier hs-var">method_binds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621683090603"><span class="annot"><span class="annottext">all_cons :: [DataCon]
</span><a href="#local-6989586621683090603"><span class="hs-identifier hs-var hs-var">all_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; [DataCon]
</span><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-var">getPossibleDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090598"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090600"><span class="hs-identifier hs-var">tycon_args</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span id="local-6989586621683090604"><span class="annot"><span class="annottext">non_nullary_cons :: [DataCon]
</span><a href="#local-6989586621683090604"><span class="hs-identifier hs-var hs-var">non_nullary_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Bool) -&gt; [DataCon] -&gt; [DataCon]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (DataCon -&gt; Bool) -&gt; DataCon -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isNullarySrcDataCon"><span class="hs-identifier hs-var">isNullarySrcDataCon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090603"><span class="hs-identifier hs-var">all_cons</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-comment">-- Generate tag check. See #17240</span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621683090608"><span class="annot"><span class="annottext">eq_expr_with_tag_check :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090608"><span class="hs-identifier hs-var hs-var">eq_expr_with_tag_check</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span>
</span><span id="line-228"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-229"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; IdP (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsOpApp"><span class="hs-identifier hs-var">nlHsOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#neInt_RDR"><span class="hs-identifier hs-var">neInt_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlLitPat"><span class="hs-identifier hs-var">nlLitPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed) -&gt; Integer -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsIntPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-var">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span>
</span><span id="line-233"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>            </span><span class="hs-comment">-- Only one branch to match all nullary constructors</span><span>
</span><span id="line-235"></span><span>            </span><span class="hs-comment">-- as we already know the tags match but do not emit</span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-comment">-- the branch if there are no nullary constructors</span><span>
</span><span id="line-237"></span><span>            </span><span class="hs-special">(</span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683090625"><span class="annot"><span class="annottext">non_nullary_pats :: [GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683090625"><span class="hs-identifier hs-var hs-var">non_nullary_pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon
 -&gt; GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; [DataCon]
-&gt; [GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
DataCon
-&gt; GenLocated
     SrcSpanAnnA
     (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683090626"><span class="hs-identifier hs-var">pats_etc</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090604"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>
</span><span id="line-238"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090604"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>
</span><span id="line-239"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683090625"><span class="hs-identifier hs-var">non_nullary_pats</span></a></span><span>
</span><span id="line-240"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683090625"><span class="hs-identifier hs-var">non_nullary_pats</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621683090601"><span class="annot"><span class="annottext">method_binds :: [GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090601"><span class="hs-identifier hs-var hs-var">method_binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090629"><span class="hs-identifier hs-var">eq_bind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621683090629"><span class="annot"><span class="annottext">eq_bind :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090629"><span class="hs-identifier hs-var hs-var">eq_bind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090594"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#eq_RDR"><span class="hs-identifier hs-var">eq_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
[([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
  LocatedA (HsExpr (GhcPass 'Parsed)))]
</span><a href="#local-6989586621683090633"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-245"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>        </span><span id="local-6989586621683090633"><span class="annot"><span class="annottext">binds :: [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
  LocatedA (HsExpr (GhcPass 'Parsed)))]
</span><a href="#local-6989586621683090633"><span class="hs-identifier hs-var hs-var">binds</span></a></span></span><span>
</span><span id="line-247"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090603"><span class="hs-identifier hs-var">all_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-248"></span><span>          </span><span class="hs-comment">-- Tag checking is redundant when there is only one data constructor</span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><span id="local-6989586621683090634"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090634"><span class="hs-identifier hs-var">data_con</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090603"><span class="hs-identifier hs-var">all_cons</span></a></span><span>
</span><span id="line-250"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090635"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090635"><span class="hs-identifier hs-var">as_needed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090636"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090636"><span class="hs-identifier hs-var">bs_needed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090637"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090637"><span class="hs-identifier hs-var">tys_needed</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ([RdrName], [RdrName], [Type])
</span><a href="#local-6989586621683090638"><span class="hs-identifier hs-var">gen_con_fields_and_tys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090634"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-251"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090639"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090639"><span class="hs-identifier hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090634"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-252"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090641"><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090641"><span class="hs-identifier hs-var">con1_pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlParPat"><span class="hs-identifier hs-var">nlParPat</span></a></span><span> </span><span class="annot"><span class="annottext">(LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed))
-&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090639"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090635"><span class="hs-identifier hs-var">as_needed</span></a></span><span>
</span><span id="line-253"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090644"><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090644"><span class="hs-identifier hs-var">con2_pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlParPat"><span class="hs-identifier hs-var">nlParPat</span></a></span><span> </span><span class="annot"><span class="annottext">(LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed))
-&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090639"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090636"><span class="hs-identifier hs-var">bs_needed</span></a></span><span>
</span><span id="line-254"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090645"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090645"><span class="hs-identifier hs-var">eq_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; [RdrName] -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090646"><span class="hs-identifier hs-var">nested_eq_expr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090637"><span class="hs-identifier hs-var">tys_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090635"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090636"><span class="hs-identifier hs-var">bs_needed</span></a></span><span>
</span><span id="line-255"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683090641"><span class="hs-identifier hs-var">con1_pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683090644"><span class="hs-identifier hs-var">con2_pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090645"><span class="hs-identifier hs-var">eq_expr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-256"></span><span>          </span><span class="hs-comment">-- This is an enum (all constructors are nullary) - just do a simple tag check</span><span>
</span><span id="line-257"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Bool) -&gt; [DataCon] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isNullarySrcDataCon"><span class="hs-identifier hs-var">isNullarySrcDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090603"><span class="hs-identifier hs-var">all_cons</span></a></span><span>
</span><span id="line-258"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-259"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt_RDR"><span class="hs-identifier hs-var">eqInt_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-261"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090608"><span class="hs-identifier hs-var">eq_expr_with_tag_check</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-comment">------------------------------------------------------------------</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621683090646"><span class="annot"><span class="annottext">nested_eq_expr :: [Type] -&gt; [RdrName] -&gt; [RdrName] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090646"><span class="hs-identifier hs-var hs-var">nested_eq_expr</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><a href="#local-6989586621683090646"><span class="hs-identifier hs-var">nested_eq_expr</span></a></span><span> </span><span id="local-6989586621683090654"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090654"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621683090655"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090655"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621683090656"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090656"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#and_Expr"><span class="hs-identifier hs-var">and_Expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Type
    -&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [Type]
-&gt; [RdrName]
-&gt; [RdrName]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b c d.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]
</span><a href="GHC.Utils.Misc.html#zipWith3Equal"><span class="hs-identifier hs-var">zipWith3Equal</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nested_eq&quot;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090660"><span class="hs-identifier hs-var">nested_eq</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090654"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090655"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090656"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-comment">-- Using 'foldr1' here ensures that the derived code is correctly</span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-comment">-- associated. See #10859.</span><span>
</span><span id="line-269"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621683090660"><span class="annot"><span class="annottext">nested_eq :: Type -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090660"><span class="hs-identifier hs-var hs-var">nested_eq</span></a></span></span><span> </span><span id="local-6989586621683090670"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090670"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683090671"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090671"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683090672"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090672"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eq_Expr"><span class="hs-identifier hs-var">eq_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090670"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090671"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090672"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>    </span><span id="local-6989586621683090638"><span class="annot"><span class="annottext">gen_con_fields_and_tys :: DataCon -&gt; ([RdrName], [RdrName], [Type])
</span><a href="#local-6989586621683090638"><span class="hs-identifier hs-var hs-var">gen_con_fields_and_tys</span></a></span></span><span> </span><span id="local-6989586621683090674"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090674"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-273"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683090675"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090675"><span class="hs-identifier hs-var">tys_needed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-var">derivDataConInstArgTys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090674"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683090595"><span class="hs-identifier hs-var">dit</span></a></span><span>
</span><span id="line-274"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090676"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090676"><span class="hs-identifier hs-var">con_arity</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090675"><span class="hs-identifier hs-var">tys_needed</span></a></span><span>
</span><span id="line-275"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090678"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090678"><span class="hs-identifier hs-var">as_needed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090676"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090681"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090681"><span class="hs-identifier hs-var">bs_needed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090676"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var">bs_RDRs</span></a></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090678"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090681"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090675"><span class="hs-identifier hs-var">tys_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>    </span><span id="local-6989586621683090626"><span class="annot"><span class="annottext">pats_etc :: DataCon
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683090626"><span class="hs-identifier hs-var hs-var">pats_etc</span></a></span></span><span> </span><span id="local-6989586621683090683"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090683"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-280"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090684"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090684"><span class="hs-identifier hs-var">as_needed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090685"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090685"><span class="hs-identifier hs-var">bs_needed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090686"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090686"><span class="hs-identifier hs-var">tys_needed</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ([RdrName], [RdrName], [Type])
</span><a href="#local-6989586621683090638"><span class="hs-identifier hs-var">gen_con_fields_and_tys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090683"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-281"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090687"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090687"><span class="hs-identifier hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090683"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-282"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090688"><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090688"><span class="hs-identifier hs-var">con1_pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlParPat"><span class="hs-identifier hs-var">nlParPat</span></a></span><span> </span><span class="annot"><span class="annottext">(LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed))
-&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090687"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090684"><span class="hs-identifier hs-var">as_needed</span></a></span><span>
</span><span id="line-283"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090689"><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090689"><span class="hs-identifier hs-var">con2_pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlParPat"><span class="hs-identifier hs-var">nlParPat</span></a></span><span> </span><span class="annot"><span class="annottext">(LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed))
-&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090687"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090685"><span class="hs-identifier hs-var">bs_needed</span></a></span><span>
</span><span id="line-284"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090690"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090690"><span class="hs-identifier hs-var">fields_eq_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; [RdrName] -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090646"><span class="hs-identifier hs-var">nested_eq_expr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090686"><span class="hs-identifier hs-var">tys_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090684"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090685"><span class="hs-identifier hs-var">bs_needed</span></a></span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090688"><span class="hs-identifier hs-var">con1_pat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683090689"><span class="hs-identifier hs-var">con2_pat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090690"><span class="hs-identifier hs-var">fields_eq_expr</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Ord instances
*                                                                      *
************************************************************************

Note [Generating Ord instances]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Suppose constructors are K1..Kn, and some are nullary.
The general form we generate is:

* Do case on first argument
        case a of
          K1 ... -&gt; rhs_1
          K2 ... -&gt; rhs_2
          ...
          Kn ... -&gt; rhs_n
          _ -&gt; nullary_rhs

* To make rhs_i
     If i = 1, 2, n-1, n, generate a single case.
        rhs_2    case b of
                   K1 {}  -&gt; LT
                   K2 ... -&gt; ...eq_rhs(K2)...
                   _      -&gt; GT

     Otherwise do a tag compare against the bigger range
     (because this is the one most likely to succeed)
        rhs_3    case tag b of tb -&gt;
                 if 3 &lt;# tg then GT
                 else case b of
                         K3 ... -&gt; ...eq_rhs(K3)....
                         _      -&gt; LT

* To make eq_rhs(K), which knows that
    a = K a1 .. av
    b = K b1 .. bv
  we just want to compare (a1,b1) then (a2,b2) etc.
  Take care on the last field to tail-call into comparing av,bv

* To make nullary_rhs generate this
     case dataToTag# a of a# -&gt;
     case dataToTag# b of -&gt;
     a# `compare` b#

Several special cases:

* Two or fewer nullary constructors: don't generate nullary_rhs

* Be careful about unlifted comparisons.  When comparing unboxed
  values we can't call the overloaded functions.
  See function unliftedOrdOp

Note [Game plan for deriving Ord]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
It's a bad idea to define only 'compare', and build the other binary
comparisons on top of it; see #2130, #4019.  Reason: we don't
want to laboriously make a three-way comparison, only to extract a
binary result, something like this:
     (&gt;) (I# x) (I# y) = case &lt;# x y of
                            True -&gt; False
                            False -&gt; case ==# x y of
                                       True  -&gt; False
                                       False -&gt; True

This being said, we can get away with generating full code only for
'compare' and '&lt;' thus saving us generation of other three operators.
Other operators can be cheaply expressed through '&lt;':
a &lt;= b = not $ b &lt; a
a &gt; b = b &lt; a
a &gt;= b = not $ a &lt; b

So for sufficiently small types (few constructors, or all nullary)
we generate all methods; for large ones we just use 'compare'.

-}</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-keyword">data</span><span> </span><span id="OrdOp"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-var">OrdOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OrdCompare"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="OrdLT"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="OrdLE"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="OrdGE"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="OrdGT"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">------------</span><span>
</span><span id="line-368"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ordMethRdr"><span class="hs-identifier hs-type">ordMethRdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-369"></span><span id="ordMethRdr"><span class="annot"><span class="annottext">ordMethRdr :: OrdOp -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ordMethRdr"><span class="hs-identifier hs-var hs-var">ordMethRdr</span></a></span></span><span> </span><span id="local-6989586621683090697"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090697"><span class="hs-identifier hs-var">op</span></a></span></span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090697"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-371"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#compare_RDR"><span class="hs-identifier hs-var">compare_RDR</span></a></span><span>
</span><span id="line-372"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#lt_RDR"><span class="hs-identifier hs-var">lt_RDR</span></a></span><span>
</span><span id="line-373"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#le_RDR"><span class="hs-identifier hs-var">le_RDR</span></a></span><span>
</span><span id="line-374"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#ge_RDR"><span class="hs-identifier hs-var">ge_RDR</span></a></span><span>
</span><span id="line-375"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#gt_RDR"><span class="hs-identifier hs-var">gt_RDR</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">------------</span><span>
</span><span id="line-378"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-type">ltResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-379"></span><span class="hs-comment">-- Knowing a&lt;b, what is the result for a `op` b?</span><span>
</span><span id="line-380"></span><span id="ltResult"><span class="annot"><span class="annottext">ltResult :: OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var hs-var">ltResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltTag_Expr"><span class="hs-identifier hs-var">ltTag_Expr</span></a></span><span>
</span><span id="line-381"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-382"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-383"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-384"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-comment">------------</span><span>
</span><span id="line-387"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-type">eqResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- Knowing a=b, what is the result for a `op` b?</span><span>
</span><span id="line-389"></span><span id="eqResult"><span class="annot"><span class="annottext">eqResult :: OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var hs-var">eqResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eqTag_Expr"><span class="hs-identifier hs-var">eqTag_Expr</span></a></span><span>
</span><span id="line-390"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var">eqResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-391"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var">eqResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var">eqResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-393"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var">eqResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">------------</span><span>
</span><span id="line-396"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-type">gtResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-397"></span><span class="hs-comment">-- Knowing a&gt;b, what is the result for a `op` b?</span><span>
</span><span id="line-398"></span><span id="gtResult"><span class="annot"><span class="annottext">gtResult :: OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var hs-var">gtResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtTag_Expr"><span class="hs-identifier hs-var">gtTag_Expr</span></a></span><span>
</span><span id="line-399"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-400"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var">false_Expr</span></a></span><span>
</span><span id="line-401"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-402"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">------------</span><span>
</span><span id="line-405"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Ord_binds"><span class="hs-identifier hs-type">gen_Ord_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span id="gen_Ord_binds"><span class="annot"><span class="annottext">gen_Ord_binds :: SrcSpan
-&gt; DerivInstTys
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Ord_binds"><span class="hs-identifier hs-var hs-var">gen_Ord_binds</span></a></span></span><span> </span><span id="local-6989586621683090709"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683090710"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683090710"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090711"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090711"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>
</span><span id="line-407"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090712"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090712"><span class="hs-identifier hs-var">tycon_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><span class="annottext">(LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
forall a. a -&gt; IOEnv (Env TcGblEnv TcLclEnv) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">((LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
 -&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec))
-&gt; (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span> </span><span class="hs-comment">-- No data-cons =&gt; invoke bale-out case</span><span>
</span><span id="line-409"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#compare_RDR"><span class="hs-identifier hs-var">compare_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#eqTag_Expr"><span class="hs-identifier hs-var">eqTag_Expr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-410"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090714"><span class="hs-identifier hs-var">mkOrdOp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090715"><span class="hs-identifier hs-var">other_ops</span></a></span><span>
</span><span id="line-412"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="#local-6989586621683090716"><span class="hs-identifier hs-var">aux_binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621683090716"><span class="annot"><span class="annottext">aux_binds :: Bag a
</span><a href="#local-6989586621683090716"><span class="hs-identifier hs-var hs-var">aux_binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag a
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>        </span><span class="hs-comment">-- Note [Game plan for deriving Ord]</span><span>
</span><span id="line-417"></span><span>    </span><span id="local-6989586621683090715"><span class="annot"><span class="annottext">other_ops :: [GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090715"><span class="hs-identifier hs-var hs-var">other_ops</span></a></span></span><span>
</span><span id="line-418"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090717"><span class="hs-identifier hs-var">last_tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090718"><span class="hs-identifier hs-var">first_tag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>     </span><span class="hs-comment">-- 1-3 constructors</span><span>
</span><span id="line-419"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090721"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>        </span><span class="hs-comment">-- Or it's an enumeration</span><span>
</span><span id="line-420"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090714"><span class="hs-identifier hs-var">mkOrdOp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090722"><span class="hs-identifier hs-var">lE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090723"><span class="hs-identifier hs-var">gT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090724"><span class="hs-identifier hs-var">gE</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-421"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-422"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span>    </span><span id="local-6989586621683090732"><span class="annot"><span class="annottext">negate_expr :: LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090732"><span class="hs-identifier hs-var hs-var">negate_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#not_RDR"><span class="hs-identifier hs-var">not_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621683090736"><span class="annot"><span class="annottext">pats :: GenLocated
  EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090736"><span class="hs-identifier hs-var hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621683090722"><span class="annot"><span class="annottext">lE :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090722"><span class="hs-identifier hs-var hs-var">lE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#le_RDR"><span class="hs-identifier hs-var">le_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedE [LPat (GhcPass 'Parsed)]
GenLocated
  EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090736"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-427"></span><span>        </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090732"><span class="hs-identifier hs-var">negate_expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#lt_RDR"><span class="hs-identifier hs-var">lt_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Expr"><span class="hs-identifier hs-var">b_Expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var">a_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621683090723"><span class="annot"><span class="annottext">gT :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090723"><span class="hs-identifier hs-var hs-var">gT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#gt_RDR"><span class="hs-identifier hs-var">gt_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedE [LPat (GhcPass 'Parsed)]
GenLocated
  EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090736"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-429"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#lt_RDR"><span class="hs-identifier hs-var">lt_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Expr"><span class="hs-identifier hs-var">b_Expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var">a_Expr</span></a></span><span>
</span><span id="line-430"></span><span>    </span><span id="local-6989586621683090724"><span class="annot"><span class="annottext">gE :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090724"><span class="hs-identifier hs-var hs-var">gE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#ge_RDR"><span class="hs-identifier hs-var">ge_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedE [LPat (GhcPass 'Parsed)]
GenLocated
  EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090736"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-431"></span><span>        </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090732"><span class="hs-identifier hs-var">negate_expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#lt_RDR"><span class="hs-identifier hs-var">lt_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var">a_Expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Expr"><span class="hs-identifier hs-var">b_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span>    </span><span id="local-6989586621683090742"><span class="annot"><span class="annottext">get_tag :: DataCon -&gt; Int
</span><a href="#local-6989586621683090742"><span class="hs-identifier hs-var hs-var">get_tag</span></a></span></span><span> </span><span id="local-6989586621683090743"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090743"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConTag"><span class="hs-identifier hs-var">dataConTag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090743"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Basic.html#fIRST_TAG"><span class="hs-identifier hs-var">fIRST_TAG</span></a></span><span>
</span><span id="line-434"></span><span>        </span><span class="hs-comment">-- We want *zero-based* tags, because that's what</span><span>
</span><span id="line-435"></span><span>        </span><span class="hs-comment">-- con2Tag returns (generated by untag_Expr)!</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>    </span><span id="local-6989586621683090713"><span class="annot"><span class="annottext">tycon_data_cons :: [DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var hs-var">tycon_data_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; [DataCon]
</span><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-var">getPossibleDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090711"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090712"><span class="hs-identifier hs-var">tycon_args</span></a></span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621683090746"><span class="annot"><span class="annottext">single_con_type :: Bool
</span><a href="#local-6989586621683090746"><span class="hs-identifier hs-var hs-var">single_con_type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
</span><a href="GHC.Utils.Misc.html#isSingleton"><span class="hs-identifier hs-var">isSingleton</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span>
</span><span id="line-439"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683090748"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090748"><span class="hs-identifier hs-var">first_con</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683090749"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090749"><span class="hs-identifier hs-var">last_con</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; [DataCon]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span>
</span><span id="line-441"></span><span>    </span><span id="local-6989586621683090718"><span class="annot"><span class="annottext">first_tag :: Int
</span><a href="#local-6989586621683090718"><span class="hs-identifier hs-var hs-var">first_tag</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="#local-6989586621683090742"><span class="hs-identifier hs-var">get_tag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090748"><span class="hs-identifier hs-var">first_con</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621683090717"><span class="annot"><span class="annottext">last_tag :: Int
</span><a href="#local-6989586621683090717"><span class="hs-identifier hs-var hs-var">last_tag</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="#local-6989586621683090742"><span class="hs-identifier hs-var">get_tag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090749"><span class="hs-identifier hs-var">last_con</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683090751"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090751"><span class="hs-identifier hs-var">nullary_cons</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090721"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090721"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Bool) -&gt; [DataCon] -&gt; ([DataCon], [DataCon])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isNullarySrcDataCon"><span class="hs-identifier hs-var">isNullarySrcDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><a href="#local-6989586621683090714"><span class="hs-identifier hs-type">mkOrdOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-comment">-- Returns a binding   op a b = ... compares a and b according to op ....</span><span>
</span><span id="line-449"></span><span>    </span><span id="local-6989586621683090714"><span class="annot"><span class="annottext">mkOrdOp :: OrdOp -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090714"><span class="hs-identifier hs-var hs-var">mkOrdOp</span></a></span></span><span> </span><span id="local-6989586621683090752"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090752"><span class="hs-identifier hs-var">op</span></a></span></span><span>
</span><span id="line-450"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090709"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ordMethRdr"><span class="hs-identifier hs-var">ordMethRdr</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090752"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090753"><span class="hs-identifier hs-var">mkOrdOpRhs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090752"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><a href="#local-6989586621683090753"><span class="hs-identifier hs-type">mkOrdOpRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-454"></span><span>    </span><span id="local-6989586621683090753"><span class="annot"><span class="annottext">mkOrdOpRhs :: OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090753"><span class="hs-identifier hs-var hs-var">mkOrdOpRhs</span></a></span></span><span> </span><span id="local-6989586621683090754"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090754"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-comment">-- RHS for comparing 'a' and 'b' according to op</span><span>
</span><span id="line-455"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090751"><span class="hs-identifier hs-var">nullary_cons</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Int -&gt; Bool
forall a. [a] -&gt; Int -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthAtMost"><span class="hs-operator hs-var">`lengthAtMost`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-comment">-- Two nullary or fewer, so use cases</span><span>
</span><span id="line-456"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
 -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-457"></span><span>        </span><span class="annot"><span class="annottext">(DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed)))
-&gt; [DataCon]
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090756"><span class="hs-identifier hs-var">mkOrdOpAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090754"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090713"><span class="hs-identifier hs-var">tycon_data_cons</span></a></span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-comment">-- i.e.  case a of { C1 x y -&gt; case b of C1 x y -&gt; ....compare x,y...</span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-comment">--                   C2 x   -&gt; case b of C2 x -&gt; ....compare x.... }</span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090721"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>    </span><span class="hs-comment">-- All nullary, so go straight to comparing tags</span><span>
</span><span id="line-462"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090757"><span class="hs-identifier hs-var">mkTagCmp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090754"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                </span><span class="hs-comment">-- Mixed nullary and non-nullary</span><span>
</span><span id="line-465"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
 -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-466"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; [DataCon]
-&gt; [GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090756"><span class="hs-identifier hs-var">mkOrdOpAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090754"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090721"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>
</span><span id="line-467"></span><span>         </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090757"><span class="hs-identifier hs-var">mkTagCmp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090754"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>    </span><span class="annot"><a href="#local-6989586621683090756"><span class="hs-identifier hs-type">mkOrdOpAlt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-471"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>    </span><span class="hs-comment">-- Make the alternative  (Ki a1 a2 .. av -&gt;</span><span>
</span><span id="line-473"></span><span>    </span><span id="local-6989586621683090756"><span class="annot"><span class="annottext">mkOrdOpAlt :: OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090756"><span class="hs-identifier hs-var hs-var">mkOrdOpAlt</span></a></span></span><span> </span><span id="local-6989586621683090758"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090758"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683090759"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090759"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-474"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090760"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090761"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; DataCon -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090762"><span class="hs-identifier hs-var">mkInnerRhs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090758"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090759"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-477"></span><span>        </span><span id="local-6989586621683090761"><span class="annot"><span class="annottext">as_needed :: [RdrName]
</span><a href="#local-6989586621683090761"><span class="hs-identifier hs-var hs-var">as_needed</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090759"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-478"></span><span>        </span><span id="local-6989586621683090760"><span class="annot"><span class="annottext">data_con_RDR :: RdrName
</span><a href="#local-6989586621683090760"><span class="hs-identifier hs-var hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090759"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span>    </span><span id="local-6989586621683090762"><span class="annot"><span class="annottext">mkInnerRhs :: OrdOp -&gt; DataCon -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090762"><span class="hs-identifier hs-var hs-var">mkInnerRhs</span></a></span></span><span> </span><span id="local-6989586621683090764"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683090765"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-481"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683090746"><span class="hs-identifier hs-var">single_con_type</span></a></span><span>
</span><span id="line-482"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090718"><span class="hs-identifier hs-var">first_tag</span></a></span><span>
</span><span id="line-485"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-486"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-487"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090717"><span class="hs-identifier hs-var">last_tag</span></a></span><span>
</span><span id="line-488"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-489"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090718"><span class="hs-identifier hs-var">first_tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-492"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlConWildPat"><span class="hs-identifier hs-var">nlConWildPat</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090748"><span class="hs-identifier hs-var">first_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-495"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-496"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090717"><span class="hs-identifier hs-var">last_tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-497"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlConWildPat"><span class="hs-identifier hs-var">nlConWildPat</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090749"><span class="hs-identifier hs-var">last_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-500"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090717"><span class="hs-identifier hs-var">last_tag</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>  </span><span class="hs-comment">-- lower range is larger</span><span>
</span><span id="line-503"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-504"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt_RDR"><span class="hs-identifier hs-var">ltInt_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090774"><span class="hs-identifier hs-var">tag_lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="hs-comment">-- Definitely GT</span><span>
</span><span id="line-506"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-507"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>               </span><span class="hs-comment">-- upper range is larger</span><span>
</span><span id="line-510"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-511"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt_RDR"><span class="hs-identifier hs-var">gtInt_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090774"><span class="hs-identifier hs-var">tag_lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="hs-comment">-- Definitely LT</span><span>
</span><span id="line-513"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var">mkInnerEqAlt</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-514"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090764"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-515"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>        </span><span id="local-6989586621683090767"><span class="annot"><span class="annottext">tag :: Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var hs-var">tag</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="#local-6989586621683090742"><span class="hs-identifier hs-var">get_tag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090765"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-517"></span><span>        </span><span id="local-6989586621683090774"><span class="annot"><span class="annottext">tag_lit :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090774"><span class="hs-identifier hs-var hs-var">tag_lit</span></a></span></span><span>
</span><span id="line-518"></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitE (GhcPass 'Parsed)
-&gt; HsLit (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
forall p. XLitE p -&gt; HsLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a></span><span> </span><span class="annot"><span class="annottext">XLitE (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed) -&gt; Integer -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsIntPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-var">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090767"><span class="hs-identifier hs-var">tag</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><a href="#local-6989586621683090766"><span class="hs-identifier hs-type">mkInnerEqAlt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>    </span><span class="hs-comment">-- First argument 'a' known to be built with K</span><span>
</span><span id="line-522"></span><span>    </span><span class="hs-comment">-- Returns a case alternative  Ki b1 b2 ... bv -&gt; compare (a1,a2,...) with (b1,b2,...)</span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621683090766"><span class="annot"><span class="annottext">mkInnerEqAlt :: OrdOp
-&gt; DataCon -&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090766"><span class="hs-identifier hs-var hs-var">mkInnerEqAlt</span></a></span></span><span> </span><span id="local-6989586621683090778"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090778"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683090779"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090779"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-524"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090780"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090781"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-525"></span><span>        </span><span class="annot"><span class="annottext">OrdOp -&gt; [Type] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkCompareFields"><span class="hs-identifier hs-var">mkCompareFields</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090778"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-var">derivDataConInstArgTys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090779"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683090710"><span class="hs-identifier hs-var">dit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-527"></span><span>        </span><span id="local-6989586621683090780"><span class="annot"><span class="annottext">data_con_RDR :: RdrName
</span><a href="#local-6989586621683090780"><span class="hs-identifier hs-var hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090779"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-528"></span><span>        </span><span id="local-6989586621683090781"><span class="annot"><span class="annottext">bs_needed :: [RdrName]
</span><a href="#local-6989586621683090781"><span class="hs-identifier hs-var hs-var">bs_needed</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090779"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var">bs_RDRs</span></a></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span>    </span><span class="annot"><a href="#local-6989586621683090757"><span class="hs-identifier hs-type">mkTagCmp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-531"></span><span>    </span><span class="hs-comment">-- Both constructors known to be nullary</span><span>
</span><span id="line-532"></span><span>    </span><span class="hs-comment">-- generates (case data2Tag a of a# -&gt; case data2Tag b of b# -&gt; a# `op` b#</span><span>
</span><span id="line-533"></span><span>    </span><span id="local-6989586621683090757"><span class="annot"><span class="annottext">mkTagCmp :: OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090757"><span class="hs-identifier hs-var hs-var">mkTagCmp</span></a></span></span><span> </span><span id="local-6989586621683090783"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090783"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-534"></span><span>      </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-535"></span><span>        </span><span class="annot"><span class="annottext">Type -&gt; OrdOp -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedOrdOp"><span class="hs-identifier hs-var">unliftedOrdOp</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#intPrimTy"><span class="hs-identifier hs-var">intPrimTy</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090783"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkCompareFields"><span class="hs-identifier hs-type">mkCompareFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-538"></span><span class="hs-comment">-- Generates nested comparisons for (a1,a2...) against (b1,b2,...)</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- where the ai,bi have the given types</span><span>
</span><span id="line-540"></span><span id="mkCompareFields"><span class="annot"><span class="annottext">mkCompareFields :: OrdOp -&gt; [Type] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkCompareFields"><span class="hs-identifier hs-var hs-var">mkCompareFields</span></a></span></span><span> </span><span id="local-6989586621683090786"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683090787"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090787"><span class="hs-identifier hs-var">tys</span></a></span></span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type]
-&gt; [RdrName] -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090788"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090787"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var">bs_RDRs</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>    </span><span id="local-6989586621683090788"><span class="annot"><span class="annottext">go :: [Type]
-&gt; [RdrName] -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090788"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span>      </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eqResult"><span class="hs-identifier hs-var">eqResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-544"></span><span>    </span><span class="annot"><a href="#local-6989586621683090788"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621683090789"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090789"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090790"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090790"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span id="local-6989586621683090791"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090791"><span class="hs-identifier hs-var">b</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Bool
Type -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090789"><span class="hs-identifier hs-var">ty</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; OrdOp -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedOrdOp"><span class="hs-identifier hs-var">unliftedOrdOp</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090789"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090790"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090791"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090790"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ordMethRdr"><span class="hs-identifier hs-var">ordMethRdr</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090791"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>    </span><span class="annot"><a href="#local-6989586621683090788"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090794"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090794"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683090795"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090795"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090796"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090796"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683090797"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090797"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683090798"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090798"><span class="hs-identifier hs-var">b</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683090799"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090799"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
-&gt; RdrName
-&gt; RdrName
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090800"><span class="hs-identifier hs-var">mk_compare</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090794"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090796"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090798"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-548"></span><span>                                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltResult"><span class="hs-identifier hs-var">ltResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>                                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type]
-&gt; [RdrName] -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090788"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683090795"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090797"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683090799"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span>                                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdOp -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtResult"><span class="hs-identifier hs-var">gtResult</span></a></span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090786"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><a href="#local-6989586621683090788"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkCompareFields&quot;</span></span><span>
</span><span id="line-552"></span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-comment">-- (mk_compare ty a b) generates</span><span>
</span><span id="line-554"></span><span>    </span><span class="hs-comment">--    (case (compare a b) of { LT -&gt; &lt;lt&gt;; EQ -&gt; &lt;eq&gt;; GT -&gt; &lt;bt&gt; })</span><span>
</span><span id="line-555"></span><span>    </span><span class="hs-comment">-- but with suitable special cases for</span><span>
</span><span id="line-556"></span><span>    </span><span id="local-6989586621683090800"><span class="annot"><span class="annottext">mk_compare :: Type
-&gt; IdGhcP 'Parsed
-&gt; IdGhcP 'Parsed
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090800"><span class="hs-identifier hs-var hs-var">mk_compare</span></a></span></span><span> </span><span id="local-6989586621683090831"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090831"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683090832"><span class="annot"><span class="annottext">IdGhcP 'Parsed
</span><a href="#local-6989586621683090832"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683090833"><span class="annot"><span class="annottext">IdGhcP 'Parsed
</span><a href="#local-6989586621683090833"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621683090834"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090834"><span class="hs-identifier hs-var">lt</span></a></span></span><span> </span><span id="local-6989586621683090835"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090835"><span class="hs-identifier hs-var">eq</span></a></span></span><span> </span><span id="local-6989586621683090836"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090836"><span class="hs-identifier hs-var">gt</span></a></span></span><span>
</span><span id="line-557"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Bool
Type -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090831"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-558"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedCompare"><span class="hs-identifier hs-var">unliftedCompare</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090838"><span class="hs-identifier hs-var">lt_op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090839"><span class="hs-identifier hs-var">eq_op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090840"><span class="hs-identifier hs-var">a_expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090841"><span class="hs-identifier hs-var">b_expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090834"><span class="hs-identifier hs-var">lt</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090835"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090836"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-559"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-560"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#compare_RDR"><span class="hs-identifier hs-var">compare_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090840"><span class="hs-identifier hs-var">a_expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090841"><span class="hs-identifier hs-var">b_expr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlNullaryConPat"><span class="hs-identifier hs-var">nlNullaryConPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#ltTag_RDR"><span class="hs-identifier hs-var">ltTag_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090834"><span class="hs-identifier hs-var">lt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-562"></span><span>           </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlNullaryConPat"><span class="hs-identifier hs-var">nlNullaryConPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#eqTag_RDR"><span class="hs-identifier hs-var">eqTag_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090835"><span class="hs-identifier hs-var">eq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-563"></span><span>           </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlNullaryConPat"><span class="hs-identifier hs-var">nlNullaryConPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#gtTag_RDR"><span class="hs-identifier hs-var">gtTag_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090836"><span class="hs-identifier hs-var">gt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-564"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-565"></span><span>        </span><span id="local-6989586621683090840"><span class="annot"><span class="annottext">a_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090840"><span class="hs-identifier hs-var hs-var">a_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
IdGhcP 'Parsed
</span><a href="#local-6989586621683090832"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-566"></span><span>        </span><span id="local-6989586621683090841"><span class="annot"><span class="annottext">b_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090841"><span class="hs-identifier hs-var hs-var">b_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
IdGhcP 'Parsed
</span><a href="#local-6989586621683090833"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-567"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621683090838"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090838"><span class="hs-identifier hs-var">lt_op</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090839"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090839"><span class="hs-identifier hs-var">eq_op</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type -&gt; (RdrName, RdrName, RdrName, RdrName, RdrName)
</span><a href="GHC.Tc.Deriv.Generate.html#primOrdOps"><span class="hs-identifier hs-var">primOrdOps</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Ord&quot;</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090831"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#unliftedOrdOp"><span class="hs-identifier hs-type">unliftedOrdOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#OrdOp"><span class="hs-identifier hs-type">OrdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-570"></span><span id="unliftedOrdOp"><span class="annot"><span class="annottext">unliftedOrdOp :: Type -&gt; OrdOp -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedOrdOp"><span class="hs-identifier hs-var hs-var">unliftedOrdOp</span></a></span></span><span> </span><span id="local-6989586621683090847"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090847"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683090848"><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090848"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683090849"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090849"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683090850"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090850"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-571"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OrdOp
</span><a href="#local-6989586621683090848"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-572"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdCompare"><span class="hs-identifier hs-var">OrdCompare</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedCompare"><span class="hs-identifier hs-var">unliftedCompare</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090851"><span class="hs-identifier hs-var">lt_op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090852"><span class="hs-identifier hs-var">eq_op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090853"><span class="hs-identifier hs-var">a_expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090854"><span class="hs-identifier hs-var">b_expr</span></a></span><span>
</span><span id="line-573"></span><span>                                     </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltTag_Expr"><span class="hs-identifier hs-var">ltTag_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eqTag_Expr"><span class="hs-identifier hs-var">eqTag_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtTag_Expr"><span class="hs-identifier hs-var">gtTag_Expr</span></a></span><span>
</span><span id="line-574"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLT"><span class="hs-identifier hs-var">OrdLT</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090855"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090851"><span class="hs-identifier hs-var">lt_op</span></a></span><span>
</span><span id="line-575"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdLE"><span class="hs-identifier hs-var">OrdLE</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090855"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090856"><span class="hs-identifier hs-var">le_op</span></a></span><span>
</span><span id="line-576"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGE"><span class="hs-identifier hs-var">OrdGE</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090855"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090857"><span class="hs-identifier hs-var">ge_op</span></a></span><span>
</span><span id="line-577"></span><span>       </span><span class="annot"><span class="annottext">OrdOp
</span><a href="GHC.Tc.Deriv.Generate.html#OrdGT"><span class="hs-identifier hs-var">OrdGT</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090855"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090858"><span class="hs-identifier hs-var">gt_op</span></a></span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-579"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621683090851"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090851"><span class="hs-identifier hs-var">lt_op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090856"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090856"><span class="hs-identifier hs-var">le_op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090852"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090852"><span class="hs-identifier hs-var">eq_op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090857"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090857"><span class="hs-identifier hs-var">ge_op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683090858"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090858"><span class="hs-identifier hs-var">gt_op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type -&gt; (RdrName, RdrName, RdrName, RdrName, RdrName)
</span><a href="GHC.Tc.Deriv.Generate.html#primOrdOps"><span class="hs-identifier hs-var">primOrdOps</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Ord&quot;</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683090847"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-580"></span><span>   </span><span id="local-6989586621683090855"><span class="annot"><span class="annottext">wrap :: RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090855"><span class="hs-identifier hs-var hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621683090859"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090859"><span class="hs-identifier hs-var">prim_op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090853"><span class="hs-identifier hs-var">a_expr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090859"><span class="hs-identifier hs-var">prim_op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090854"><span class="hs-identifier hs-var">b_expr</span></a></span><span>
</span><span id="line-581"></span><span>   </span><span id="local-6989586621683090853"><span class="annot"><span class="annottext">a_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090853"><span class="hs-identifier hs-var hs-var">a_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090849"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-582"></span><span>   </span><span id="local-6989586621683090854"><span class="annot"><span class="annottext">b_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090854"><span class="hs-identifier hs-var hs-var">b_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090850"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#unliftedCompare"><span class="hs-identifier hs-type">unliftedCompare</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-585"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>   </span><span class="hs-comment">-- What to compare</span><span>
</span><span id="line-586"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-587"></span><span>                                                    </span><span class="hs-comment">-- Three results</span><span>
</span><span id="line-588"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-589"></span><span class="hs-comment">-- Return (if a &lt; b then lt else if a == b then eq else gt)</span><span>
</span><span id="line-590"></span><span id="unliftedCompare"><span class="annot"><span class="annottext">unliftedCompare :: RdrName
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unliftedCompare"><span class="hs-identifier hs-var hs-var">unliftedCompare</span></a></span></span><span> </span><span id="local-6989586621683090860"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090860"><span class="hs-identifier hs-var">lt_op</span></a></span></span><span> </span><span id="local-6989586621683090861"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090861"><span class="hs-identifier hs-var">eq_op</span></a></span></span><span> </span><span id="local-6989586621683090862"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090862"><span class="hs-identifier hs-var">a_expr</span></a></span></span><span> </span><span id="local-6989586621683090863"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090863"><span class="hs-identifier hs-var">b_expr</span></a></span></span><span> </span><span id="local-6989586621683090864"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090864"><span class="hs-identifier hs-var">lt</span></a></span></span><span> </span><span id="local-6989586621683090865"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090865"><span class="hs-identifier hs-var">eq</span></a></span></span><span> </span><span id="local-6989586621683090866"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090866"><span class="hs-identifier hs-var">gt</span></a></span></span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090867"><span class="hs-identifier hs-var">ascribeBool</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090862"><span class="hs-identifier hs-var">a_expr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090860"><span class="hs-identifier hs-var">lt_op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090863"><span class="hs-identifier hs-var">b_expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090864"><span class="hs-identifier hs-var">lt</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-592"></span><span>                        </span><span class="hs-comment">-- Test (&lt;) first, not (==), because the latter</span><span>
</span><span id="line-593"></span><span>                        </span><span class="hs-comment">-- is true less often, so putting it first would</span><span>
</span><span id="line-594"></span><span>                        </span><span class="hs-comment">-- mean more tests (dynamically)</span><span>
</span><span id="line-595"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090867"><span class="hs-identifier hs-var">ascribeBool</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090862"><span class="hs-identifier hs-var">a_expr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090861"><span class="hs-identifier hs-var">eq_op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090863"><span class="hs-identifier hs-var">b_expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090865"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090866"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-596"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-597"></span><span>    </span><span id="local-6989586621683090867"><span class="annot"><span class="annottext">ascribeBool :: LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090867"><span class="hs-identifier hs-var hs-var">ascribeBool</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlAscribe"><span class="hs-identifier hs-var">nlAscribe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#boolTyCon_RDR"><span class="hs-identifier hs-var">boolTyCon_RDR</span></a></span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nlConWildPat"><span class="hs-identifier hs-type">nlConWildPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- The pattern (K {})</span><span>
</span><span id="line-601"></span><span id="nlConWildPat"><span class="annot"><span class="annottext">nlConWildPat :: DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlConWildPat"><span class="hs-identifier hs-var hs-var">nlConWildPat</span></a></span></span><span> </span><span id="local-6989586621683090870"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090870"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat (GhcPass 'Parsed)
 -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed)))
-&gt; Pat (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat (GhcPass 'Parsed)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec (GhcPass 'Parsed) (ConLikeP (GhcPass 'Parsed))
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; GenLocated SrcSpanAnnN RdrName)
-&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090870"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails (GhcPass 'Parsed)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecFields (GhcPass 'Parsed) (LPat (GhcPass 'Parsed))
-&gt; HsConPatDetails (GhcPass 'Parsed)
forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="annot"><span class="annottext">(HsRecFields (GhcPass 'Parsed) (LPat (GhcPass 'Parsed))
 -&gt; HsConPatDetails (GhcPass 'Parsed))
-&gt; HsRecFields (GhcPass 'Parsed) (LPat (GhcPass 'Parsed))
-&gt; HsConPatDetails (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span>
</span><span id="line-605"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_ext :: XHsRecFields (GhcPass 'Parsed)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_ext"><span class="hs-identifier hs-var">rec_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XHsRecFields (GhcPass 'Parsed)
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-606"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField (GhcPass 'Parsed) (LPat (GhcPass 'Parsed))]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-607"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (XRec (GhcPass 'Parsed) RecFieldsDotDot)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec (GhcPass 'Parsed) RecFieldsDotDot)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Enum instances
*                                                                      *
************************************************************************

@Enum@ can only be derived for enumeration types.  For a type
\begin{verbatim}
data Foo ... = N1 | N2 | ... | Nn
\end{verbatim}

we use both dataToTag# and @tag2con_Foo@ functions, as well as a
@maxtag_Foo@ variable, the later generated by @gen_tag_n_con_binds.

\begin{verbatim}
instance ... Enum (Foo ...) where
    succ x   = toEnum (1 + fromEnum x)
    pred x   = toEnum (fromEnum x - 1)

    toEnum i = tag2con_Foo i

    enumFrom a = map tag2con_Foo [dataToTag# a .. maxtag_Foo]

    -- or, really...
    enumFrom a
      = case dataToTag# a of
          a# -&gt; map tag2con_Foo (enumFromTo (I# a#) maxtag_Foo)

   enumFromThen a b
     = map tag2con_Foo [dataToTag# a, dataToTag# b .. maxtag_Foo]

    -- or, really...
    enumFromThen a b
      = case dataToTag# a of { a# -&gt;
        case dataToTag# b of { b# -&gt;
        map tag2con_Foo (enumFromThenTo (I# a#) (I# b#) maxtag_Foo)
        }}
\end{verbatim}

For @enumFromTo@ and @enumFromThenTo@, we use the default methods.
-}</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Enum_binds"><span class="hs-identifier hs-type">gen_Enum_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span id="gen_Enum_binds"><span class="annot"><span class="annottext">gen_Enum_binds :: SrcSpan
-&gt; DerivInstTys
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Enum_binds"><span class="hs-identifier hs-var hs-var">gen_Enum_binds</span></a></span></span><span> </span><span id="local-6989586621683090881"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090882"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090882"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-655"></span><span>    </span><span class="hs-comment">-- See Note [Auxiliary binders]</span><span>
</span><span id="line-656"></span><span>    </span><span id="local-6989586621683090883"><span class="annot"><a href="#local-6989586621683090883"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tag2con_rdr_name"><span class="hs-identifier hs-var">new_tag2con_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090882"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-657"></span><span>    </span><span id="local-6989586621683090885"><span class="annot"><a href="#local-6989586621683090885"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_maxtag_rdr_name"><span class="hs-identifier hs-type">new_maxtag_rdr_name</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621683090881"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090882"><span class="hs-identifier hs-type">tycon</span></a></span><span>
</span><span id="line-658"></span><span>
</span><span id="line-659"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621683090887"><span class="hs-identifier hs-type">method_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090883"><span class="hs-identifier hs-type">tag2con_RDR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090885"><span class="hs-identifier hs-type">maxtag_RDR</span></a></span><span>
</span><span id="line-660"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683090888"><span class="hs-identifier hs-type">aux_binds</span></a></span><span>    </span><span class="annot"><a href="#local-6989586621683090883"><span class="hs-identifier hs-type">tag2con_RDR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090885"><span class="hs-identifier hs-type">maxtag_RDR</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-662"></span><span>    </span><span id="local-6989586621683090887"><span class="annot"><span class="annottext">method_binds :: RdrName
-&gt; RdrName
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090887"><span class="hs-identifier hs-var hs-var">method_binds</span></a></span></span><span> </span><span id="local-6989586621683090889"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090890"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090890"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-663"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090891"><span class="hs-identifier hs-var">succ_enum</span></a></span><span>      </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090890"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span>
</span><span id="line-664"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090892"><span class="hs-identifier hs-var">pred_enum</span></a></span><span>      </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span>
</span><span id="line-665"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090893"><span class="hs-identifier hs-var">to_enum</span></a></span><span>        </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090890"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span>
</span><span id="line-666"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090894"><span class="hs-identifier hs-var">enum_from</span></a></span><span>      </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090890"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span> </span><span class="hs-comment">-- [0 ..]</span><span>
</span><span id="line-667"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090895"><span class="hs-identifier hs-var">enum_from_then</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090889"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090890"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span> </span><span class="hs-comment">-- [0, 1 ..]</span><span>
</span><span id="line-668"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090896"><span class="hs-identifier hs-var">from_enum</span></a></span><span>
</span><span id="line-669"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-670"></span><span>    </span><span id="local-6989586621683090888"><span class="annot"><span class="annottext">aux_binds :: RdrName -&gt; RdrName -&gt; Bag AuxBindSpec
</span><a href="#local-6989586621683090888"><span class="hs-identifier hs-var hs-var">aux_binds</span></a></span></span><span> </span><span id="local-6989586621683090897"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090897"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090898"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090898"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AuxBindSpec] -&gt; Bag AuxBindSpec
forall a. [a] -&gt; Bag a
</span><a href="GHC.Data.Bag.html#listToBag"><span class="hs-identifier hs-var">listToBag</span></a></span><span>
</span><span id="line-671"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName -&gt; AuxBindSpec
</span><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-var">DerivTag2Con</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090882"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090897"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span>
</span><span id="line-672"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName -&gt; AuxBindSpec
</span><a href="GHC.Tc.Deriv.Generate.html#DerivMaxTag"><span class="hs-identifier hs-var">DerivMaxTag</span></a></span><span>  </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090882"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090898"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span>
</span><span id="line-673"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-674"></span><span>
</span><span id="line-675"></span><span>    </span><span id="local-6989586621683090900"><span class="annot"><span class="annottext">occ_nm :: String
</span><a href="#local-6989586621683090900"><span class="hs-identifier hs-var hs-var">occ_nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="GHC.Types.Name.html#getOccString"><span class="hs-identifier hs-var">getOccString</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090882"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>    </span><span id="local-6989586621683090891"><span class="annot"><span class="annottext">succ_enum :: RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090891"><span class="hs-identifier hs-var hs-var">succ_enum</span></a></span></span><span> </span><span id="local-6989586621683090902"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090902"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090903"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090903"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span>
</span><span id="line-678"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#succ_RDR"><span class="hs-identifier hs-var">succ_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-679"></span><span>        </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-680"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#eq_RDR"><span class="hs-identifier hs-var">eq_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090903"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-681"></span><span>                               </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#succError_RDR"><span class="hs-identifier hs-var">succError_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683090900"><span class="hs-identifier hs-var">occ_nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-683"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090902"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-685"></span><span>                                        </span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-686"></span><span>
</span><span id="line-687"></span><span>    </span><span id="local-6989586621683090892"><span class="annot"><span class="annottext">pred_enum :: RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090892"><span class="hs-identifier hs-var hs-var">pred_enum</span></a></span></span><span> </span><span id="local-6989586621683090913"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090913"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span>
</span><span id="line-688"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#pred_RDR"><span class="hs-identifier hs-var">pred_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-689"></span><span>        </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-690"></span><span>        </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#eq_RDR"><span class="hs-identifier hs-var">eq_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span>
</span><span id="line-691"></span><span>                               </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#predError_RDR"><span class="hs-identifier hs-var">predError_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683090900"><span class="hs-identifier hs-var">occ_nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090913"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span>
</span><span id="line-695"></span><span>                            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-696"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed) -&gt; IntegralLit -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsInt x -&gt; IntegralLit -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsInt"><span class="hs-identifier hs-var">HsInt</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-697"></span><span>                                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; IntegralLit
forall a. Integral a =&gt; a -&gt; IntegralLit
</span><a href="GHC.Types.SourceText.html#mkIntegralLit"><span class="hs-identifier hs-var">mkIntegralLit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span>    </span><span id="local-6989586621683090893"><span class="annot"><span class="annottext">to_enum :: RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090893"><span class="hs-identifier hs-var hs-var">to_enum</span></a></span></span><span> </span><span id="local-6989586621683090918"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090918"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090919"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090919"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span>
</span><span id="line-700"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#toEnum_RDR"><span class="hs-identifier hs-var">toEnum_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-701"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683090928"><span class="annot"><span class="annottext">to_word :: LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090928"><span class="hs-identifier hs-var hs-var">to_word</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#enumIntToWord_RDR"><span class="hs-identifier hs-var">enumIntToWord_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>            </span><span class="hs-comment">-- cast to Word to check both bounds (0,maxtag) with one comparison</span><span>
</span><span id="line-703"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#le_RDR"><span class="hs-identifier hs-var">le_RDR</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090928"><span class="hs-identifier hs-var">to_word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090928"><span class="hs-identifier hs-var">to_word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090919"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-704"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090918"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#toEnumError_RDR"><span class="hs-identifier hs-var">toEnumError_RDR</span></a></span><span>
</span><span id="line-706"></span><span>                       </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683090900"><span class="hs-identifier hs-var">occ_nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span>
</span><span id="line-708"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
-&gt; XExplicitTuple (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
[LHsExpr (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsTupleExpr"><span class="hs-identifier hs-var">mkLHsTupleExpr</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090919"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(EpaLocation, EpaLocation)
XExplicitTuple (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-709"></span><span>                       </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-710"></span><span>
</span><span id="line-711"></span><span>
</span><span id="line-712"></span><span>    </span><span id="local-6989586621683090894"><span class="annot"><span class="annottext">enum_from :: RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090894"><span class="hs-identifier hs-var hs-var">enum_from</span></a></span></span><span> </span><span id="local-6989586621683090932"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090932"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090933"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090933"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span>
</span><span id="line-713"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#enumFrom_RDR"><span class="hs-identifier hs-var">enumFrom_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-714"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-715"></span><span>          </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#map_RDR"><span class="hs-identifier hs-var">map_RDR</span></a></span><span>
</span><span id="line-716"></span><span>                </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090932"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-717"></span><span>                 </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#enum_from_to_Expr"><span class="hs-identifier hs-var">enum_from_to_Expr</span></a></span><span>
</span><span id="line-718"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-719"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090933"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span>    </span><span id="local-6989586621683090895"><span class="annot"><span class="annottext">enum_from_then :: RdrName -&gt; RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090895"><span class="hs-identifier hs-var hs-var">enum_from_then</span></a></span></span><span> </span><span id="local-6989586621683090937"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090937"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span id="local-6989586621683090938"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090938"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span>
</span><span id="line-722"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#enumFromThen_RDR"><span class="hs-identifier hs-var">enumFromThen_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-723"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-724"></span><span>          </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#map_RDR"><span class="hs-identifier hs-var">map_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090937"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-725"></span><span>            </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#enum_from_then_to_Expr"><span class="hs-identifier hs-var">enum_from_then_to_Expr</span></a></span><span>
</span><span id="line-726"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-727"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-728"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsIf"><span class="hs-identifier hs-var">nlHsIf</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#gt_RDR"><span class="hs-identifier hs-var">gt_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-729"></span><span>                                               </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090938"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>                           </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>
</span><span id="line-734"></span><span>    </span><span id="local-6989586621683090896"><span class="annot"><span class="annottext">from_enum :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090896"><span class="hs-identifier hs-var hs-var">from_enum</span></a></span></span><span>
</span><span id="line-735"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090881"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#fromEnum_RDR"><span class="hs-identifier hs-var">fromEnum_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-736"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-737"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Bounded instances
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Bounded_binds"><span class="hs-identifier hs-type">gen_Bounded_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-748"></span><span id="gen_Bounded_binds"><span class="annot"><span class="annottext">gen_Bounded_binds :: SrcSpan
-&gt; DerivInstTys -&gt; (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Bounded_binds"><span class="hs-identifier hs-var hs-var">gen_Bounded_binds</span></a></span></span><span> </span><span id="local-6989586621683090942"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090942"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090943"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090943"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isEnumerationTyCon"><span class="hs-identifier hs-var">isEnumerationTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090943"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-750"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090945"><span class="hs-identifier hs-var">min_bound_enum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090946"><span class="hs-identifier hs-var">max_bound_enum</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-751"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-752"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; ([GenLocated
       SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))],
    Bag AuxBindSpec)
-&gt; ([GenLocated
       SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))],
    Bag AuxBindSpec)
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
</span><a href="GHC.Utils.Misc.html#isSingleton"><span class="hs-identifier hs-var">isSingleton</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090948"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090949"><span class="hs-identifier hs-var">min_bound_1con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090950"><span class="hs-identifier hs-var">max_bound_1con</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-754"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-755"></span><span>    </span><span id="local-6989586621683090948"><span class="annot"><span class="annottext">data_cons :: [DataCon]
</span><a href="#local-6989586621683090948"><span class="hs-identifier hs-var hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090943"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span>    </span><span class="hs-comment">----- enum-flavored: ---------------------------</span><span>
</span><span id="line-758"></span><span>    </span><span id="local-6989586621683090945"><span class="annot"><span class="annottext">min_bound_enum :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090945"><span class="hs-identifier hs-var hs-var">min_bound_enum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090942"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#minBound_RDR"><span class="hs-identifier hs-var">minBound_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090954"><span class="hs-identifier hs-var">data_con_1_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-759"></span><span>    </span><span id="local-6989586621683090946"><span class="annot"><span class="annottext">max_bound_enum :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090946"><span class="hs-identifier hs-var hs-var">max_bound_enum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090942"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#maxBound_RDR"><span class="hs-identifier hs-var">maxBound_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090956"><span class="hs-identifier hs-var">data_con_N_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span>    </span><span id="local-6989586621683090957"><span class="annot"><span class="annottext">data_con_1 :: DataCon
</span><a href="#local-6989586621683090957"><span class="hs-identifier hs-var hs-var">data_con_1</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; DataCon
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="GHC.Prelude.Basic.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090948"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-762"></span><span>    </span><span id="local-6989586621683090959"><span class="annot"><span class="annottext">data_con_N :: DataCon
</span><a href="#local-6989586621683090959"><span class="hs-identifier hs-var hs-var">data_con_N</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; DataCon
forall a. HasCallStack =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683090948"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-763"></span><span>    </span><span id="local-6989586621683090954"><span class="annot"><span class="annottext">data_con_1_RDR :: RdrName
</span><a href="#local-6989586621683090954"><span class="hs-identifier hs-var hs-var">data_con_1_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090957"><span class="hs-identifier hs-var">data_con_1</span></a></span><span>
</span><span id="line-764"></span><span>    </span><span id="local-6989586621683090956"><span class="annot"><span class="annottext">data_con_N_RDR :: RdrName
</span><a href="#local-6989586621683090956"><span class="hs-identifier hs-var hs-var">data_con_N_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090959"><span class="hs-identifier hs-var">data_con_N</span></a></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span>    </span><span class="hs-comment">----- single-constructor-flavored: -------------</span><span>
</span><span id="line-767"></span><span>    </span><span id="local-6989586621683090961"><span class="annot"><span class="annottext">arity :: Int
</span><a href="#local-6989586621683090961"><span class="hs-identifier hs-var hs-var">arity</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683090957"><span class="hs-identifier hs-var">data_con_1</span></a></span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span>    </span><span id="local-6989586621683090949"><span class="annot"><span class="annottext">min_bound_1con :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090949"><span class="hs-identifier hs-var hs-var">min_bound_1con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090942"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#minBound_RDR"><span class="hs-identifier hs-var">minBound_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-770"></span><span>                     </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090954"><span class="hs-identifier hs-var">data_con_1_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; RdrName -&gt; [RdrName]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090961"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#minBound_RDR"><span class="hs-identifier hs-var">minBound_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span>    </span><span id="local-6989586621683090950"><span class="annot"><span class="annottext">max_bound_1con :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090950"><span class="hs-identifier hs-var hs-var">max_bound_1con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090942"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#maxBound_RDR"><span class="hs-identifier hs-var">maxBound_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-772"></span><span>                     </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090954"><span class="hs-identifier hs-var">data_con_1_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; RdrName -&gt; [RdrName]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683090961"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#maxBound_RDR"><span class="hs-identifier hs-var">maxBound_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Ix instances
*                                                                      *
************************************************************************

Deriving @Ix@ is only possible for enumeration types and
single-constructor types.  We deal with them in turn.

For an enumeration type, e.g.,
\begin{verbatim}
    data Foo ... = N1 | N2 | ... | Nn
\end{verbatim}
things go not too differently from @Enum@:
\begin{verbatim}
instance ... Ix (Foo ...) where
    range (a, b)
      = map tag2con_Foo [dataToTag# a .. dataToTag# b]

    -- or, really...
    range (a, b)
      = case (dataToTag# a) of { a# -&gt;
        case (dataToTag# b) of { b# -&gt;
        map tag2con_Foo (enumFromTo (I# a#) (I# b#))
        }}

    -- Generate code for unsafeIndex, because using index leads
    -- to lots of redundant range tests
    unsafeIndex c@(a, b) d
      = case (dataToTag# d -# dataToTag# a) of
               r# -&gt; I# r#

    inRange (a, b) c
      = let
            p_tag = dataToTag# c
        in
        p_tag &gt;= dataToTag# a &amp;&amp; p_tag &lt;= dataToTag# b

    -- or, really...
    inRange (a, b) c
      = case (dataToTag# a)   of { a_tag -&gt;
        case (dataToTag# b)   of { b_tag -&gt;
        case (dataToTag# c)   of { c_tag -&gt;
        if (c_tag &gt;=# a_tag) then
          c_tag &lt;=# b_tag
        else
          False
        }}}
\end{verbatim}
(modulo suitable case-ification to handle the unlifted tags)

For a single-constructor type (NB: this includes all tuples), e.g.,
\begin{verbatim}
    data Foo ... = MkFoo a b Int Double c c
\end{verbatim}
we follow the scheme given in Figure~19 of the Haskell~1.2 report
(p.~147).
-}</span><span>
</span><span id="line-833"></span><span>
</span><span id="line-834"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Ix_binds"><span class="hs-identifier hs-type">gen_Ix_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>
</span><span id="line-836"></span><span id="gen_Ix_binds"><span class="annot"><span class="annottext">gen_Ix_binds :: SrcSpan
-&gt; DerivInstTys
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Ix_binds"><span class="hs-identifier hs-var hs-var">gen_Ix_binds</span></a></span></span><span> </span><span id="local-6989586621683090963"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683090964"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090964"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-837"></span><span>    </span><span class="hs-comment">-- See Note [Auxiliary binders]</span><span>
</span><span id="line-838"></span><span>    </span><span id="local-6989586621683090965"><span class="annot"><a href="#local-6989586621683090965"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tag2con_rdr_name"><span class="hs-identifier hs-var">new_tag2con_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090964"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-839"></span><span>
</span><span id="line-840"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#isEnumerationTyCon"><span class="hs-identifier hs-type">isEnumerationTyCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090964"><span class="hs-identifier hs-type">tycon</span></a></span><span>
</span><span id="line-841"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683090966"><span class="hs-identifier hs-type">enum_ixes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090965"><span class="hs-identifier hs-type">tag2con_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#listToBag"><span class="hs-identifier hs-type">listToBag</span></a></span><span>
</span><span id="line-842"></span><span>                   </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-type">DerivTag2Con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090964"><span class="hs-identifier hs-type">tycon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683090965"><span class="hs-identifier hs-type">tag2con_RDR</span></a></span><span>
</span><span id="line-843"></span><span>                   </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683090967"><span class="hs-identifier hs-type">single_con_ixes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-type">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-845"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>    </span><span class="hs-comment">--------------------------------------------------------------</span><span>
</span><span id="line-847"></span><span>    </span><span id="local-6989586621683090966"><span class="annot"><span class="annottext">enum_ixes :: RdrName
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090966"><span class="hs-identifier hs-var hs-var">enum_ixes</span></a></span></span><span> </span><span id="local-6989586621683090968"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090968"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-848"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090969"><span class="hs-identifier hs-var">enum_range</span></a></span><span>   </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090968"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span>
</span><span id="line-849"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090970"><span class="hs-identifier hs-var">enum_index</span></a></span><span>
</span><span id="line-850"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090971"><span class="hs-identifier hs-var">enum_inRange</span></a></span><span>
</span><span id="line-851"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span>    </span><span id="local-6989586621683090969"><span class="annot"><span class="annottext">enum_range :: RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090969"><span class="hs-identifier hs-var hs-var">enum_range</span></a></span></span><span> </span><span id="local-6989586621683090972"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683090972"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span>
</span><span id="line-854"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#range_RDR"><span class="hs-identifier hs-var">range_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-855"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-856"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-857"></span><span>          </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#map_RDR"><span class="hs-identifier hs-var">map_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683090972"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-858"></span><span>              </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#enum_from_to_Expr"><span class="hs-identifier hs-var">enum_from_to_Expr</span></a></span><span>
</span><span id="line-859"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span>    </span><span id="local-6989586621683090970"><span class="annot"><span class="annottext">enum_index :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090970"><span class="hs-identifier hs-var hs-var">enum_index</span></a></span></span><span>
</span><span id="line-863"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#unsafeIndex_RDR"><span class="hs-identifier hs-var">unsafeIndex_RDR</span></a></span><span>
</span><span id="line-864"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Pat (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAsPat (GhcPass 'Parsed)
-&gt; LIdP (GhcPass 'Parsed)
-&gt; LPat (GhcPass 'Parsed)
-&gt; Pat (GhcPass 'Parsed)
forall p. XAsPat p -&gt; LIdP p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#AsPat"><span class="hs-identifier hs-var">AsPat</span></a></span><span> </span><span class="annot"><span class="annottext">XAsPat (GhcPass 'Parsed)
EpToken &quot;@&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-865"></span><span>                                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-866"></span><span>                                       </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#d_Pat"><span class="hs-identifier hs-var">d_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-867"></span><span>           </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-868"></span><span>           </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#d_RDR"><span class="hs-identifier hs-var">d_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dh_RDR"><span class="hs-identifier hs-var">dh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-869"></span><span>           </span><span class="hs-keyword">let</span><span>
</span><span id="line-870"></span><span>                </span><span id="local-6989586621683090989"><span class="annot"><span class="annottext">rhs :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683090989"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-871"></span><span>           </span><span class="hs-keyword">in</span><span>
</span><span id="line-872"></span><span>           </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span>
</span><span id="line-873"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dh_RDR"><span class="hs-identifier hs-var">dh_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#minusInt_RDR"><span class="hs-identifier hs-var">minusInt_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-874"></span><span>             </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683090989"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-875"></span><span>           </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-876"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-877"></span><span>
</span><span id="line-878"></span><span>    </span><span class="hs-comment">-- This produces something like `(ch &gt;= ah) &amp;&amp; (ch &lt;= bh)`</span><span>
</span><span id="line-879"></span><span>    </span><span id="local-6989586621683090971"><span class="annot"><span class="annottext">enum_inRange :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090971"><span class="hs-identifier hs-var hs-var">enum_inRange</span></a></span></span><span>
</span><span id="line-880"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#inRange_RDR"><span class="hs-identifier hs-var">inRange_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var">b_Pat</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#c_Pat"><span class="hs-identifier hs-var">c_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-881"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-882"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-883"></span><span>          </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ch_RDR"><span class="hs-identifier hs-var">ch_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-884"></span><span>          </span><span class="hs-comment">-- This used to use `if`, which interacts badly with RebindableSyntax.</span><span>
</span><span id="line-885"></span><span>          </span><span class="hs-comment">-- See #11396.</span><span>
</span><span id="line-886"></span><span>          </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#and_RDR"><span class="hs-identifier hs-var">and_RDR</span></a></span><span>
</span><span id="line-887"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ch_RDR"><span class="hs-identifier hs-var">ch_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt_RDR"><span class="hs-identifier hs-var">geInt_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var">ah_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-888"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ch_RDR"><span class="hs-identifier hs-var">ch_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt_RDR"><span class="hs-identifier hs-var">leInt_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var">bh_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-889"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-890"></span><span>          </span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-891"></span><span>
</span><span id="line-892"></span><span>    </span><span class="hs-comment">--------------------------------------------------------------</span><span>
</span><span id="line-893"></span><span>    </span><span id="local-6989586621683090967"><span class="annot"><span class="annottext">single_con_ixes :: [GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683090967"><span class="hs-identifier hs-var hs-var">single_con_ixes</span></a></span></span><span>
</span><span id="line-894"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090998"><span class="hs-identifier hs-var">single_con_range</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683090999"><span class="hs-identifier hs-var">single_con_index</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
GenLocated
  SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683091000"><span class="hs-identifier hs-var">single_con_inRange</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span>    </span><span id="local-6989586621683091001"><span class="annot"><span class="annottext">data_con :: DataCon
</span><a href="#local-6989586621683091001"><span class="hs-identifier hs-var hs-var">data_con</span></a></span></span><span>
</span><span id="line-897"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe DataCon
</span><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier hs-var">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683090964"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-comment">-- just checking...</span><span>
</span><span id="line-898"></span><span>          </span><span class="annot"><span class="annottext">Maybe DataCon
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; DataCon
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;get_Ix_binds&quot;</span></span><span>
</span><span id="line-899"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683091003"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091003"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091003"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span>    </span><span id="local-6989586621683091004"><span class="annot"><span class="annottext">con_arity :: Int
</span><a href="#local-6989586621683091004"><span class="hs-identifier hs-var hs-var">con_arity</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091001"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-902"></span><span>    </span><span id="local-6989586621683091005"><span class="annot"><span class="annottext">data_con_RDR :: RdrName
</span><a href="#local-6989586621683091005"><span class="hs-identifier hs-var hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091001"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-903"></span><span>
</span><span id="line-904"></span><span>    </span><span id="local-6989586621683091006"><span class="annot"><span class="annottext">as_needed :: [RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var hs-var">as_needed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091004"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-905"></span><span>    </span><span id="local-6989586621683091007"><span class="annot"><span class="annottext">bs_needed :: [RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var hs-var">bs_needed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091004"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var">bs_RDRs</span></a></span><span>
</span><span id="line-906"></span><span>    </span><span id="local-6989586621683091008"><span class="annot"><span class="annottext">cs_needed :: [RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var hs-var">cs_needed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091004"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#cs_RDRs"><span class="hs-identifier hs-var">cs_RDRs</span></a></span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span>    </span><span id="local-6989586621683091010"><span class="annot"><span class="annottext">con_pat :: [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var hs-var">con_pat</span></a></span></span><span>  </span><span id="local-6989586621683091011"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091011"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091005"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091011"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-909"></span><span>    </span><span id="local-6989586621683091012"><span class="annot"><span class="annottext">con_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091012"><span class="hs-identifier hs-var hs-var">con_expr</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091005"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP (GhcPass 'Parsed)]
[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span>
</span><span id="line-910"></span><span>
</span><span id="line-911"></span><span>    </span><span class="hs-comment">--------------------------------------------------------------</span><span>
</span><span id="line-912"></span><span>    </span><span id="local-6989586621683090998"><span class="annot"><span class="annottext">single_con_range :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090998"><span class="hs-identifier hs-var hs-var">single_con_range</span></a></span></span><span>
</span><span id="line-913"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#range_RDR"><span class="hs-identifier hs-var">range_RDR</span></a></span><span>
</span><span id="line-914"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-915"></span><span>        </span><span class="annot"><span class="annottext">HsExpr (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDoFlavour
-&gt; [ExprLStmt (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsComp"><span class="hs-identifier hs-var">mkHsComp</span></a></span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt (GhcPass 'Parsed)]
[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091015"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091012"><span class="hs-identifier hs-var">con_expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-917"></span><span>        </span><span id="local-6989586621683091015"><span class="annot"><span class="annottext">stmts :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091015"><span class="hs-identifier hs-var hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (RdrName
    -&gt; RdrName
    -&gt; RdrName
    -&gt; GenLocated
         SrcSpanAnnA
         (StmtLR
            (GhcPass 'Parsed)
            (GhcPass 'Parsed)
            (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; [RdrName]
-&gt; [RdrName]
-&gt; [RdrName]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a b c d.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]
</span><a href="GHC.Utils.Misc.html#zipWith3Equal"><span class="hs-identifier hs-var">zipWith3Equal</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;single_con_range&quot;</span></span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e}.
HasAnnotation e =&gt;
RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091016"><span class="hs-identifier hs-var">mk_qual</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span>        </span><span id="local-6989586621683091016"><span class="annot"><span class="annottext">mk_qual :: RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091016"><span class="hs-identifier hs-var hs-var">mk_qual</span></a></span></span><span> </span><span id="local-6989586621683091038"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091038"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683091039"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091039"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621683091040"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091040"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StmtLR
  (GhcPass 'Parsed)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(StmtLR
   (GhcPass 'Parsed)
   (GhcPass 'Parsed)
   (LocatedA (HsExpr (GhcPass 'Parsed)))
 -&gt; GenLocated
      e
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (bodyR :: * -&gt; *).
EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (bodyR (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (bodyR (GhcPass 'Parsed)))
</span><a href="GHC.Hs.Utils.html#mkPsBindStmt"><span class="hs-identifier hs-var">mkPsBindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091040"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-920"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#range_RDR"><span class="hs-identifier hs-var">range_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-921"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[IdP (GhcPass 'Parsed)]
-&gt; XExplicitTuple (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsVarTuple"><span class="hs-identifier hs-var">mkLHsVarTuple</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091038"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091039"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(EpaLocation, EpaLocation)
XExplicitTuple (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span>    </span><span class="hs-comment">----------------</span><span>
</span><span id="line-924"></span><span>    </span><span id="local-6989586621683090999"><span class="annot"><span class="annottext">single_con_index :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683090999"><span class="hs-identifier hs-var hs-var">single_con_index</span></a></span></span><span>
</span><span id="line-925"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#unsafeIndex_RDR"><span class="hs-identifier hs-var">unsafeIndex_RDR</span></a></span><span>
</span><span id="line-926"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-927"></span><span>                        </span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>        </span><span class="hs-comment">-- We need to reverse the order we consider the components in</span><span>
</span><span id="line-929"></span><span>        </span><span class="hs-comment">-- so that</span><span>
</span><span id="line-930"></span><span>        </span><span class="hs-comment">--     range (l,u) !! index (l,u) i == i   -- when i is in range</span><span>
</span><span id="line-931"></span><span>        </span><span class="hs-comment">-- (from http://haskell.org/onlinereport/ix.html) holds.</span><span>
</span><span id="line-932"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(RdrName, RdrName, RdrName)]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091043"><span class="hs-identifier hs-var">mk_index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(RdrName, RdrName, RdrName)] -&gt; [(RdrName, RdrName, RdrName)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([(RdrName, RdrName, RdrName)] -&gt; [(RdrName, RdrName, RdrName)])
-&gt; [(RdrName, RdrName, RdrName)] -&gt; [(RdrName, RdrName, RdrName)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
-&gt; [RdrName] -&gt; [RdrName] -&gt; [(RdrName, RdrName, RdrName)]
forall a b c. [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]
</span><span class="hs-identifier hs-var">zip3</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-934"></span><span>        </span><span class="hs-comment">-- index (l1,u1) i1 + rangeSize (l1,u1) * (index (l2,u2) i2 + ...)</span><span>
</span><span id="line-935"></span><span>        </span><span id="local-6989586621683091043"><span class="annot"><span class="annottext">mk_index :: [(RdrName, RdrName, RdrName)]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091043"><span class="hs-identifier hs-var hs-var">mk_index</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-936"></span><span>        </span><span class="annot"><a href="#local-6989586621683091043"><span class="hs-identifier hs-var">mk_index</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621683091064"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091064"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683091065"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091065"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683091066"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091066"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass}.
(IdGhcP p ~ RdrName, NoAnn (XExplicitTuple (GhcPass p)),
 IsPass p) =&gt;
RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091067"><span class="hs-identifier hs-var">mk_one</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091064"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091065"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091066"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-937"></span><span>        </span><span class="annot"><a href="#local-6989586621683091043"><span class="hs-identifier hs-var">mk_index</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621683091068"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091068"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683091069"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091069"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683091070"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091070"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683091071"><span class="annot"><span class="annottext">[(RdrName, RdrName, RdrName)]
</span><a href="#local-6989586621683091071"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-938"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-939"></span><span>                </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass}.
(IdGhcP p ~ RdrName, NoAnn (XExplicitTuple (GhcPass p)),
 IsPass p) =&gt;
RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091067"><span class="hs-identifier hs-var">mk_one</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091068"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091069"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091070"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-940"></span><span>            </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-941"></span><span>                </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-942"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#unsafeRangeSize_RDR"><span class="hs-identifier hs-var">unsafeRangeSize_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-943"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[IdP (GhcPass 'Parsed)]
-&gt; XExplicitTuple (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsVarTuple"><span class="hs-identifier hs-var">mkLHsVarTuple</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091068"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091069"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(EpaLocation, EpaLocation)
XExplicitTuple (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>                </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#times_RDR"><span class="hs-identifier hs-var">times_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(RdrName, RdrName, RdrName)]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091043"><span class="hs-identifier hs-var">mk_index</span></a></span><span> </span><span class="annot"><span class="annottext">[(RdrName, RdrName, RdrName)]
</span><a href="#local-6989586621683091071"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-946"></span><span>        </span><span id="local-6989586621683091067"><span class="annot"><span class="annottext">mk_one :: RdrName -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091067"><span class="hs-identifier hs-var hs-var">mk_one</span></a></span></span><span> </span><span id="local-6989586621683091106"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091106"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621683091107"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091107"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621683091108"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091108"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-947"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="GHC.Builtin.Names.html#unsafeIndex_RDR"><span class="hs-identifier hs-var">unsafeIndex_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsVarTuple"><span class="hs-identifier hs-var">mkLHsVarTuple</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091106"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091107"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">XExplicitTuple (GhcPass p)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091108"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span>    </span><span class="hs-comment">------------------</span><span>
</span><span id="line-950"></span><span>    </span><span id="local-6989586621683091000"><span class="annot"><span class="annottext">single_con_inRange :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091000"><span class="hs-identifier hs-var hs-var">single_con_inRange</span></a></span></span><span>
</span><span id="line-951"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683090963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#inRange_RDR"><span class="hs-identifier hs-var">inRange_RDR</span></a></span><span>
</span><span id="line-952"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[LPat (GhcPass 'Parsed)] -&gt; Boxity -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlTuplePat"><span class="hs-identifier hs-var">nlTuplePat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-953"></span><span>                         </span><span class="annot"><span class="annottext">[RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091010"><span class="hs-identifier hs-var">con_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsBind (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-954"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091004"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-955"></span><span>             </span><span class="hs-comment">-- If the product type has no fields, inRange is trivially true</span><span>
</span><span id="line-956"></span><span>             </span><span class="hs-comment">-- (see #12853).</span><span>
</span><span id="line-957"></span><span>             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var">true_Expr</span></a></span><span>
</span><span id="line-958"></span><span>             </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldl1</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#and_Expr"><span class="hs-identifier hs-var">and_Expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (RdrName
    -&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [RdrName]
-&gt; [RdrName]
-&gt; [RdrName]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b c d.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]
</span><a href="GHC.Utils.Misc.html#zipWith3Equal"><span class="hs-identifier hs-var">zipWith3Equal</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;single_con_inRange&quot;</span></span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass}.
(IdGhcP p ~ RdrName, NoAnn (XExplicitTuple (GhcPass p)),
 IsPass p) =&gt;
RdrName
-&gt; RdrName
-&gt; RdrName
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091110"><span class="hs-identifier hs-var">in_range</span></a></span><span>
</span><span id="line-959"></span><span>                    </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091006"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091007"><span class="hs-identifier hs-var">bs_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091008"><span class="hs-identifier hs-var">cs_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-961"></span><span>        </span><span id="local-6989586621683091110"><span class="annot"><span class="annottext">in_range :: RdrName -&gt; RdrName -&gt; RdrName -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091110"><span class="hs-identifier hs-var hs-var">in_range</span></a></span></span><span> </span><span id="local-6989586621683091141"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091141"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683091142"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091142"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621683091143"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091143"><span class="hs-identifier hs-var">c</span></a></span></span><span>
</span><span id="line-962"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="GHC.Builtin.Names.html#inRange_RDR"><span class="hs-identifier hs-var">inRange_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
[IdP (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsVarTuple"><span class="hs-identifier hs-var">mkLHsVarTuple</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091141"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091142"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">XExplicitTuple (GhcPass p)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
RdrName
</span><a href="#local-6989586621683091143"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-963"></span><span>
</span><span id="line-964"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Read instances
*                                                                      *
************************************************************************

Example

  infix 4 %%
  data T = Int %% Int
         | T1 { f1 :: Int }
         | T2 T

instance Read T where
  readPrec =
    parens
    ( prec 4 (
        do x &lt;- ReadP.step Read.readPrec
           expectP (Symbol &quot;%%&quot;)
           y &lt;- ReadP.step Read.readPrec
           return (x %% y))
      +++
      prec (appPrec+1) (
        -- Note the &quot;+1&quot; part; &quot;T2 T1 {f1=3}&quot; should parse ok
        -- Record construction binds even more tightly than application
        do expectP (Ident &quot;T1&quot;)
           expectP (Punc '{')
           x          &lt;- Read.readField &quot;f1&quot; (ReadP.reset readPrec)
           expectP (Punc '}')
           return (T1 { f1 = x }))
      +++
      prec appPrec (
        do expectP (Ident &quot;T2&quot;)
           x &lt;- ReadP.step Read.readPrec
           return (T2 x))
    )

  readListPrec = readListPrecDefault
  readList     = readListDefault


Note [Use expectP]
~~~~~~~~~~~~~~~~~~
Note that we use
   expectP (Ident &quot;T1&quot;)
rather than
   Ident &quot;T1&quot; &lt;- lexP
The latter desugares to inline code for matching the Ident and the
string, and this can be very voluminous. The former is much more
compact.  Cf #7258, although that also concerned non-linearity in
the occurrence analyser, a separate issue.

Note [Read for empty data types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
What should we get for this?  (#7931)
   data Emp deriving( Read )   -- No data constructors

Here we want
  read &quot;[]&quot; :: [Emp]   to succeed, returning []
So we do NOT want
   instance Read Emp where
     readPrec = error &quot;urk&quot;
Rather we want
   instance Read Emp where
     readPred = pfail   -- Same as choose []

Because 'pfail' allows the parser to backtrack, but 'error' doesn't.
These instances are also useful for Read (Either Int Emp), where
we want to be able to parse (Left 3) just fine.
-}</span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Read_binds"><span class="hs-identifier hs-type">gen_Read_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span>
</span><span id="line-1037"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span id="gen_Read_binds"><span class="annot"><span class="annottext">gen_Read_binds :: (Name -&gt; Fixity)
-&gt; SrcSpan
-&gt; DerivInstTys
-&gt; (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Read_binds"><span class="hs-identifier hs-var hs-var">gen_Read_binds</span></a></span></span><span> </span><span id="local-6989586621683091144"><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091144"><span class="hs-identifier hs-var">get_fixity</span></a></span></span><span> </span><span id="local-6989586621683091145"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091145"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683091146"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683091146"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091147"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091147"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1040"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091148"><span class="hs-identifier hs-var">read_prec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091149"><span class="hs-identifier hs-var">default_readlist</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091150"><span class="hs-identifier hs-var">default_readlistprec</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1041"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1042"></span><span>    </span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-1043"></span><span>    </span><span id="local-6989586621683091149"><span class="annot"><span class="annottext">default_readlist :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091149"><span class="hs-identifier hs-var hs-var">default_readlist</span></a></span></span><span>
</span><span id="line-1044"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091145"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#readList_RDR"><span class="hs-identifier hs-var">readList_RDR</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#readListDefault_RDR"><span class="hs-identifier hs-var">readListDefault_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span>
</span><span id="line-1046"></span><span>    </span><span id="local-6989586621683091150"><span class="annot"><span class="annottext">default_readlistprec :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091150"><span class="hs-identifier hs-var hs-var">default_readlistprec</span></a></span></span><span>
</span><span id="line-1047"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091145"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#readListPrec_RDR"><span class="hs-identifier hs-var">readListPrec_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#readListPrecDefault_RDR"><span class="hs-identifier hs-var">readListPrecDefault_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>    </span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-1049"></span><span>
</span><span id="line-1050"></span><span>    </span><span id="local-6989586621683091155"><span class="annot"><span class="annottext">data_cons :: [DataCon]
</span><a href="#local-6989586621683091155"><span class="hs-identifier hs-var hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091147"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-1051"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683091156"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091156"><span class="hs-identifier hs-var">nullary_cons</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091157"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091157"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Bool) -&gt; [DataCon] -&gt; ([DataCon], [DataCon])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isNullarySrcDataCon"><span class="hs-identifier hs-var">isNullarySrcDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091155"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-1052"></span><span>
</span><span id="line-1053"></span><span>    </span><span id="local-6989586621683091148"><span class="annot"><span class="annottext">read_prec :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091148"><span class="hs-identifier hs-var hs-var">read_prec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091145"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#readPrec_RDR"><span class="hs-identifier hs-var">readPrec_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091159"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1054"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1055"></span><span>        </span><span id="local-6989586621683091159"><span class="annot"><span class="annottext">rhs :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091159"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091155"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="hs-comment">-- See Note [Read for empty data types]</span><span>
</span><span id="line-1056"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#pfail_RDR"><span class="hs-identifier hs-var">pfail_RDR</span></a></span><span>
</span><span id="line-1057"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1058"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#parens_RDR"><span class="hs-identifier hs-var">parens_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1059"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091162"><span class="hs-identifier hs-var">mk_alt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091163"><span class="hs-identifier hs-var">read_nullary_cons</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-1060"></span><span>                                      </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091164"><span class="hs-identifier hs-var">read_non_nullary_cons</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span>    </span><span id="local-6989586621683091164"><span class="annot"><span class="annottext">read_non_nullary_cons :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091164"><span class="hs-identifier hs-var hs-var">read_non_nullary_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [DataCon] -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091165"><span class="hs-identifier hs-var">read_non_nullary_con</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091157"><span class="hs-identifier hs-var">non_nullary_cons</span></a></span><span>
</span><span id="line-1063"></span><span>
</span><span id="line-1064"></span><span>    </span><span id="local-6989586621683091163"><span class="annot"><span class="annottext">read_nullary_cons :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091163"><span class="hs-identifier hs-var hs-var">read_nullary_cons</span></a></span></span><span>
</span><span id="line-1065"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091156"><span class="hs-identifier hs-var">nullary_cons</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1066"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1067"></span><span>            </span><span class="hs-special">[</span><span id="local-6989586621683091166"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091166"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsDoFlavour
-&gt; [ExprLStmt (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsDo"><span class="hs-identifier hs-var">nlHsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall {a} {e} {idL :: Pass}.
(NamedThing a, HasAnnotation e) =&gt;
a
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091169"><span class="hs-identifier hs-var">match_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091166"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">StmtLR
  (GhcPass 'Parsed)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(StmtLR
   (GhcPass 'Parsed)
   (GhcPass 'Parsed)
   (LocatedA (HsExpr (GhcPass 'Parsed)))
 -&gt; GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (idR :: Pass) (bodyR :: * -&gt; *) (idL :: Pass).
IsPass idR =&gt;
LocatedA (bodyR (GhcPass idR))
-&gt; StmtLR
     (GhcPass idL) (GhcPass idR) (LocatedA (bodyR (GhcPass idR)))
</span><a href="GHC.Hs.Utils.html#mkLastStmt"><span class="hs-identifier hs-var">mkLastStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {id :: Pass} {thing}.
(IdGhcP id ~ RdrName, NamedThing thing, IsPass id) =&gt;
thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass id))
</span><a href="#local-6989586621683091171"><span class="hs-identifier hs-var">result_expr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091166"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1068"></span><span>            </span><span class="annot"><span class="annottext">[DataCon]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#choose_RDR"><span class="hs-identifier hs-var">choose_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1069"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlList"><span class="hs-identifier hs-var">nlList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [DataCon] -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass} {thing}.
(IdGhcP p ~ RdrName, NamedThing thing,
 NoAnn (XExplicitTuple (GhcPass p)), IsPass p) =&gt;
thing -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091174"><span class="hs-identifier hs-var">mk_pair</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091156"><span class="hs-identifier hs-var">nullary_cons</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1070"></span><span>        </span><span class="hs-comment">-- NB For operators the parens around (:=:) are matched by the</span><span>
</span><span id="line-1071"></span><span>        </span><span class="hs-comment">-- enclosing &quot;parens&quot; call, so here we must match the naked</span><span>
</span><span id="line-1072"></span><span>        </span><span class="hs-comment">-- data_con_str con</span><span>
</span><span id="line-1073"></span><span>
</span><span id="line-1074"></span><span>    </span><span id="local-6989586621683091169"><span class="annot"><span class="annottext">match_con :: a
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091169"><span class="hs-identifier hs-var hs-var">match_con</span></a></span></span><span> </span><span id="local-6989586621683091180"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683091180"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091182"><span class="hs-identifier hs-var">con_str</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091183"><span class="hs-identifier hs-var">symbol_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091182"><span class="hs-identifier hs-var">con_str</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1075"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091184"><span class="hs-identifier hs-var">ident_h_pat</span></a></span><span>  </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091182"><span class="hs-identifier hs-var">con_str</span></a></span><span>
</span><span id="line-1076"></span><span>                  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1077"></span><span>                    </span><span id="local-6989586621683091182"><span class="annot"><span class="annottext">con_str :: String
</span><a href="#local-6989586621683091182"><span class="hs-identifier hs-var hs-var">con_str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="#local-6989586621683091185"><span class="hs-identifier hs-var">data_con_str</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683091180"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-1078"></span><span>        </span><span class="hs-comment">-- For nullary constructors we must match Ident s for normal constrs</span><span>
</span><span id="line-1079"></span><span>        </span><span class="hs-comment">-- and   Symbol s   for operators</span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span>    </span><span id="local-6989586621683091174"><span class="annot"><span class="annottext">mk_pair :: thing -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091174"><span class="hs-identifier hs-var hs-var">mk_pair</span></a></span></span><span> </span><span id="local-6989586621683091210"><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091210"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass).
[LHsExpr (GhcPass p)]
-&gt; XExplicitTuple (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkLHsTupleExpr"><span class="hs-identifier hs-var">mkLHsTupleExpr</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass p)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">thing -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="#local-6989586621683091185"><span class="hs-identifier hs-var">data_con_str</span></a></span><span> </span><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091210"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1082"></span><span>                                  </span><span class="annot"><span class="annottext">thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
forall {id :: Pass} {thing}.
(IdGhcP id ~ RdrName, NamedThing thing, IsPass id) =&gt;
thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass id))
</span><a href="#local-6989586621683091171"><span class="hs-identifier hs-var">result_expr</span></a></span><span> </span><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091210"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">XExplicitTuple (GhcPass p)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span>    </span><span id="local-6989586621683091165"><span class="annot"><span class="annottext">read_non_nullary_con :: DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091165"><span class="hs-identifier hs-var hs-var">read_non_nullary_con</span></a></span></span><span> </span><span id="local-6989586621683091211"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-1085"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091212"><span class="hs-identifier hs-var">is_infix</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091213"><span class="hs-identifier hs-var">mk_parser</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091214"><span class="hs-identifier hs-var">infix_prec</span></a></span><span>  </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091215"><span class="hs-identifier hs-var">infix_stmts</span></a></span><span>  </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091216"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1086"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091217"><span class="hs-identifier hs-var">is_record</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091213"><span class="hs-identifier hs-var">mk_parser</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091218"><span class="hs-identifier hs-var">record_prec</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091219"><span class="hs-identifier hs-var">record_stmts</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091216"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1087"></span><span class="hs-comment">--              Using these two lines instead allows the derived</span><span>
</span><span id="line-1088"></span><span class="hs-comment">--              read for infix and record bindings to read the prefix form</span><span>
</span><span id="line-1089"></span><span class="hs-comment">--      | is_infix  = mk_alt prefix_parser (mk_parser infix_prec  infix_stmts  body)</span><span>
</span><span id="line-1090"></span><span class="hs-comment">--      | is_record = mk_alt prefix_parser (mk_parser record_prec record_stmts body)</span><span>
</span><span id="line-1091"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091220"><span class="hs-identifier hs-var">prefix_parser</span></a></span><span>
</span><span id="line-1092"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1093"></span><span>        </span><span id="local-6989586621683091216"><span class="annot"><span class="annottext">body :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091216"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [RdrName] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {id :: Pass} {thing}.
(IdGhcP id ~ RdrName, NamedThing thing, IsPass id) =&gt;
thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass id))
</span><a href="#local-6989586621683091171"><span class="hs-identifier hs-var">result_expr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091221"><span class="hs-identifier hs-var">as_needed</span></a></span><span>
</span><span id="line-1094"></span><span>        </span><span id="local-6989586621683091222"><span class="annot"><span class="annottext">con_str :: String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var hs-var">con_str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="#local-6989586621683091185"><span class="hs-identifier hs-var">data_con_str</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span>        </span><span id="local-6989586621683091220"><span class="annot"><span class="annottext">prefix_parser :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091220"><span class="hs-identifier hs-var hs-var">prefix_parser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091213"><span class="hs-identifier hs-var">mk_parser</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091223"><span class="hs-identifier hs-var">prefix_prec</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091224"><span class="hs-identifier hs-var">prefix_stmts</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091216"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1097"></span><span>
</span><span id="line-1098"></span><span>        </span><span id="local-6989586621683091225"><span class="annot"><span class="annottext">read_prefix_con :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091225"><span class="hs-identifier hs-var hs-var">read_prefix_con</span></a></span></span><span>
</span><span id="line-1099"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091183"><span class="hs-identifier hs-var">symbol_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1100"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091184"><span class="hs-identifier hs-var">ident_h_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span>        </span><span id="local-6989586621683091227"><span class="annot"><span class="annottext">read_infix_con :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091227"><span class="hs-identifier hs-var hs-var">read_infix_con</span></a></span></span><span>
</span><span id="line-1103"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091183"><span class="hs-identifier hs-var">symbol_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1104"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;`&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091184"><span class="hs-identifier hs-var">ident_h_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091222"><span class="hs-identifier hs-var">con_str</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;`&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1105"></span><span>
</span><span id="line-1106"></span><span>        </span><span id="local-6989586621683091224"><span class="annot"><span class="annottext">prefix_stmts :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091224"><span class="hs-identifier hs-var hs-var">prefix_stmts</span></a></span></span><span>            </span><span class="hs-comment">-- T a b c</span><span>
</span><span id="line-1107"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091225"><span class="hs-identifier hs-var">read_prefix_con</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091228"><span class="hs-identifier hs-var">read_args</span></a></span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span>        </span><span id="local-6989586621683091215"><span class="annot"><span class="annottext">infix_stmts :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091215"><span class="hs-identifier hs-var hs-var">infix_stmts</span></a></span></span><span>             </span><span class="hs-comment">-- a %% b, or  a `T` b</span><span>
</span><span id="line-1110"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091229"><span class="hs-identifier hs-var">read_a1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1111"></span><span>            </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091227"><span class="hs-identifier hs-var">read_infix_con</span></a></span><span>
</span><span id="line-1112"></span><span>            </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091230"><span class="hs-identifier hs-var">read_a2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span>        </span><span id="local-6989586621683091219"><span class="annot"><span class="annottext">record_stmts :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091219"><span class="hs-identifier hs-var hs-var">record_stmts</span></a></span></span><span>            </span><span class="hs-comment">-- T { f1 = a, f2 = b }</span><span>
</span><span id="line-1115"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091225"><span class="hs-identifier hs-var">read_prefix_con</span></a></span><span>
</span><span id="line-1116"></span><span>            </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1117"></span><span>            </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[[GenLocated
    SrcSpanAnnA
    (StmtLR
       (GhcPass 'Parsed)
       (GhcPass 'Parsed)
       (LocatedA (HsExpr (GhcPass 'Parsed))))]]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [[GenLocated
       SrcSpanAnnA
       (StmtLR
          (GhcPass 'Parsed)
          (GhcPass 'Parsed)
          (LocatedA (HsExpr (GhcPass 'Parsed))))]]
-&gt; [[GenLocated
       SrcSpanAnnA
       (StmtLR
          (GhcPass 'Parsed)
          (GhcPass 'Parsed)
          (LocatedA (HsExpr (GhcPass 'Parsed))))]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;,&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[[GenLocated
    SrcSpanAnnA
    (StmtLR
       (GhcPass 'Parsed)
       (GhcPass 'Parsed)
       (LocatedA (HsExpr (GhcPass 'Parsed))))]]
</span><a href="#local-6989586621683091232"><span class="hs-identifier hs-var">field_stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1118"></span><span>            </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var">read_punc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;}&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span>        </span><span id="local-6989586621683091232"><span class="annot"><span class="annottext">field_stmts :: [[GenLocated
    SrcSpanAnnA
    (StmtLR
       (GhcPass 'Parsed)
       (GhcPass 'Parsed)
       (LocatedA (HsExpr (GhcPass 'Parsed))))]]
</span><a href="#local-6989586621683091232"><span class="hs-identifier hs-var hs-var">field_stmts</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (FastString
    -&gt; RdrName
    -&gt; [GenLocated
          SrcSpanAnnA
          (StmtLR
             (GhcPass 'Parsed)
             (GhcPass 'Parsed)
             (LocatedA (HsExpr (GhcPass 'Parsed))))])
-&gt; [FastString]
-&gt; [RdrName]
-&gt; [[GenLocated
       SrcSpanAnnA
       (StmtLR
          (GhcPass 'Parsed)
          (GhcPass 'Parsed)
          (LocatedA (HsExpr (GhcPass 'Parsed))))]]
forall a b c.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><a href="GHC.Utils.Misc.html#zipWithEqual"><span class="hs-identifier hs-var">zipWithEqual</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lbl_stmts&quot;</span></span><span> </span><span class="annot"><span class="annottext">FastString
-&gt; RdrName
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall {e}.
HasAnnotation e =&gt;
FastString
-&gt; RdrName
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091234"><span class="hs-identifier hs-var">read_field</span></a></span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621683091235"><span class="hs-identifier hs-var">labels</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091221"><span class="hs-identifier hs-var">as_needed</span></a></span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span>        </span><span id="local-6989586621683091236"><span class="annot"><span class="annottext">con_arity :: Int
</span><a href="#local-6989586621683091236"><span class="hs-identifier hs-var hs-var">con_arity</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1123"></span><span>        </span><span id="local-6989586621683091235"><span class="annot"><span class="annottext">labels :: [FastString]
</span><a href="#local-6989586621683091235"><span class="hs-identifier hs-var hs-var">labels</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldLabel -&gt; FastString) -&gt; [FieldLabel] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLabelString -&gt; FastString
</span><a href="Language.Haskell.Syntax.Basic.html#field_label"><span class="hs-identifier hs-var">field_label</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLabelString -&gt; FastString)
-&gt; (FieldLabel -&gt; FieldLabelString) -&gt; FieldLabel -&gt; FastString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldLabel -&gt; FieldLabelString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([FieldLabel] -&gt; [FastString]) -&gt; [FieldLabel] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [FieldLabel]
</span><a href="GHC.Core.DataCon.html#dataConFieldLabels"><span class="hs-identifier hs-var">dataConFieldLabels</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1124"></span><span>        </span><span id="local-6989586621683091240"><span class="annot"><span class="annottext">dc_nm :: Name
</span><a href="#local-6989586621683091240"><span class="hs-identifier hs-var hs-var">dc_nm</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1125"></span><span>        </span><span id="local-6989586621683091212"><span class="annot"><span class="annottext">is_infix :: Bool
</span><a href="#local-6989586621683091212"><span class="hs-identifier hs-var hs-var">is_infix</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#dataConIsInfix"><span class="hs-identifier hs-var">dataConIsInfix</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1126"></span><span>        </span><span id="local-6989586621683091217"><span class="annot"><span class="annottext">is_record :: Bool
</span><a href="#local-6989586621683091217"><span class="hs-identifier hs-var hs-var">is_record</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621683091235"><span class="hs-identifier hs-var">labels</span></a></span><span> </span><span class="annot"><span class="annottext">[FastString] -&gt; Int -&gt; Bool
forall a. [a] -&gt; Int -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthExceeds"><span class="hs-operator hs-var">`lengthExceeds`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1127"></span><span>        </span><span id="local-6989586621683091221"><span class="annot"><span class="annottext">as_needed :: [RdrName]
</span><a href="#local-6989586621683091221"><span class="hs-identifier hs-var hs-var">as_needed</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091236"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-1128"></span><span>        </span><span id="local-6989586621683091228"><span class="annot"><span class="annottext">read_args :: [GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091228"><span class="hs-identifier hs-var hs-var">read_args</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (RdrName
    -&gt; Type
    -&gt; GenLocated
         SrcSpanAnnA
         (StmtLR
            (GhcPass 'Parsed)
            (GhcPass 'Parsed)
            (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; [RdrName]
-&gt; [Type]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a b c.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><a href="GHC.Utils.Misc.html#zipWithEqual"><span class="hs-identifier hs-var">zipWithEqual</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gen_Read_binds&quot;</span></span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; Type
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e}.
HasAnnotation e =&gt;
RdrName
-&gt; Type
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091244"><span class="hs-identifier hs-var">read_arg</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091221"><span class="hs-identifier hs-var">as_needed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-var">derivDataConInstArgTys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091211"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683091146"><span class="hs-identifier hs-var">dit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1129"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621683091229"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091229"><span class="hs-identifier hs-var">read_a1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683091230"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091230"><span class="hs-identifier hs-var">read_a2</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091228"><span class="hs-identifier hs-var">read_args</span></a></span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span>        </span><span id="local-6989586621683091223"><span class="annot"><span class="annottext">prefix_prec :: Integer
</span><a href="#local-6989586621683091223"><span class="hs-identifier hs-var hs-var">prefix_prec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="GHC.Tc.Deriv.Generate.html#appPrecedence"><span class="hs-identifier hs-var">appPrecedence</span></a></span><span>
</span><span id="line-1132"></span><span>        </span><span id="local-6989586621683091214"><span class="annot"><span class="annottext">infix_prec :: Integer
</span><a href="#local-6989586621683091214"><span class="hs-identifier hs-var hs-var">infix_prec</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Fixity) -&gt; Name -&gt; Integer
</span><a href="GHC.Tc.Deriv.Generate.html#getPrecedence"><span class="hs-identifier hs-var">getPrecedence</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091144"><span class="hs-identifier hs-var">get_fixity</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091240"><span class="hs-identifier hs-var">dc_nm</span></a></span><span>
</span><span id="line-1133"></span><span>        </span><span id="local-6989586621683091218"><span class="annot"><span class="annottext">record_prec :: Integer
</span><a href="#local-6989586621683091218"><span class="hs-identifier hs-var hs-var">record_prec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="GHC.Tc.Deriv.Generate.html#appPrecedence"><span class="hs-identifier hs-var">appPrecedence</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- Record construction binds even more tightly</span><span>
</span><span id="line-1134"></span><span>                                        </span><span class="hs-comment">-- than application; e.g. T2 T1 {x=2} means T2 (T1 {x=2})</span><span>
</span><span id="line-1135"></span><span>
</span><span id="line-1136"></span><span>    </span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-1137"></span><span>    </span><span class="hs-comment">--          Helpers</span><span>
</span><span id="line-1138"></span><span>    </span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-1139"></span><span>    </span><span id="local-6989586621683091162"><span class="annot"><span class="annottext">mk_alt :: LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091162"><span class="hs-identifier hs-var hs-var">mk_alt</span></a></span></span><span> </span><span id="local-6989586621683091249"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091249"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683091250"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091250"><span class="hs-identifier hs-var">e2</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091249"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#alt_RDR"><span class="hs-identifier hs-var">alt_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091250"><span class="hs-identifier hs-var">e2</span></a></span><span>                         </span><span class="hs-comment">-- e1 +++ e2</span><span>
</span><span id="line-1140"></span><span>    </span><span id="local-6989586621683091213"><span class="annot"><span class="annottext">mk_parser :: Integer
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091213"><span class="hs-identifier hs-var hs-var">mk_parser</span></a></span></span><span> </span><span id="local-6989586621683091260"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091260"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621683091261"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091261"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span id="local-6989586621683091262"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091262"><span class="hs-identifier hs-var">b</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#prec_RDR"><span class="hs-identifier hs-var">prec_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091260"><span class="hs-identifier hs-var">p</span></a></span><span>                </span><span class="hs-comment">-- prec p (do { ss ; b })</span><span>
</span><span id="line-1141"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
-&gt; [ExprLStmt (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsDo"><span class="hs-identifier hs-var">nlHsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091261"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">StmtLR
  (GhcPass 'Parsed)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(StmtLR
   (GhcPass 'Parsed)
   (GhcPass 'Parsed)
   (LocatedA (HsExpr (GhcPass 'Parsed)))
 -&gt; GenLocated
      SrcSpanAnnA
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (idR :: Pass) (bodyR :: * -&gt; *) (idL :: Pass).
IsPass idR =&gt;
LocatedA (bodyR (GhcPass idR))
-&gt; StmtLR
     (GhcPass idL) (GhcPass idR) (LocatedA (bodyR (GhcPass idR)))
</span><a href="GHC.Hs.Utils.html#mkLastStmt"><span class="hs-identifier hs-var">mkLastStmt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091262"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1142"></span><span>    </span><span id="local-6989586621683091286"><span class="annot"><span class="annottext">con_app :: thing -&gt; [RdrName] -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091286"><span class="hs-identifier hs-var hs-var">con_app</span></a></span></span><span> </span><span id="local-6989586621683091287"><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091287"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621683091288"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091288"><span class="hs-keyword hs-var">as</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">thing -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091287"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[IdP (GhcPass p)]
[RdrName]
</span><a href="#local-6989586621683091288"><span class="hs-keyword hs-var">as</span></a></span><span>                </span><span class="hs-comment">-- con as</span><span>
</span><span id="line-1143"></span><span>    </span><span id="local-6989586621683091171"><span class="annot"><span class="annottext">result_expr :: thing -&gt; [RdrName] -&gt; LHsExpr (GhcPass id)
</span><a href="#local-6989586621683091171"><span class="hs-identifier hs-var hs-var">result_expr</span></a></span></span><span> </span><span id="local-6989586621683091313"><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091313"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621683091314"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091314"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass id) -&gt; LHsExpr (GhcPass id)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass id)
RdrName
</span><a href="GHC.Builtin.Names.html#returnM_RDR"><span class="hs-identifier hs-var">returnM_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass id))
forall {id :: Pass} {thing}.
(IdGhcP id ~ RdrName, NamedThing thing, IsPass id) =&gt;
thing -&gt; [RdrName] -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass id))
</span><a href="#local-6989586621683091286"><span class="hs-identifier hs-var">con_app</span></a></span><span> </span><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621683091313"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091314"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- return (con as)</span><span>
</span><span id="line-1144"></span><span>
</span><span id="line-1145"></span><span>    </span><span class="hs-comment">-- For constructors and field labels ending in '#', we hackily</span><span>
</span><span id="line-1146"></span><span>    </span><span class="hs-comment">-- let the lexer generate two tokens, and look for both in sequence</span><span>
</span><span id="line-1147"></span><span>    </span><span class="hs-comment">-- Thus [Ident &quot;I&quot;; Symbol &quot;#&quot;].  See #5041</span><span>
</span><span id="line-1148"></span><span>    </span><span id="local-6989586621683091184"><span class="annot"><span class="annottext">ident_h_pat :: String
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091184"><span class="hs-identifier hs-var hs-var">ident_h_pat</span></a></span></span><span> </span><span id="local-6989586621683091320"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091320"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683091321"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091321"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'#'</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe (String, Char)
forall a. [a] -&gt; Maybe ([a], a)
</span><a href="GHC.Utils.Misc.html#snocView"><span class="hs-identifier hs-var">snocView</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091320"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091323"><span class="hs-identifier hs-var">ident_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091321"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091183"><span class="hs-identifier hs-var">symbol_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1149"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091323"><span class="hs-identifier hs-var">ident_pat</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091320"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span>    </span><span id="local-6989586621683091331"><span class="annot"><span class="annottext">bindLex :: LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091331"><span class="hs-identifier hs-var hs-var">bindLex</span></a></span></span><span> </span><span id="local-6989586621683091332"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091332"><span class="hs-identifier hs-var">pat</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StmtLR
  (GhcPass idL)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass idL)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (bodyR :: * -&gt; *) (idL :: Pass).
LocatedA (bodyR (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass idL)
     (GhcPass 'Parsed)
     (LocatedA (bodyR (GhcPass 'Parsed)))
</span><a href="GHC.Hs.Utils.html#mkBodyStmt"><span class="hs-identifier hs-var">mkBodyStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#expectP_RDR"><span class="hs-identifier hs-var">expectP_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091332"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- expectP p</span><span>
</span><span id="line-1152"></span><span>                   </span><span class="hs-comment">-- See Note [Use expectP]</span><span>
</span><span id="line-1153"></span><span>    </span><span id="local-6989586621683091323"><span class="annot"><span class="annottext">ident_pat :: String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091323"><span class="hs-identifier hs-var hs-var">ident_pat</span></a></span></span><span>  </span><span id="local-6989586621683091342"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091342"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091331"><span class="hs-identifier hs-var">bindLex</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#ident_RDR"><span class="hs-identifier hs-var">ident_RDR</span></a></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091342"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- expectP (Ident &quot;foo&quot;)</span><span>
</span><span id="line-1154"></span><span>    </span><span id="local-6989586621683091183"><span class="annot"><span class="annottext">symbol_pat :: String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091183"><span class="hs-identifier hs-var hs-var">symbol_pat</span></a></span></span><span> </span><span id="local-6989586621683091351"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091351"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091331"><span class="hs-identifier hs-var">bindLex</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#symbol_RDR"><span class="hs-identifier hs-var">symbol_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091351"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- expectP (Symbol &quot;&gt;&gt;&quot;)</span><span>
</span><span id="line-1155"></span><span>    </span><span id="local-6989586621683091226"><span class="annot"><span class="annottext">read_punc :: String
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091226"><span class="hs-identifier hs-var hs-var">read_punc</span></a></span></span><span> </span><span id="local-6989586621683091360"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091360"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall {e} {idL :: Pass}.
HasAnnotation e =&gt;
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091331"><span class="hs-identifier hs-var">bindLex</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; GenLocated
      e
      (StmtLR
         (GhcPass idL)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass idL)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#punc_RDR"><span class="hs-identifier hs-var">punc_RDR</span></a></span><span>   </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091360"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- expectP (Punc &quot;&lt;&quot;)</span><span>
</span><span id="line-1156"></span><span>
</span><span id="line-1157"></span><span>    </span><span id="local-6989586621683091185"><span class="annot"><span class="annottext">data_con_str :: a -&gt; String
</span><a href="#local-6989586621683091185"><span class="hs-identifier hs-var hs-var">data_con_str</span></a></span></span><span> </span><span id="local-6989586621683091364"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683091364"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683091364"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1158"></span><span>
</span><span id="line-1159"></span><span>    </span><span id="local-6989586621683091244"><span class="annot"><span class="annottext">read_arg :: RdrName
-&gt; Type
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091244"><span class="hs-identifier hs-var hs-var">read_arg</span></a></span></span><span> </span><span id="local-6989586621683091382"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091382"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683091383"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091383"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Bool
Type -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091383"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   e
   (StmtLR
      (GhcPass 'Parsed)
      (GhcPass 'Parsed)
      (LocatedA (HsExpr (GhcPass 'Parsed))))
 -&gt; GenLocated
      e
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1160"></span><span>                    </span><span class="annot"><span class="annottext">StmtLR
  (GhcPass 'Parsed)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (bodyR :: * -&gt; *).
EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (bodyR (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (bodyR (GhcPass 'Parsed)))
</span><a href="GHC.Hs.Utils.html#mkPsBindStmt"><span class="hs-identifier hs-var">mkPsBindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091382"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#step_RDR"><span class="hs-identifier hs-var">step_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#readPrec_RDR"><span class="hs-identifier hs-var">readPrec_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1161"></span><span>
</span><span id="line-1162"></span><span>    </span><span class="hs-comment">-- When reading field labels we might encounter</span><span>
</span><span id="line-1163"></span><span>    </span><span class="hs-comment">--      a  = 3</span><span>
</span><span id="line-1164"></span><span>    </span><span class="hs-comment">--      _a = 3</span><span>
</span><span id="line-1165"></span><span>    </span><span class="hs-comment">-- or   (#) = 4</span><span>
</span><span id="line-1166"></span><span>    </span><span class="hs-comment">-- Note the parens!</span><span>
</span><span id="line-1167"></span><span>    </span><span id="local-6989586621683091234"><span class="annot"><span class="annottext">read_field :: FastString
-&gt; RdrName
-&gt; [GenLocated
      e
      (StmtLR
         (GhcPass 'Parsed)
         (GhcPass 'Parsed)
         (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683091234"><span class="hs-identifier hs-var hs-var">read_field</span></a></span></span><span> </span><span id="local-6989586621683091408"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091408"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621683091409"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091409"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1168"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">StmtLR
  (GhcPass 'Parsed)
  (GhcPass 'Parsed)
  (LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; GenLocated
     e
     (StmtLR
        (GhcPass 'Parsed)
        (GhcPass 'Parsed)
        (LocatedA (HsExpr (GhcPass 'Parsed))))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span>
</span><span id="line-1169"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (bodyR :: * -&gt; *).
EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
-&gt; LPat (GhcPass 'Parsed)
-&gt; LocatedA (bodyR (GhcPass 'Parsed))
-&gt; StmtLR
     (GhcPass 'Parsed)
     (GhcPass 'Parsed)
     (LocatedA (bodyR (GhcPass 'Parsed)))
</span><a href="GHC.Hs.Utils.html#mkPsBindStmt"><span class="hs-identifier hs-var">mkPsBindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">EpUniToken &quot;&lt;-&quot; &quot;\8592&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1170"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091409"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1171"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span>
</span><span id="line-1172"></span><span>              </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091410"><span class="hs-identifier hs-var">read_field</span></a></span><span>
</span><span id="line-1173"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#reset_RDR"><span class="hs-identifier hs-var">reset_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#readPrec_RDR"><span class="hs-identifier hs-var">readPrec_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1174"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1175"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1176"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1177"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-1178"></span><span>          </span><span id="local-6989586621683091412"><span class="annot"><span class="annottext">lbl_str :: String
</span><a href="#local-6989586621683091412"><span class="hs-identifier hs-var hs-var">lbl_str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091408"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1179"></span><span>          </span><span id="local-6989586621683091434"><span class="annot"><span class="annottext">mk_read_field :: IdGhcP p -&gt; FastString -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091434"><span class="hs-identifier hs-var hs-var">mk_read_field</span></a></span></span><span> </span><span id="local-6989586621683091435"><span class="annot"><span class="annottext">IdGhcP p
</span><a href="#local-6989586621683091435"><span class="hs-identifier hs-var">read_field_rdr</span></a></span></span><span> </span><span id="local-6989586621683091436"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091436"><span class="hs-identifier hs-var">lbl</span></a></span></span><span>
</span><span id="line-1180"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
IdGhcP p
</span><a href="#local-6989586621683091435"><span class="hs-identifier hs-var">read_field_rdr</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; HsLit (GhcPass p)
forall (p :: Pass). FastString -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsStringFS"><span class="hs-identifier hs-var">mkHsStringFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091436"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1181"></span><span>          </span><span id="local-6989586621683091410"><span class="annot"><span class="annottext">read_field :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091410"><span class="hs-identifier hs-var hs-var">read_field</span></a></span></span><span>
</span><span id="line-1182"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091412"><span class="hs-identifier hs-var">lbl_str</span></a></span><span>
</span><span id="line-1183"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdGhcP 'Parsed -&gt; FastString -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass} {a}.
(Anno (IdGhcP p) ~ EpAnn a, NoAnn a, IsPass p) =&gt;
IdGhcP p
-&gt; FastString -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091434"><span class="hs-identifier hs-var">mk_read_field</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdGhcP 'Parsed
</span><a href="GHC.Builtin.Names.html#readSymField_RDR"><span class="hs-identifier hs-var">readSymField_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091408"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1184"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683091439"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091439"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'#'</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe (String, Char)
forall a. [a] -&gt; Maybe ([a], a)
</span><a href="GHC.Utils.Misc.html#snocView"><span class="hs-identifier hs-var">snocView</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091412"><span class="hs-identifier hs-var">lbl_str</span></a></span><span> </span><span class="hs-comment">-- #14918</span><span>
</span><span id="line-1185"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdGhcP 'Parsed -&gt; FastString -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass} {a}.
(Anno (IdGhcP p) ~ EpAnn a, NoAnn a, IsPass p) =&gt;
IdGhcP p
-&gt; FastString -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091434"><span class="hs-identifier hs-var">mk_read_field</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdGhcP 'Parsed
</span><a href="GHC.Builtin.Names.html#readFieldHash_RDR"><span class="hs-identifier hs-var">readFieldHash_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091439"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1186"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1187"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdGhcP 'Parsed -&gt; FastString -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass} {a}.
(Anno (IdGhcP p) ~ EpAnn a, NoAnn a, IsPass p) =&gt;
IdGhcP p
-&gt; FastString -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091434"><span class="hs-identifier hs-var">mk_read_field</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdGhcP 'Parsed
</span><a href="GHC.Builtin.Names.html#readField_RDR"><span class="hs-identifier hs-var">readField_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091408"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1188"></span><span>
</span><span id="line-1189"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Show instances
*                                                                      *
************************************************************************

Example

    infixr 5 :^:

    data Tree a =  Leaf a  |  Tree a :^: Tree a

    instance (Show a) =&gt; Show (Tree a) where

        showsPrec d (Leaf m) = showParen (d &gt; app_prec) showStr
          where
             showStr = showString &quot;Leaf &quot; . showsPrec (app_prec+1) m

        showsPrec d (u :^: v) = showParen (d &gt; up_prec) showStr
          where
             showStr = showsPrec (up_prec+1) u .
                       showString &quot; :^: &quot;      .
                       showsPrec (up_prec+1) v
                -- Note: right-associativity of :^: ignored

    up_prec  = 5    -- Precedence of :^:
    app_prec = 10   -- Application has precedence one more than
                    -- the most tightly-binding operator
-}</span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Show_binds"><span class="hs-identifier hs-type">gen_Show_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span>
</span><span id="line-1221"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1222"></span><span>
</span><span id="line-1223"></span><span id="gen_Show_binds"><span class="annot"><span class="annottext">gen_Show_binds :: (Name -&gt; Fixity)
-&gt; SrcSpan
-&gt; DerivInstTys
-&gt; (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Show_binds"><span class="hs-identifier hs-var hs-var">gen_Show_binds</span></a></span></span><span> </span><span id="local-6989586621683091443"><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091443"><span class="hs-identifier hs-var">get_fixity</span></a></span></span><span> </span><span id="local-6989586621683091444"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091444"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683091445"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683091445"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091446"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091446"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>
</span><span id="line-1224"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091447"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091447"><span class="hs-identifier hs-var">tycon_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1225"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091448"><span class="hs-identifier hs-var">shows_prec</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1226"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1227"></span><span>    </span><span id="local-6989586621683091449"><span class="annot"><span class="annottext">data_cons :: [DataCon]
</span><a href="#local-6989586621683091449"><span class="hs-identifier hs-var hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; [DataCon]
</span><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-var">getPossibleDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091446"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091447"><span class="hs-identifier hs-var">tycon_args</span></a></span><span>
</span><span id="line-1228"></span><span>    </span><span id="local-6989586621683091448"><span class="annot"><span class="annottext">shows_prec :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091448"><span class="hs-identifier hs-var hs-var">shows_prec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091444"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#showsPrec_RDR"><span class="hs-identifier hs-var">showsPrec_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; [DataCon]
-&gt; [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091452"><span class="hs-identifier hs-var">pats_etc</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091449"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>    </span><span id="local-6989586621683091460"><span class="annot"><span class="annottext">comma_space :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091460"><span class="hs-identifier hs-var hs-var">comma_space</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#showCommaSpace_RDR"><span class="hs-identifier hs-var">showCommaSpace_RDR</span></a></span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span>    </span><span id="local-6989586621683091452"><span class="annot"><span class="annottext">pats_etc :: DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091452"><span class="hs-identifier hs-var hs-var">pats_etc</span></a></span></span><span> </span><span id="local-6989586621683091462"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-1232"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091463"><span class="hs-identifier hs-var">nullary_con</span></a></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-comment">-- skip the showParen junk...</span><span>
</span><span id="line-1233"></span><span>         </span><span class="annot"><span class="annottext">Bool
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[RdrName] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091464"><span class="hs-identifier hs-var">bs_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1234"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683091465"><span class="hs-identifier hs-var">con_pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091467"><span class="hs-identifier hs-var">op_con_str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1235"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">=</span><span>
</span><span id="line-1236"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683091465"><span class="hs-identifier hs-var">con_pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1237"></span><span>          </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#showParen_Expr"><span class="hs-identifier hs-var">showParen_Expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var">a_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#ge_RDR"><span class="hs-identifier hs-var">ge_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span>
</span><span id="line-1238"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed) -&gt; IntegralLit -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsInt x -&gt; IntegralLit -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsInt"><span class="hs-identifier hs-var">HsInt</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; IntegralLit
forall a. Integral a =&gt; a -&gt; IntegralLit
</span><a href="GHC.Types.SourceText.html#mkIntegralLit"><span class="hs-identifier hs-var">mkIntegralLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091469"><span class="hs-identifier hs-var">con_prec_plus_one</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1239"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-var">nested_compose_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091471"><span class="hs-identifier hs-var">show_thingies</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-1241"></span><span>             </span><span id="local-6989586621683091472"><span class="annot"><span class="annottext">data_con_RDR :: RdrName
</span><a href="#local-6989586621683091472"><span class="hs-identifier hs-var hs-var">data_con_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1242"></span><span>             </span><span id="local-6989586621683091473"><span class="annot"><span class="annottext">con_arity :: Int
</span><a href="#local-6989586621683091473"><span class="hs-identifier hs-var hs-var">con_arity</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1243"></span><span>             </span><span id="local-6989586621683091464"><span class="annot"><span class="annottext">bs_needed :: [RdrName]
</span><a href="#local-6989586621683091464"><span class="hs-identifier hs-var hs-var">bs_needed</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091473"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var">bs_RDRs</span></a></span><span>
</span><span id="line-1244"></span><span>             </span><span id="local-6989586621683091474"><span class="annot"><span class="annottext">arg_tys :: [Type]
</span><a href="#local-6989586621683091474"><span class="hs-identifier hs-var hs-var">arg_tys</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-var">derivDataConInstArgTys</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683091445"><span class="hs-identifier hs-var">dit</span></a></span><span> </span><span class="hs-comment">-- Correspond 1-1 with bs_needed</span><span>
</span><span id="line-1245"></span><span>             </span><span id="local-6989586621683091465"><span class="annot"><span class="annottext">con_pat :: LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091465"><span class="hs-identifier hs-var hs-var">con_pat</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091472"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091464"><span class="hs-identifier hs-var">bs_needed</span></a></span><span>
</span><span id="line-1246"></span><span>             </span><span id="local-6989586621683091463"><span class="annot"><span class="annottext">nullary_con :: Bool
</span><a href="#local-6989586621683091463"><span class="hs-identifier hs-var hs-var">nullary_con</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091473"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1247"></span><span>             </span><span id="local-6989586621683091475"><span class="annot"><span class="annottext">labels :: [FastString]
</span><a href="#local-6989586621683091475"><span class="hs-identifier hs-var hs-var">labels</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldLabel -&gt; FastString) -&gt; [FieldLabel] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLabelString -&gt; FastString
</span><a href="Language.Haskell.Syntax.Basic.html#field_label"><span class="hs-identifier hs-var">field_label</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLabelString -&gt; FastString)
-&gt; (FieldLabel -&gt; FieldLabelString) -&gt; FieldLabel -&gt; FastString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldLabel -&gt; FieldLabelString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([FieldLabel] -&gt; [FastString]) -&gt; [FieldLabel] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [FieldLabel]
</span><a href="GHC.Core.DataCon.html#dataConFieldLabels"><span class="hs-identifier hs-var">dataConFieldLabels</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1248"></span><span>             </span><span id="local-6989586621683091476"><span class="annot"><span class="annottext">lab_fields :: Int
</span><a href="#local-6989586621683091476"><span class="hs-identifier hs-var hs-var">lab_fields</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FastString] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621683091475"><span class="hs-identifier hs-var">labels</span></a></span><span>
</span><span id="line-1249"></span><span>             </span><span id="local-6989586621683091477"><span class="annot"><span class="annottext">record_syntax :: Bool
</span><a href="#local-6989586621683091477"><span class="hs-identifier hs-var hs-var">record_syntax</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091476"><span class="hs-identifier hs-var">lab_fields</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1250"></span><span>
</span><span id="line-1251"></span><span>             </span><span id="local-6989586621683091478"><span class="annot"><span class="annottext">dc_nm :: Name
</span><a href="#local-6989586621683091478"><span class="hs-identifier hs-var hs-var">dc_nm</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1252"></span><span>             </span><span id="local-6989586621683091479"><span class="annot"><span class="annottext">dc_occ_nm :: OccName
</span><a href="#local-6989586621683091479"><span class="hs-identifier hs-var hs-var">dc_occ_nm</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1253"></span><span>             </span><span id="local-6989586621683091480"><span class="annot"><span class="annottext">con_str :: String
</span><a href="#local-6989586621683091480"><span class="hs-identifier hs-var hs-var">con_str</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683091479"><span class="hs-identifier hs-var">dc_occ_nm</span></a></span><span>
</span><span id="line-1254"></span><span>             </span><span id="local-6989586621683091467"><span class="annot"><span class="annottext">op_con_str :: String
</span><a href="#local-6989586621683091467"><span class="hs-identifier hs-var hs-var">op_con_str</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="GHC.Tc.Deriv.Generate.html#wrapOpParens"><span class="hs-identifier hs-var">wrapOpParens</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091480"><span class="hs-identifier hs-var">con_str</span></a></span><span>
</span><span id="line-1255"></span><span>             </span><span id="local-6989586621683091482"><span class="annot"><span class="annottext">backquote_str :: String
</span><a href="#local-6989586621683091482"><span class="hs-identifier hs-var hs-var">backquote_str</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="GHC.Tc.Deriv.Generate.html#wrapOpBackquotes"><span class="hs-identifier hs-var">wrapOpBackquotes</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091480"><span class="hs-identifier hs-var">con_str</span></a></span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span>             </span><span id="local-6989586621683091471"><span class="annot"><span class="annottext">show_thingies :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091471"><span class="hs-identifier hs-var hs-var">show_thingies</span></a></span></span><span>
</span><span id="line-1258"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091484"><span class="hs-identifier hs-var">is_infix</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091485"><span class="hs-identifier hs-var">show_arg1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091482"><span class="hs-identifier hs-var">backquote_str</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091486"><span class="hs-identifier hs-var">show_arg2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1259"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091477"><span class="hs-identifier hs-var">record_syntax</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091467"><span class="hs-identifier hs-var">op_con_str</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; {&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-1260"></span><span>                                  </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091487"><span class="hs-identifier hs-var">show_record_args</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;}&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1261"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091467"><span class="hs-identifier hs-var">op_con_str</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091488"><span class="hs-identifier hs-var">show_prefix_args</span></a></span><span>
</span><span id="line-1262"></span><span>
</span><span id="line-1263"></span><span>             </span><span id="local-6989586621683091489"><span class="annot"><span class="annottext">show_label :: FastString -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091489"><span class="hs-identifier hs-var hs-var">show_label</span></a></span></span><span> </span><span id="local-6989586621683091490"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091490"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091491"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>                        </span><span class="hs-comment">-- Note the spaces around the &quot;=&quot; sign.  If we</span><span>
</span><span id="line-1265"></span><span>                        </span><span class="hs-comment">-- don't have them then we get Foo { x=-1 } and</span><span>
</span><span id="line-1266"></span><span>                        </span><span class="hs-comment">-- the &quot;=-&quot; parses as a single lexeme.  Only the</span><span>
</span><span id="line-1267"></span><span>                        </span><span class="hs-comment">-- space after the '=' is necessary, but it</span><span>
</span><span id="line-1268"></span><span>                        </span><span class="hs-comment">-- seems tidier to have them both sides.</span><span>
</span><span id="line-1269"></span><span>                 </span><span class="hs-keyword">where</span><span>
</span><span id="line-1270"></span><span>                   </span><span id="local-6989586621683091491"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621683091491"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="GHC.Tc.Deriv.Generate.html#wrapOpParens"><span class="hs-identifier hs-var">wrapOpParens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091490"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1271"></span><span>
</span><span id="line-1272"></span><span>             </span><span id="local-6989586621683091492"><span class="annot"><span class="annottext">show_args :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091492"><span class="hs-identifier hs-var hs-var">show_args</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (RdrName -&gt; Type -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [RdrName]
-&gt; [Type]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b c.
HasDebugCallStack =&gt;
String -&gt; (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><a href="GHC.Utils.Misc.html#zipWithEqual"><span class="hs-identifier hs-var">zipWithEqual</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gen_Show_binds&quot;</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
RdrName -&gt; Type -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091493"><span class="hs-identifier hs-var">show_arg</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091464"><span class="hs-identifier hs-var">bs_needed</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091474"><span class="hs-identifier hs-var">arg_tys</span></a></span><span>
</span><span id="line-1273"></span><span>             </span><span class="hs-special">(</span><span id="local-6989586621683091485"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091485"><span class="hs-identifier hs-var">show_arg1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683091486"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091486"><span class="hs-identifier hs-var">show_arg2</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091492"><span class="hs-identifier hs-var">show_args</span></a></span><span>
</span><span id="line-1274"></span><span>             </span><span id="local-6989586621683091488"><span class="annot"><span class="annottext">show_prefix_args :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091488"><span class="hs-identifier hs-var hs-var">show_prefix_args</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#showSpace_RDR"><span class="hs-identifier hs-var">showSpace_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091492"><span class="hs-identifier hs-var">show_args</span></a></span><span>
</span><span id="line-1275"></span><span>
</span><span id="line-1276"></span><span>                </span><span class="hs-comment">-- Assumption for record syntax: no of fields == no of</span><span>
</span><span id="line-1277"></span><span>                </span><span class="hs-comment">-- labelled fields (and in same order)</span><span>
</span><span id="line-1278"></span><span>             </span><span id="local-6989586621683091487"><span class="annot"><span class="annottext">show_record_args :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091487"><span class="hs-identifier hs-var hs-var">show_record_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[LocatedA (HsExpr (GhcPass 'Parsed))]]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[LocatedA (HsExpr (GhcPass 'Parsed))]]
 -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))])
-&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1279"></span><span>                                </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]]
-&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091460"><span class="hs-identifier hs-var">comma_space</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">([[LocatedA (HsExpr (GhcPass 'Parsed))]]
 -&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]])
-&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]]
-&gt; [[LocatedA (HsExpr (GhcPass 'Parsed))]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1280"></span><span>                                </span><span class="hs-special">[</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FastString -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091489"><span class="hs-identifier hs-var">show_label</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091495"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091496"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1281"></span><span>                                </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683091495"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091495"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683091496"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091496"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [FastString]
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; [(FastString, LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b. HasDebugCallStack =&gt; String -&gt; [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="GHC.Utils.Misc.html#zipEqual"><span class="hs-identifier hs-var">zipEqual</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gen_Show_binds&quot;</span></span><span>
</span><span id="line-1282"></span><span>                                                        </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621683091475"><span class="hs-identifier hs-var">labels</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091492"><span class="hs-identifier hs-var">show_args</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1283"></span><span>
</span><span id="line-1284"></span><span>             </span><span class="annot"><a href="#local-6989586621683091493"><span class="hs-identifier hs-type">show_arg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1285"></span><span>             </span><span id="local-6989586621683091493"><span class="annot"><span class="annottext">show_arg :: RdrName -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091493"><span class="hs-identifier hs-var hs-var">show_arg</span></a></span></span><span> </span><span id="local-6989586621683091498"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091498"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621683091499"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091499"><span class="hs-identifier hs-var">arg_ty</span></a></span></span><span>
</span><span id="line-1286"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Bool
Type -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091499"><span class="hs-identifier hs-var">arg_ty</span></a></span><span>
</span><span id="line-1287"></span><span>                 </span><span class="hs-comment">-- See Note [Deriving and unboxed types] in GHC.Tc.Deriv.Infer</span><span>
</span><span id="line-1288"></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#compose_RDR"><span class="hs-identifier hs-var">compose_RDR</span></a></span><span>
</span><span id="line-1289"></span><span>                        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_shows_app"><span class="hs-identifier hs-var">mk_shows_app</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091502"><span class="hs-identifier hs-var">boxed_arg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var">mk_showString_app</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091503"><span class="hs-identifier hs-var">postfixMod</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1290"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1291"></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showsPrec_app"><span class="hs-identifier hs-var">mk_showsPrec_app</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091505"><span class="hs-identifier hs-var">arg_prec</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091506"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-1292"></span><span>               </span><span class="hs-keyword">where</span><span>
</span><span id="line-1293"></span><span>                 </span><span id="local-6989586621683091506"><span class="annot"><span class="annottext">arg :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091506"><span class="hs-identifier hs-var hs-var">arg</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091498"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1294"></span><span>                 </span><span id="local-6989586621683091502"><span class="annot"><span class="annottext">boxed_arg :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091502"><span class="hs-identifier hs-var hs-var">boxed_arg</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#box"><span class="hs-identifier hs-var">box</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Show&quot;</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091506"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091499"><span class="hs-identifier hs-var">arg_ty</span></a></span><span>
</span><span id="line-1295"></span><span>                 </span><span id="local-6989586621683091503"><span class="annot"><span class="annottext">postfixMod :: String
</span><a href="#local-6989586621683091503"><span class="hs-identifier hs-var hs-var">postfixMod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(Type, String)] -&gt; Type -&gt; String
forall a. HasDebugCallStack =&gt; String -&gt; [(Type, a)] -&gt; Type -&gt; a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id"><span class="hs-identifier hs-var">assoc_ty_id</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Show&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(Type, String)]
</span><a href="GHC.Tc.Deriv.Generate.html#postfixModTbl"><span class="hs-identifier hs-var">postfixModTbl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091499"><span class="hs-identifier hs-var">arg_ty</span></a></span><span>
</span><span id="line-1296"></span><span>
</span><span id="line-1297"></span><span>                </span><span class="hs-comment">-- Fixity stuff</span><span>
</span><span id="line-1298"></span><span>             </span><span id="local-6989586621683091484"><span class="annot"><span class="annottext">is_infix :: Bool
</span><a href="#local-6989586621683091484"><span class="hs-identifier hs-var hs-var">is_infix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#dataConIsInfix"><span class="hs-identifier hs-var">dataConIsInfix</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091462"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1299"></span><span>             </span><span id="local-6989586621683091469"><span class="annot"><span class="annottext">con_prec_plus_one :: Integer
</span><a href="#local-6989586621683091469"><span class="hs-identifier hs-var hs-var">con_prec_plus_one</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; (Name -&gt; Fixity) -&gt; Name -&gt; Integer
</span><a href="GHC.Tc.Deriv.Generate.html#getPrec"><span class="hs-identifier hs-var">getPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091484"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091443"><span class="hs-identifier hs-var">get_fixity</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091478"><span class="hs-identifier hs-var">dc_nm</span></a></span><span>
</span><span id="line-1300"></span><span>             </span><span id="local-6989586621683091505"><span class="annot"><span class="annottext">arg_prec :: Integer
</span><a href="#local-6989586621683091505"><span class="hs-identifier hs-var hs-var">arg_prec</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091477"><span class="hs-identifier hs-var">record_syntax</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>  </span><span class="hs-comment">-- Record fields don't need parens</span><span>
</span><span id="line-1301"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091469"><span class="hs-identifier hs-var">con_prec_plus_one</span></a></span><span>
</span><span id="line-1302"></span><span>
</span><span id="line-1303"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#wrapOpParens"><span class="hs-identifier hs-type">wrapOpParens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-1304"></span><span id="wrapOpParens"><span class="annot"><span class="annottext">wrapOpParens :: String -&gt; String
</span><a href="GHC.Tc.Deriv.Generate.html#wrapOpParens"><span class="hs-identifier hs-var hs-var">wrapOpParens</span></a></span></span><span> </span><span id="local-6989586621683091511"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091511"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091511"><span class="hs-identifier hs-var">s</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091511"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1305"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091511"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1306"></span><span>
</span><span id="line-1307"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#wrapOpBackquotes"><span class="hs-identifier hs-type">wrapOpBackquotes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-1308"></span><span id="wrapOpBackquotes"><span class="annot"><span class="annottext">wrapOpBackquotes :: String -&gt; String
</span><a href="GHC.Tc.Deriv.Generate.html#wrapOpBackquotes"><span class="hs-identifier hs-var hs-var">wrapOpBackquotes</span></a></span></span><span> </span><span id="local-6989586621683091512"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091512"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091512"><span class="hs-identifier hs-var">s</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091512"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1309"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'`'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091512"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;`&quot;</span></span><span>
</span><span id="line-1310"></span><span>
</span><span id="line-1311"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-type">isSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1312"></span><span id="isSym"><span class="annot"><span class="annottext">isSym :: String -&gt; Bool
</span><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var hs-var">isSym</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1313"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#isSym"><span class="hs-identifier hs-var">isSym</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683091513"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683091513"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">startsVarSym</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683091513"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">startsConSym</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683091513"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1314"></span><span>
</span><span id="line-1315"></span><span class="annot"><span class="hs-comment">-- | showString :: String -&gt; ShowS</span></span><span>
</span><span id="line-1316"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-type">mk_showString_app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1317"></span><span id="mk_showString_app"><span class="annot"><span class="annottext">mk_showString_app :: String -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showString_app"><span class="hs-identifier hs-var hs-var">mk_showString_app</span></a></span></span><span> </span><span id="local-6989586621683091516"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091516"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#showString_RDR"><span class="hs-identifier hs-var">showString_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). String -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsString"><span class="hs-identifier hs-var">mkHsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683091516"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>
</span><span id="line-1319"></span><span class="annot"><span class="hs-comment">-- | showsPrec :: Show a =&gt; Int -&gt; a -&gt; ShowS</span></span><span>
</span><span id="line-1320"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mk_showsPrec_app"><span class="hs-identifier hs-type">mk_showsPrec_app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1321"></span><span id="mk_showsPrec_app"><span class="annot"><span class="annottext">mk_showsPrec_app :: Integer -&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_showsPrec_app"><span class="hs-identifier hs-var hs-var">mk_showsPrec_app</span></a></span></span><span> </span><span id="local-6989586621683091518"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091518"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621683091519"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091519"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-1322"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#showsPrec_RDR"><span class="hs-identifier hs-var">showsPrec_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed) -&gt; IntegralLit -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsInt x -&gt; IntegralLit -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsInt"><span class="hs-identifier hs-var">HsInt</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInt (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; IntegralLit
forall a. Integral a =&gt; a -&gt; IntegralLit
</span><a href="GHC.Types.SourceText.html#mkIntegralLit"><span class="hs-identifier hs-var">mkIntegralLit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091518"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091519"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1323"></span><span>
</span><span id="line-1324"></span><span class="annot"><span class="hs-comment">-- | shows :: Show a =&gt; a -&gt; ShowS</span></span><span>
</span><span id="line-1325"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mk_shows_app"><span class="hs-identifier hs-type">mk_shows_app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1326"></span><span id="mk_shows_app"><span class="annot"><span class="annottext">mk_shows_app :: LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mk_shows_app"><span class="hs-identifier hs-var hs-var">mk_shows_app</span></a></span></span><span> </span><span id="local-6989586621683091520"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091520"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#shows_RDR"><span class="hs-identifier hs-var">shows_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091520"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1327"></span><span>
</span><span id="line-1328"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#getPrec"><span class="hs-identifier hs-type">getPrec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-1329"></span><span id="getPrec"><span class="annot"><span class="annottext">getPrec :: Bool -&gt; (Name -&gt; Fixity) -&gt; Name -&gt; Integer
</span><a href="GHC.Tc.Deriv.Generate.html#getPrec"><span class="hs-identifier hs-var hs-var">getPrec</span></a></span></span><span> </span><span id="local-6989586621683091522"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091522"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span> </span><span id="local-6989586621683091523"><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091523"><span class="hs-identifier hs-var">get_fixity</span></a></span></span><span> </span><span id="local-6989586621683091524"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091524"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1330"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683091522"><span class="hs-identifier hs-var">is_infix</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="GHC.Tc.Deriv.Generate.html#appPrecedence"><span class="hs-identifier hs-var">appPrecedence</span></a></span><span>
</span><span id="line-1331"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Fixity) -&gt; Name -&gt; Integer
</span><a href="GHC.Tc.Deriv.Generate.html#getPrecedence"><span class="hs-identifier hs-var">getPrecedence</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091523"><span class="hs-identifier hs-var">get_fixity</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091524"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1332"></span><span>
</span><span id="line-1333"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#appPrecedence"><span class="hs-identifier hs-type">appPrecedence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-1334"></span><span id="appPrecedence"><span class="annot"><span class="annottext">appPrecedence :: Integer
</span><a href="GHC.Tc.Deriv.Generate.html#appPrecedence"><span class="hs-identifier hs-var hs-var">appPrecedence</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Fixity.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1335"></span><span>  </span><span class="hs-comment">-- One more than the precedence of the most</span><span>
</span><span id="line-1336"></span><span>  </span><span class="hs-comment">-- tightly-binding operator</span><span>
</span><span id="line-1337"></span><span>
</span><span id="line-1338"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#getPrecedence"><span class="hs-identifier hs-type">getPrecedence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-1339"></span><span id="getPrecedence"><span class="annot"><span class="annottext">getPrecedence :: (Name -&gt; Fixity) -&gt; Name -&gt; Integer
</span><a href="GHC.Tc.Deriv.Generate.html#getPrecedence"><span class="hs-identifier hs-var hs-var">getPrecedence</span></a></span></span><span> </span><span id="local-6989586621683091526"><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091526"><span class="hs-identifier hs-var">get_fixity</span></a></span></span><span> </span><span id="local-6989586621683091527"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091527"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1340"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Fixity
</span><a href="#local-6989586621683091526"><span class="hs-identifier hs-var">get_fixity</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091527"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1341"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span> </span><span id="local-6989586621683091529"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091529"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683091530"><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621683091530"><span class="hs-identifier hs-var">_assoc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091529"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1342"></span><span>          </span><span class="hs-comment">-- NB: the Report says that associativity is not taken</span><span>
</span><span id="line-1343"></span><span>          </span><span class="hs-comment">--     into account for either Read or Show; hence we</span><span>
</span><span id="line-1344"></span><span>          </span><span class="hs-comment">--     ignore associativity here</span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        Data instances
*                                                                      *
************************************************************************

From the data type

  data T a b = T1 a b | T2

we generate

  $cT1 = mkDataCon $dT &quot;T1&quot; Prefix
  $cT2 = mkDataCon $dT &quot;T2&quot; Prefix
  $dT  = mkDataType &quot;Module.T&quot; [] [$con_T1, $con_T2]
  -- the [] is for field labels.

  instance (Data a, Data b) =&gt; Data (T a b) where
    gfoldl k z (T1 a b) = z T `k` a `k` b
    gfoldl k z T2           = z T2
    -- ToDo: add gmapT,Q,M, gfoldr

    gunfold k z c = case conIndex c of
                        I# 1# -&gt; k (k (z T1))
                        I# 2# -&gt; z T2

    toConstr (T1 _ _) = $cT1
    toConstr T2       = $cT2

    dataTypeOf _ = $dT

    dataCast1 = gcast1   -- If T :: * -&gt; *
    dataCast2 = gcast2   -- if T :: * -&gt; * -&gt; *
-}</span><span>
</span><span id="line-1381"></span><span>
</span><span id="line-1382"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Data_binds"><span class="hs-identifier hs-type">gen_Data_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1383"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span>
</span><span id="line-1384"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- The method bindings</span><span>
</span><span id="line-1385"></span><span>                       </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Auxiliary bindings</span><span>
</span><span id="line-1386"></span><span id="gen_Data_binds"><span class="annot"><span class="annottext">gen_Data_binds :: SrcSpan
-&gt; DerivInstTys
-&gt; TcM (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Data_binds"><span class="hs-identifier hs-var hs-var">gen_Data_binds</span></a></span></span><span> </span><span id="local-6989586621683091531"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091532"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091532"><span class="hs-identifier hs-var">rep_tc</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1387"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- See Note [Auxiliary binders]</span><span>
</span><span id="line-1388"></span><span>         </span><span id="local-6989586621683091533"><span class="annot"><a href="#local-6989586621683091533"><span class="hs-identifier hs-var">dataT_RDR</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_dataT_rdr_name"><span class="hs-identifier hs-var">new_dataT_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091532"><span class="hs-identifier hs-var">rep_tc</span></a></span><span>
</span><span id="line-1389"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683091535"><span class="annot"><a href="#local-6989586621683091535"><span class="hs-identifier hs-var">dataC_RDRs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_dataC_rdr_name"><span class="hs-identifier hs-type">new_dataC_rdr_name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091531"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683091538"><span class="hs-identifier hs-type">data_cons</span></a></span><span>
</span><span id="line-1390"></span><span>
</span><span id="line-1391"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621683091539"><span class="hs-identifier hs-type">gfoldl_bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683091540"><span class="hs-identifier hs-type">gunfold_bind</span></a></span><span>
</span><span id="line-1392"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683091541"><span class="hs-identifier hs-type">toCon_bind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091535"><span class="hs-identifier hs-type">dataC_RDRs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683091542"><span class="hs-identifier hs-type">dataTypeOf_bind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091533"><span class="hs-identifier hs-type">dataT_RDR</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1393"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683091543"><span class="hs-identifier hs-type">gcast_binds</span></a></span><span>
</span><span id="line-1394"></span><span>                          </span><span class="hs-comment">-- Auxiliary definitions: the data type and constructors</span><span>
</span><span id="line-1395"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#listToBag"><span class="hs-identifier hs-type">listToBag</span></a></span><span>
</span><span id="line-1396"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataDataType"><span class="hs-identifier hs-type">DerivDataDataType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091532"><span class="hs-identifier hs-type">rep_tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091533"><span class="hs-identifier hs-type">dataT_RDR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091535"><span class="hs-identifier hs-type">dataC_RDRs</span></a></span><span>
</span><span id="line-1397"></span><span>                  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621683091545"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091545"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span id="local-6989586621683091546"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091546"><span class="hs-identifier hs-var">dataC_RDR</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1398"></span><span>                               </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName -&gt; RdrName -&gt; AuxBindSpec
</span><a href="GHC.Tc.Deriv.Generate.html#DerivDataConstr"><span class="hs-identifier hs-var">DerivDataConstr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091545"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091546"><span class="hs-identifier hs-var">dataC_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091533"><span class="hs-identifier hs-var">dataT_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1399"></span><span>                            </span><span class="annot"><a href="#local-6989586621683091538"><span class="hs-identifier hs-type">data_cons</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091535"><span class="hs-identifier hs-type">dataC_RDRs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1400"></span><span>              </span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1401"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1402"></span><span>    </span><span id="local-6989586621683091538"><span class="annot"><span class="annottext">data_cons :: [DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var hs-var">data_cons</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091532"><span class="hs-identifier hs-var">rep_tc</span></a></span><span>
</span><span id="line-1403"></span><span>    </span><span id="local-6989586621683091547"><span class="annot"><span class="annottext">n_cons :: Int
</span><a href="#local-6989586621683091547"><span class="hs-identifier hs-var hs-var">n_cons</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-1404"></span><span>
</span><span id="line-1405"></span><span>        </span><span class="hs-comment">------------ gfoldl</span><span>
</span><span id="line-1406"></span><span>    </span><span id="local-6989586621683091539"><span class="annot"><span class="annottext">gfoldl_bind :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091539"><span class="hs-identifier hs-var hs-var">gfoldl_bind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gfoldl_RDR"><span class="hs-identifier hs-var">gfoldl_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; [DataCon]
-&gt; [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091549"><span class="hs-identifier hs-var">gfoldl_eqn</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1407"></span><span>
</span><span id="line-1408"></span><span>    </span><span id="local-6989586621683091549"><span class="annot"><span class="annottext">gfoldl_eqn :: DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091549"><span class="hs-identifier hs-var hs-var">gfoldl_eqn</span></a></span></span><span> </span><span id="local-6989586621683091561"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091561"><span class="hs-identifier hs-var">con</span></a></span></span><span>
</span><span id="line-1409"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-var">k_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#z_Pat"><span class="hs-identifier hs-var">z_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091564"><span class="hs-identifier hs-var">con_name</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091565"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1410"></span><span>                   </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [RdrName]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091567"><span class="hs-identifier hs-var">mk_k_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#z_Expr"><span class="hs-identifier hs-var">z_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass}.
(XMG (GhcPass p) (GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
 ~ Origin,
 IdGhcP p ~ RdrName, IsPass p) =&gt;
DataCon -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091569"><span class="hs-identifier hs-var">eta_expand_data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091561"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091565"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1411"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1412"></span><span>                     </span><span class="annot"><a href="#local-6989586621683091564"><span class="hs-identifier hs-type">con_name</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1413"></span><span>                     </span><span id="local-6989586621683091564"><span class="annot"><span class="annottext">con_name :: RdrName
</span><a href="#local-6989586621683091564"><span class="hs-identifier hs-var hs-var">con_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091561"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-1414"></span><span>                     </span><span id="local-6989586621683091565"><span class="annot"><span class="annottext">as_needed :: [RdrName]
</span><a href="#local-6989586621683091565"><span class="hs-identifier hs-var hs-var">as_needed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091561"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-1415"></span><span>                     </span><span id="local-6989586621683091567"><span class="annot"><span class="annottext">mk_k_app :: LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091567"><span class="hs-identifier hs-var hs-var">mk_k_app</span></a></span></span><span> </span><span id="local-6989586621683091575"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091575"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621683091576"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091576"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; IdP (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsOpApp"><span class="hs-identifier hs-var">nlHsOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091575"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-var">k_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091576"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1416"></span><span>
</span><span id="line-1417"></span><span>        </span><span class="hs-comment">------------ gunfold</span><span>
</span><span id="line-1418"></span><span>    </span><span id="local-6989586621683091540"><span class="annot"><span class="annottext">gunfold_bind :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091540"><span class="hs-identifier hs-var hs-var">gunfold_bind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1419"></span><span>                     </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gunfold_RDR"><span class="hs-identifier hs-var">gunfold_RDR</span></a></span><span>
</span><span id="line-1420"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#k_Pat"><span class="hs-identifier hs-var">k_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#z_Pat"><span class="hs-identifier hs-var">z_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091547"><span class="hs-identifier hs-var">n_cons</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#c_Pat"><span class="hs-identifier hs-var">c_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1421"></span><span>                     </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091579"><span class="hs-identifier hs-var">gunfold_rhs</span></a></span><span>
</span><span id="line-1422"></span><span>
</span><span id="line-1423"></span><span>    </span><span id="local-6989586621683091579"><span class="annot"><span class="annottext">gunfold_rhs :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091579"><span class="hs-identifier hs-var hs-var">gunfold_rhs</span></a></span></span><span>
</span><span id="line-1424"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><span id="local-6989586621683091580"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091580"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091581"><span class="hs-identifier hs-var">mk_unfold_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091580"><span class="hs-identifier hs-var">con</span></a></span><span>   </span><span class="hs-comment">-- No need for case</span><span>
</span><span id="line-1425"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#conIndex_RDR"><span class="hs-identifier hs-var">conIndex_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#c_Expr"><span class="hs-identifier hs-var">c_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1426"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))))
-&gt; [DataCon]
-&gt; [GenLocated
      SrcSpanAnnA
      (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
DataCon
-&gt; GenLocated
     SrcSpanAnnA
     (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))
</span><a href="#local-6989586621683091584"><span class="hs-identifier hs-var">gunfold_alt</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1427"></span><span>
</span><span id="line-1428"></span><span>    </span><span id="local-6989586621683091584"><span class="annot"><span class="annottext">gunfold_alt :: DataCon
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091584"><span class="hs-identifier hs-var hs-var">gunfold_alt</span></a></span></span><span> </span><span id="local-6989586621683091585"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091585"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091586"><span class="hs-identifier hs-var">mk_unfold_pat</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091585"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091581"><span class="hs-identifier hs-var">mk_unfold_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091585"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1429"></span><span>    </span><span id="local-6989586621683091581"><span class="annot"><span class="annottext">mk_unfold_rhs :: DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091581"><span class="hs-identifier hs-var hs-var">mk_unfold_rhs</span></a></span></span><span> </span><span id="local-6989586621683091597"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091597"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span>
</span><span id="line-1430"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#z_Expr"><span class="hs-identifier hs-var">z_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall {p :: Pass}.
(XMG (GhcPass p) (GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
 ~ Origin,
 IdGhcP p ~ RdrName, IsPass p) =&gt;
DataCon -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
</span><a href="#local-6989586621683091569"><span class="hs-identifier hs-var">eta_expand_data_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091597"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1431"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091597"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-var">k_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1432"></span><span>
</span><span id="line-1433"></span><span>    </span><span id="local-6989586621683091569"><span class="annot"><span class="annottext">eta_expand_data_con :: DataCon -&gt; LHsExpr (GhcPass p)
</span><a href="#local-6989586621683091569"><span class="hs-identifier hs-var hs-var">eta_expand_data_con</span></a></span></span><span> </span><span id="local-6989586621683091637"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091637"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1434"></span><span>        </span><span class="annot"><span class="annottext">LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass).
(IsPass p, XMG (GhcPass p) (LHsExpr (GhcPass p)) ~ Origin) =&gt;
LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsLam"><span class="hs-identifier hs-var">mkHsLam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass p))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass p))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass p))]
</span><a href="#local-6989586621683091639"><span class="hs-identifier hs-var">eta_expand_pats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1435"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
 -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
 -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
-&gt; [GenLocated SrcSpanAnnA (HsExpr (GhcPass p))]
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
-&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091637"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsExpr (GhcPass p))]
</span><a href="#local-6989586621683091641"><span class="hs-identifier hs-var">eta_expand_hsvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1436"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1437"></span><span>        </span><span id="local-6989586621683091639"><span class="annot"><span class="annottext">eta_expand_pats :: [GenLocated SrcSpanAnnA (Pat (GhcPass p))]
</span><a href="#local-6989586621683091639"><span class="hs-identifier hs-var hs-var">eta_expand_pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass p)))
-&gt; [RdrName] -&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass p))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LPat (GhcPass p)
RdrName -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass p))
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091642"><span class="hs-identifier hs-var">eta_expand_vars</span></a></span><span>
</span><span id="line-1438"></span><span>        </span><span id="local-6989586621683091641"><span class="annot"><span class="annottext">eta_expand_hsvars :: [GenLocated SrcSpanAnnA (HsExpr (GhcPass p))]
</span><a href="#local-6989586621683091641"><span class="hs-identifier hs-var hs-var">eta_expand_hsvars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
-&gt; [RdrName] -&gt; [GenLocated SrcSpanAnnA (HsExpr (GhcPass p))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
RdrName -&gt; GenLocated SrcSpanAnnA (HsExpr (GhcPass p))
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091642"><span class="hs-identifier hs-var">eta_expand_vars</span></a></span><span>
</span><span id="line-1439"></span><span>        </span><span id="local-6989586621683091642"><span class="annot"><span class="annottext">eta_expand_vars :: [RdrName]
</span><a href="#local-6989586621683091642"><span class="hs-identifier hs-var hs-var">eta_expand_vars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091637"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-1440"></span><span>
</span><span id="line-1441"></span><span>
</span><span id="line-1442"></span><span>    </span><span id="local-6989586621683091586"><span class="annot"><span class="annottext">mk_unfold_pat :: DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091586"><span class="hs-identifier hs-var hs-var">mk_unfold_pat</span></a></span></span><span> </span><span id="local-6989586621683091643"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091643"><span class="hs-identifier hs-var">dc</span></a></span></span><span>    </span><span class="hs-comment">-- Last one is a wild-pat, to avoid</span><span>
</span><span id="line-1443"></span><span>                        </span><span class="hs-comment">-- redundant test, and annoying warning</span><span>
</span><span id="line-1444"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091644"><span class="hs-identifier hs-var">tag</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Basic.html#fIRST_TAG"><span class="hs-identifier hs-var">fIRST_TAG</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091547"><span class="hs-identifier hs-var">n_cons</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span>   </span><span class="hs-comment">-- Last constructor</span><span>
</span><span id="line-1445"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [LPat (GhcPass 'Parsed)] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConPat"><span class="hs-identifier hs-var">nlConPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span>
</span><span id="line-1446"></span><span>                             </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlLitPat"><span class="hs-identifier hs-var">nlLitPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed) -&gt; Integer -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsIntPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-var">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091644"><span class="hs-identifier hs-var">tag</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1447"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1448"></span><span>        </span><span id="local-6989586621683091644"><span class="annot"><span class="annottext">tag :: Int
</span><a href="#local-6989586621683091644"><span class="hs-identifier hs-var hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConTag"><span class="hs-identifier hs-var">dataConTag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091643"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-1449"></span><span>
</span><span id="line-1450"></span><span>        </span><span class="hs-comment">------------ toConstr</span><span>
</span><span id="line-1451"></span><span>    </span><span id="local-6989586621683091541"><span class="annot"><span class="annottext">toCon_bind :: [RdrName] -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091541"><span class="hs-identifier hs-var hs-var">toCon_bind</span></a></span></span><span> </span><span id="local-6989586621683091646"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091646"><span class="hs-identifier hs-var">dataC_RDRs</span></a></span></span><span>
</span><span id="line-1452"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#toConstr_RDR"><span class="hs-identifier hs-var">toConstr_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-1453"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; RdrName
 -&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; [DataCon]
-&gt; [RdrName]
-&gt; [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">DataCon
-&gt; RdrName
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
DataCon
-&gt; IdGhcP 'Parsed
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
forall {p :: Pass} {a}.
(Anno (IdGhcP p) ~ EpAnn a, NoAnn a, IsPass p) =&gt;
DataCon
-&gt; IdGhcP p
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
</span><a href="#local-6989586621683091648"><span class="hs-identifier hs-var">to_con_eqn</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091538"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091646"><span class="hs-identifier hs-var">dataC_RDRs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1454"></span><span>    </span><span id="local-6989586621683091648"><span class="annot"><span class="annottext">to_con_eqn :: DataCon
-&gt; IdGhcP p
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    GenLocated SrcSpanAnnA (HsExpr (GhcPass p)))
</span><a href="#local-6989586621683091648"><span class="hs-identifier hs-var hs-var">to_con_eqn</span></a></span></span><span> </span><span id="local-6989586621683091662"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091662"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621683091663"><span class="annot"><span class="annottext">IdGhcP p
</span><a href="#local-6989586621683091663"><span class="hs-identifier hs-var">con_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">DataCon -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlWildConPat"><span class="hs-identifier hs-var">nlWildConPat</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091662"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass p)
IdGhcP p
</span><a href="#local-6989586621683091663"><span class="hs-identifier hs-var">con_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1455"></span><span>
</span><span id="line-1456"></span><span>        </span><span class="hs-comment">------------ dataTypeOf</span><span>
</span><span id="line-1457"></span><span>    </span><span id="local-6989586621683091542"><span class="annot"><span class="annottext">dataTypeOf_bind :: RdrName -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091542"><span class="hs-identifier hs-var hs-var">dataTypeOf_bind</span></a></span></span><span> </span><span id="local-6989586621683091665"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091665"><span class="hs-identifier hs-var">dataT_RDR</span></a></span></span><span>
</span><span id="line-1458"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span>
</span><span id="line-1459"></span><span>          </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1460"></span><span>          </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataTypeOf_RDR"><span class="hs-identifier hs-var">dataTypeOf_RDR</span></a></span><span>
</span><span id="line-1461"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1462"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091665"><span class="hs-identifier hs-var">dataT_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1463"></span><span>
</span><span id="line-1464"></span><span>        </span><span class="hs-comment">------------ gcast1/2</span><span>
</span><span id="line-1465"></span><span>        </span><span class="hs-comment">-- Make the binding    dataCast1 x = gcast1 x  -- if T :: * -&gt; *</span><span>
</span><span id="line-1466"></span><span>        </span><span class="hs-comment">--               or    dataCast2 x = gcast2 s  -- if T :: * -&gt; * -&gt; *</span><span>
</span><span id="line-1467"></span><span>        </span><span class="hs-comment">-- (or nothing if T has neither of these two types)</span><span>
</span><span id="line-1468"></span><span>
</span><span id="line-1469"></span><span>        </span><span class="hs-comment">-- But care is needed for data families:</span><span>
</span><span id="line-1470"></span><span>        </span><span class="hs-comment">-- If we have   data family D a</span><span>
</span><span id="line-1471"></span><span>        </span><span class="hs-comment">--              data instance D (a,b,c) = A | B deriving( Data )</span><span>
</span><span id="line-1472"></span><span>        </span><span class="hs-comment">-- and we want  instance ... =&gt; Data (D [(a,b,c)]) where ...</span><span>
</span><span id="line-1473"></span><span>        </span><span class="hs-comment">-- then we need     dataCast1 x = gcast1 x</span><span>
</span><span id="line-1474"></span><span>        </span><span class="hs-comment">-- because D :: * -&gt; *</span><span>
</span><span id="line-1475"></span><span>        </span><span class="hs-comment">-- even though rep_tc has kind * -&gt; * -&gt; * -&gt; *</span><span>
</span><span id="line-1476"></span><span>        </span><span class="hs-comment">-- Hence looking for the kind of fam_tc not rep_tc</span><span>
</span><span id="line-1477"></span><span>        </span><span class="hs-comment">-- See #4896</span><span>
</span><span id="line-1478"></span><span>    </span><span id="local-6989586621683091667"><span class="annot"><span class="annottext">tycon_kind :: Type
</span><a href="#local-6989586621683091667"><span class="hs-identifier hs-var hs-var">tycon_kind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe (TyCon, [Type])
</span><a href="GHC.Core.TyCon.html#tyConFamInst_maybe"><span class="hs-identifier hs-var">tyConFamInst_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091532"><span class="hs-identifier hs-var">rep_tc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1479"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683091669"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091669"><span class="hs-identifier hs-var">fam_tc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Core.TyCon.html#tyConKind"><span class="hs-identifier hs-var">tyConKind</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091669"><span class="hs-identifier hs-var">fam_tc</span></a></span><span>
</span><span id="line-1480"></span><span>                    </span><span class="annot"><span class="annottext">Maybe (TyCon, [Type])
</span><span class="hs-identifier hs-var">Nothing</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Core.TyCon.html#tyConKind"><span class="hs-identifier hs-var">tyConKind</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091532"><span class="hs-identifier hs-var">rep_tc</span></a></span><span>
</span><span id="line-1481"></span><span>    </span><span id="local-6989586621683091543"><span class="annot"><span class="annottext">gcast_binds :: [GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091543"><span class="hs-identifier hs-var hs-var">gcast_binds</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091667"><span class="hs-identifier hs-var">tycon_kind</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type -&gt; Bool
Type -&gt; Type -&gt; Bool
</span><a href="GHC.Core.TyCo.Compare.html#tcEqKind"><span class="hs-operator hs-var">`tcEqKind`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Tc.Deriv.Generate.html#kind1"><span class="hs-identifier hs-var">kind1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091673"><span class="hs-identifier hs-var">mk_gcast</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataCast1_RDR"><span class="hs-identifier hs-var">dataCast1_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gcast1_RDR"><span class="hs-identifier hs-var">gcast1_RDR</span></a></span><span>
</span><span id="line-1482"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091667"><span class="hs-identifier hs-var">tycon_kind</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type -&gt; Bool
Type -&gt; Type -&gt; Bool
</span><a href="GHC.Core.TyCo.Compare.html#tcEqKind"><span class="hs-operator hs-var">`tcEqKind`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Tc.Deriv.Generate.html#kind2"><span class="hs-identifier hs-var">kind2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
-&gt; RdrName
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091673"><span class="hs-identifier hs-var">mk_gcast</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataCast2_RDR"><span class="hs-identifier hs-var">dataCast2_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gcast2_RDR"><span class="hs-identifier hs-var">gcast2_RDR</span></a></span><span>
</span><span id="line-1483"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1484"></span><span>    </span><span id="local-6989586621683091673"><span class="annot"><span class="annottext">mk_gcast :: RdrName
-&gt; RdrName
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091673"><span class="hs-identifier hs-var hs-var">mk_gcast</span></a></span></span><span> </span><span id="local-6989586621683091679"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091679"><span class="hs-identifier hs-var">dataCast_RDR</span></a></span></span><span> </span><span id="local-6989586621683091680"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091680"><span class="hs-identifier hs-var">gcast_RDR</span></a></span></span><span>
</span><span id="line-1485"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkSimpleGeneratedFunBind"><span class="hs-identifier hs-var">mkSimpleGeneratedFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091531"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091679"><span class="hs-identifier hs-var">dataCast_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#f_RDR"><span class="hs-identifier hs-var">f_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1486"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091680"><span class="hs-identifier hs-var">gcast_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#f_RDR"><span class="hs-identifier hs-var">f_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1487"></span><span>
</span><span id="line-1488"></span><span>
</span><span id="line-1489"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#kind1"><span class="hs-identifier hs-type">kind1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#kind2"><span class="hs-identifier hs-type">kind2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span>
</span><span id="line-1490"></span><span id="kind1"><span class="annot"><span class="annottext">kind1 :: Type
</span><a href="GHC.Tc.Deriv.Generate.html#kind1"><span class="hs-identifier hs-var hs-var">kind1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.html#typeToTypeKind"><span class="hs-identifier hs-var">typeToTypeKind</span></a></span><span>
</span><span id="line-1491"></span><span id="kind2"><span class="annot"><span class="annottext">kind2 :: Type
</span><a href="GHC.Tc.Deriv.Generate.html#kind2"><span class="hs-identifier hs-var hs-var">kind2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.html#liftedTypeKind"><span class="hs-identifier hs-var">liftedTypeKind</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type -&gt; Type
Type -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#mkVisFunTyMany"><span class="hs-operator hs-var">`mkVisFunTyMany`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Tc.Deriv.Generate.html#kind1"><span class="hs-identifier hs-var">kind1</span></a></span><span>
</span><span id="line-1492"></span><span>
</span><span id="line-1493"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gfoldl_RDR"><span class="hs-identifier hs-type">gfoldl_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gunfold_RDR"><span class="hs-identifier hs-type">gunfold_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#toConstr_RDR"><span class="hs-identifier hs-type">toConstr_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dataTypeOf_RDR"><span class="hs-identifier hs-type">dataTypeOf_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkConstrTag_RDR"><span class="hs-identifier hs-type">mkConstrTag_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1494"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkDataType_RDR"><span class="hs-identifier hs-type">mkDataType_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#conIndex_RDR"><span class="hs-identifier hs-type">conIndex_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#prefix_RDR"><span class="hs-identifier hs-type">prefix_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#infix_RDR"><span class="hs-identifier hs-type">infix_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1495"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dataCast1_RDR"><span class="hs-identifier hs-type">dataCast1_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dataCast2_RDR"><span class="hs-identifier hs-type">dataCast2_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gcast1_RDR"><span class="hs-identifier hs-type">gcast1_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gcast2_RDR"><span class="hs-identifier hs-type">gcast2_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1496"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#constr_RDR"><span class="hs-identifier hs-type">constr_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dataType_RDR"><span class="hs-identifier hs-type">dataType_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1497"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqChar_RDR"><span class="hs-identifier hs-type">eqChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltChar_RDR"><span class="hs-identifier hs-type">ltChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geChar_RDR"><span class="hs-identifier hs-type">geChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtChar_RDR"><span class="hs-identifier hs-type">gtChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leChar_RDR"><span class="hs-identifier hs-type">leChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span>
</span><span id="line-1498"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqInt_RDR"><span class="hs-identifier hs-type">eqInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltInt_RDR"><span class="hs-identifier hs-type">ltInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geInt_RDR"><span class="hs-identifier hs-type">geInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtInt_RDR"><span class="hs-identifier hs-type">gtInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leInt_RDR"><span class="hs-identifier hs-type">leInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#neInt_RDR"><span class="hs-identifier hs-type">neInt_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1499"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqInt8_RDR"><span class="hs-identifier hs-type">eqInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltInt8_RDR"><span class="hs-identifier hs-type">ltInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geInt8_RDR"><span class="hs-identifier hs-type">geInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtInt8_RDR"><span class="hs-identifier hs-type">gtInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leInt8_RDR"><span class="hs-identifier hs-type">leInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span>
</span><span id="line-1500"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqInt16_RDR"><span class="hs-identifier hs-type">eqInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltInt16_RDR"><span class="hs-identifier hs-type">ltInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geInt16_RDR"><span class="hs-identifier hs-type">geInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtInt16_RDR"><span class="hs-identifier hs-type">gtInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leInt16_RDR"><span class="hs-identifier hs-type">leInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1501"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqInt32_RDR"><span class="hs-identifier hs-type">eqInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltInt32_RDR"><span class="hs-identifier hs-type">ltInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geInt32_RDR"><span class="hs-identifier hs-type">geInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtInt32_RDR"><span class="hs-identifier hs-type">gtInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leInt32_RDR"><span class="hs-identifier hs-type">leInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1502"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqInt64_RDR"><span class="hs-identifier hs-type">eqInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltInt64_RDR"><span class="hs-identifier hs-type">ltInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geInt64_RDR"><span class="hs-identifier hs-type">geInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtInt64_RDR"><span class="hs-identifier hs-type">gtInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leInt64_RDR"><span class="hs-identifier hs-type">leInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1503"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqWord_RDR"><span class="hs-identifier hs-type">eqWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltWord_RDR"><span class="hs-identifier hs-type">ltWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geWord_RDR"><span class="hs-identifier hs-type">geWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtWord_RDR"><span class="hs-identifier hs-type">gtWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leWord_RDR"><span class="hs-identifier hs-type">leWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span>
</span><span id="line-1504"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqWord8_RDR"><span class="hs-identifier hs-type">eqWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltWord8_RDR"><span class="hs-identifier hs-type">ltWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geWord8_RDR"><span class="hs-identifier hs-type">geWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtWord8_RDR"><span class="hs-identifier hs-type">gtWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leWord8_RDR"><span class="hs-identifier hs-type">leWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1505"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqWord16_RDR"><span class="hs-identifier hs-type">eqWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltWord16_RDR"><span class="hs-identifier hs-type">ltWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geWord16_RDR"><span class="hs-identifier hs-type">geWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtWord16_RDR"><span class="hs-identifier hs-type">gtWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leWord16_RDR"><span class="hs-identifier hs-type">leWord16_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1506"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqWord32_RDR"><span class="hs-identifier hs-type">eqWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltWord32_RDR"><span class="hs-identifier hs-type">ltWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geWord32_RDR"><span class="hs-identifier hs-type">geWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtWord32_RDR"><span class="hs-identifier hs-type">gtWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leWord32_RDR"><span class="hs-identifier hs-type">leWord32_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1507"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqWord64_RDR"><span class="hs-identifier hs-type">eqWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltWord64_RDR"><span class="hs-identifier hs-type">ltWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geWord64_RDR"><span class="hs-identifier hs-type">geWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtWord64_RDR"><span class="hs-identifier hs-type">gtWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leWord64_RDR"><span class="hs-identifier hs-type">leWord64_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1508"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqAddr_RDR"><span class="hs-identifier hs-type">eqAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltAddr_RDR"><span class="hs-identifier hs-type">ltAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geAddr_RDR"><span class="hs-identifier hs-type">geAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtAddr_RDR"><span class="hs-identifier hs-type">gtAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leAddr_RDR"><span class="hs-identifier hs-type">leAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span>
</span><span id="line-1509"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqFloat_RDR"><span class="hs-identifier hs-type">eqFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltFloat_RDR"><span class="hs-identifier hs-type">ltFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geFloat_RDR"><span class="hs-identifier hs-type">geFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtFloat_RDR"><span class="hs-identifier hs-type">gtFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leFloat_RDR"><span class="hs-identifier hs-type">leFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span>
</span><span id="line-1510"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqDouble_RDR"><span class="hs-identifier hs-type">eqDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltDouble_RDR"><span class="hs-identifier hs-type">ltDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#geDouble_RDR"><span class="hs-identifier hs-type">geDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtDouble_RDR"><span class="hs-identifier hs-type">gtDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#leDouble_RDR"><span class="hs-identifier hs-type">leDouble_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1511"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#int8DataCon_RDR"><span class="hs-identifier hs-type">int8DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#int16DataCon_RDR"><span class="hs-identifier hs-type">int16DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#int32DataCon_RDR"><span class="hs-identifier hs-type">int32DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#int64DataCon_RDR"><span class="hs-identifier hs-type">int64DataCon_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1512"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#word8DataCon_RDR"><span class="hs-identifier hs-type">word8DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#word16DataCon_RDR"><span class="hs-identifier hs-type">word16DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#word32DataCon_RDR"><span class="hs-identifier hs-type">word32DataCon_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#word64DataCon_RDR"><span class="hs-identifier hs-type">word64DataCon_RDR</span></a></span><span>
</span><span id="line-1513"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1514"></span><span id="gfoldl_RDR"><span class="annot"><span class="annottext">gfoldl_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gfoldl_RDR"><span class="hs-identifier hs-var hs-var">gfoldl_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gfoldl&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1515"></span><span id="gunfold_RDR"><span class="annot"><span class="annottext">gunfold_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gunfold_RDR"><span class="hs-identifier hs-var hs-var">gunfold_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gunfold&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1516"></span><span id="toConstr_RDR"><span class="annot"><span class="annottext">toConstr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#toConstr_RDR"><span class="hs-identifier hs-var hs-var">toConstr_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;toConstr&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1517"></span><span id="dataTypeOf_RDR"><span class="annot"><span class="annottext">dataTypeOf_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataTypeOf_RDR"><span class="hs-identifier hs-var hs-var">dataTypeOf_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dataTypeOf&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1518"></span><span id="dataCast1_RDR"><span class="annot"><span class="annottext">dataCast1_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataCast1_RDR"><span class="hs-identifier hs-var hs-var">dataCast1_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dataCast1&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1519"></span><span id="dataCast2_RDR"><span class="annot"><span class="annottext">dataCast2_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataCast2_RDR"><span class="hs-identifier hs-var hs-var">dataCast2_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dataCast2&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1520"></span><span id="gcast1_RDR"><span class="annot"><span class="annottext">gcast1_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gcast1_RDR"><span class="hs-identifier hs-var hs-var">gcast1_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_TYPEABLE"><span class="hs-identifier hs-var">gHC_INTERNAL_TYPEABLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gcast1&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1521"></span><span id="gcast2_RDR"><span class="annot"><span class="annottext">gcast2_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gcast2_RDR"><span class="hs-identifier hs-var hs-var">gcast2_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_TYPEABLE"><span class="hs-identifier hs-var">gHC_INTERNAL_TYPEABLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gcast2&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1522"></span><span id="mkConstrTag_RDR"><span class="annot"><span class="annottext">mkConstrTag_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#mkConstrTag_RDR"><span class="hs-identifier hs-var hs-var">mkConstrTag_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkConstrTag&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1523"></span><span id="constr_RDR"><span class="annot"><span class="annottext">constr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#constr_RDR"><span class="hs-identifier hs-var hs-var">constr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#tcQual_RDR"><span class="hs-identifier hs-var">tcQual_RDR</span></a></span><span>   </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Constr&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1524"></span><span id="mkDataType_RDR"><span class="annot"><span class="annottext">mkDataType_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#mkDataType_RDR"><span class="hs-identifier hs-var hs-var">mkDataType_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkDataType&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1525"></span><span id="dataType_RDR"><span class="annot"><span class="annottext">dataType_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataType_RDR"><span class="hs-identifier hs-var hs-var">dataType_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#tcQual_RDR"><span class="hs-identifier hs-var">tcQual_RDR</span></a></span><span>   </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DataType&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1526"></span><span id="conIndex_RDR"><span class="annot"><span class="annottext">conIndex_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#conIndex_RDR"><span class="hs-identifier hs-var hs-var">conIndex_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;constrIndex&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1527"></span><span id="prefix_RDR"><span class="annot"><span class="annottext">prefix_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#prefix_RDR"><span class="hs-identifier hs-var hs-var">prefix_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Prefix&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1528"></span><span id="infix_RDR"><span class="annot"><span class="annottext">infix_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#infix_RDR"><span class="hs-identifier hs-var hs-var">infix_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_DATA_DATA"><span class="hs-identifier hs-var">gHC_INTERNAL_DATA_DATA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Infix&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1529"></span><span>
</span><span id="line-1530"></span><span id="eqChar_RDR"><span class="annot"><span class="annottext">eqChar_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqChar_RDR"><span class="hs-identifier hs-var hs-var">eqChar_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqChar#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1531"></span><span id="ltChar_RDR"><span class="annot"><span class="annottext">ltChar_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltChar_RDR"><span class="hs-identifier hs-var hs-var">ltChar_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltChar#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1532"></span><span id="leChar_RDR"><span class="annot"><span class="annottext">leChar_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leChar_RDR"><span class="hs-identifier hs-var hs-var">leChar_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leChar#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1533"></span><span id="gtChar_RDR"><span class="annot"><span class="annottext">gtChar_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtChar_RDR"><span class="hs-identifier hs-var hs-var">gtChar_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtChar#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1534"></span><span id="geChar_RDR"><span class="annot"><span class="annottext">geChar_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geChar_RDR"><span class="hs-identifier hs-var hs-var">geChar_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geChar#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1535"></span><span>
</span><span id="line-1536"></span><span id="eqInt_RDR"><span class="annot"><span class="annottext">eqInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt_RDR"><span class="hs-identifier hs-var hs-var">eqInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;==#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1537"></span><span id="neInt_RDR"><span class="annot"><span class="annottext">neInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#neInt_RDR"><span class="hs-identifier hs-var hs-var">neInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;/=#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1538"></span><span id="ltInt_RDR"><span class="annot"><span class="annottext">ltInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt_RDR"><span class="hs-identifier hs-var hs-var">ltInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1539"></span><span id="leInt_RDR"><span class="annot"><span class="annottext">leInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt_RDR"><span class="hs-identifier hs-var hs-var">leInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;=#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1540"></span><span id="gtInt_RDR"><span class="annot"><span class="annottext">gtInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt_RDR"><span class="hs-identifier hs-var hs-var">gtInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&gt;#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1541"></span><span id="geInt_RDR"><span class="annot"><span class="annottext">geInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt_RDR"><span class="hs-identifier hs-var hs-var">geInt_RDR</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&gt;=#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span>
</span><span id="line-1543"></span><span id="eqInt8_RDR"><span class="annot"><span class="annottext">eqInt8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt8_RDR"><span class="hs-identifier hs-var hs-var">eqInt8_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqInt8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1544"></span><span id="ltInt8_RDR"><span class="annot"><span class="annottext">ltInt8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt8_RDR"><span class="hs-identifier hs-var hs-var">ltInt8_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltInt8#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1545"></span><span id="leInt8_RDR"><span class="annot"><span class="annottext">leInt8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt8_RDR"><span class="hs-identifier hs-var hs-var">leInt8_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leInt8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1546"></span><span id="gtInt8_RDR"><span class="annot"><span class="annottext">gtInt8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt8_RDR"><span class="hs-identifier hs-var hs-var">gtInt8_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtInt8#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span id="geInt8_RDR"><span class="annot"><span class="annottext">geInt8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt8_RDR"><span class="hs-identifier hs-var hs-var">geInt8_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geInt8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1548"></span><span>
</span><span id="line-1549"></span><span id="eqInt16_RDR"><span class="annot"><span class="annottext">eqInt16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt16_RDR"><span class="hs-identifier hs-var hs-var">eqInt16_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqInt16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1550"></span><span id="ltInt16_RDR"><span class="annot"><span class="annottext">ltInt16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt16_RDR"><span class="hs-identifier hs-var hs-var">ltInt16_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltInt16#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1551"></span><span id="leInt16_RDR"><span class="annot"><span class="annottext">leInt16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt16_RDR"><span class="hs-identifier hs-var hs-var">leInt16_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leInt16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1552"></span><span id="gtInt16_RDR"><span class="annot"><span class="annottext">gtInt16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt16_RDR"><span class="hs-identifier hs-var hs-var">gtInt16_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtInt16#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1553"></span><span id="geInt16_RDR"><span class="annot"><span class="annottext">geInt16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt16_RDR"><span class="hs-identifier hs-var hs-var">geInt16_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geInt16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1554"></span><span>
</span><span id="line-1555"></span><span id="eqInt32_RDR"><span class="annot"><span class="annottext">eqInt32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt32_RDR"><span class="hs-identifier hs-var hs-var">eqInt32_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqInt32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1556"></span><span id="ltInt32_RDR"><span class="annot"><span class="annottext">ltInt32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt32_RDR"><span class="hs-identifier hs-var hs-var">ltInt32_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltInt32#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1557"></span><span id="leInt32_RDR"><span class="annot"><span class="annottext">leInt32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt32_RDR"><span class="hs-identifier hs-var hs-var">leInt32_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leInt32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1558"></span><span id="gtInt32_RDR"><span class="annot"><span class="annottext">gtInt32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt32_RDR"><span class="hs-identifier hs-var hs-var">gtInt32_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtInt32#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1559"></span><span id="geInt32_RDR"><span class="annot"><span class="annottext">geInt32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt32_RDR"><span class="hs-identifier hs-var hs-var">geInt32_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geInt32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1560"></span><span>
</span><span id="line-1561"></span><span id="eqInt64_RDR"><span class="annot"><span class="annottext">eqInt64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt64_RDR"><span class="hs-identifier hs-var hs-var">eqInt64_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqInt64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1562"></span><span id="ltInt64_RDR"><span class="annot"><span class="annottext">ltInt64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt64_RDR"><span class="hs-identifier hs-var hs-var">ltInt64_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltInt64#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1563"></span><span id="leInt64_RDR"><span class="annot"><span class="annottext">leInt64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt64_RDR"><span class="hs-identifier hs-var hs-var">leInt64_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leInt64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1564"></span><span id="gtInt64_RDR"><span class="annot"><span class="annottext">gtInt64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt64_RDR"><span class="hs-identifier hs-var hs-var">gtInt64_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtInt64#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1565"></span><span id="geInt64_RDR"><span class="annot"><span class="annottext">geInt64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt64_RDR"><span class="hs-identifier hs-var hs-var">geInt64_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geInt64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1566"></span><span>
</span><span id="line-1567"></span><span id="eqWord_RDR"><span class="annot"><span class="annottext">eqWord_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord_RDR"><span class="hs-identifier hs-var hs-var">eqWord_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqWord#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1568"></span><span id="ltWord_RDR"><span class="annot"><span class="annottext">ltWord_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord_RDR"><span class="hs-identifier hs-var hs-var">ltWord_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltWord#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1569"></span><span id="leWord_RDR"><span class="annot"><span class="annottext">leWord_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord_RDR"><span class="hs-identifier hs-var hs-var">leWord_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leWord#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1570"></span><span id="gtWord_RDR"><span class="annot"><span class="annottext">gtWord_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord_RDR"><span class="hs-identifier hs-var hs-var">gtWord_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtWord#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1571"></span><span id="geWord_RDR"><span class="annot"><span class="annottext">geWord_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord_RDR"><span class="hs-identifier hs-var hs-var">geWord_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geWord#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1572"></span><span>
</span><span id="line-1573"></span><span id="eqWord8_RDR"><span class="annot"><span class="annottext">eqWord8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord8_RDR"><span class="hs-identifier hs-var hs-var">eqWord8_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqWord8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1574"></span><span id="ltWord8_RDR"><span class="annot"><span class="annottext">ltWord8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord8_RDR"><span class="hs-identifier hs-var hs-var">ltWord8_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltWord8#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1575"></span><span id="leWord8_RDR"><span class="annot"><span class="annottext">leWord8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord8_RDR"><span class="hs-identifier hs-var hs-var">leWord8_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leWord8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1576"></span><span id="gtWord8_RDR"><span class="annot"><span class="annottext">gtWord8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord8_RDR"><span class="hs-identifier hs-var hs-var">gtWord8_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtWord8#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1577"></span><span id="geWord8_RDR"><span class="annot"><span class="annottext">geWord8_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord8_RDR"><span class="hs-identifier hs-var hs-var">geWord8_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geWord8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1578"></span><span>
</span><span id="line-1579"></span><span id="eqWord16_RDR"><span class="annot"><span class="annottext">eqWord16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord16_RDR"><span class="hs-identifier hs-var hs-var">eqWord16_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqWord16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1580"></span><span id="ltWord16_RDR"><span class="annot"><span class="annottext">ltWord16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord16_RDR"><span class="hs-identifier hs-var hs-var">ltWord16_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltWord16#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1581"></span><span id="leWord16_RDR"><span class="annot"><span class="annottext">leWord16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord16_RDR"><span class="hs-identifier hs-var hs-var">leWord16_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leWord16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1582"></span><span id="gtWord16_RDR"><span class="annot"><span class="annottext">gtWord16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord16_RDR"><span class="hs-identifier hs-var hs-var">gtWord16_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtWord16#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1583"></span><span id="geWord16_RDR"><span class="annot"><span class="annottext">geWord16_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord16_RDR"><span class="hs-identifier hs-var hs-var">geWord16_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geWord16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1584"></span><span>
</span><span id="line-1585"></span><span id="eqWord32_RDR"><span class="annot"><span class="annottext">eqWord32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord32_RDR"><span class="hs-identifier hs-var hs-var">eqWord32_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqWord32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1586"></span><span id="ltWord32_RDR"><span class="annot"><span class="annottext">ltWord32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord32_RDR"><span class="hs-identifier hs-var hs-var">ltWord32_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltWord32#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1587"></span><span id="leWord32_RDR"><span class="annot"><span class="annottext">leWord32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord32_RDR"><span class="hs-identifier hs-var hs-var">leWord32_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leWord32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span id="gtWord32_RDR"><span class="annot"><span class="annottext">gtWord32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord32_RDR"><span class="hs-identifier hs-var hs-var">gtWord32_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtWord32#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1589"></span><span id="geWord32_RDR"><span class="annot"><span class="annottext">geWord32_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord32_RDR"><span class="hs-identifier hs-var hs-var">geWord32_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geWord32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1590"></span><span>
</span><span id="line-1591"></span><span id="eqWord64_RDR"><span class="annot"><span class="annottext">eqWord64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord64_RDR"><span class="hs-identifier hs-var hs-var">eqWord64_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqWord64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span id="ltWord64_RDR"><span class="annot"><span class="annottext">ltWord64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord64_RDR"><span class="hs-identifier hs-var hs-var">ltWord64_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltWord64#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1593"></span><span id="leWord64_RDR"><span class="annot"><span class="annottext">leWord64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord64_RDR"><span class="hs-identifier hs-var hs-var">leWord64_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leWord64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1594"></span><span id="gtWord64_RDR"><span class="annot"><span class="annottext">gtWord64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord64_RDR"><span class="hs-identifier hs-var hs-var">gtWord64_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtWord64#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1595"></span><span id="geWord64_RDR"><span class="annot"><span class="annottext">geWord64_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord64_RDR"><span class="hs-identifier hs-var hs-var">geWord64_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geWord64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1596"></span><span>
</span><span id="line-1597"></span><span id="eqAddr_RDR"><span class="annot"><span class="annottext">eqAddr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqAddr_RDR"><span class="hs-identifier hs-var hs-var">eqAddr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqAddr#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1598"></span><span id="ltAddr_RDR"><span class="annot"><span class="annottext">ltAddr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltAddr_RDR"><span class="hs-identifier hs-var hs-var">ltAddr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltAddr#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1599"></span><span id="leAddr_RDR"><span class="annot"><span class="annottext">leAddr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leAddr_RDR"><span class="hs-identifier hs-var hs-var">leAddr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leAddr#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1600"></span><span id="gtAddr_RDR"><span class="annot"><span class="annottext">gtAddr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtAddr_RDR"><span class="hs-identifier hs-var hs-var">gtAddr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtAddr#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1601"></span><span id="geAddr_RDR"><span class="annot"><span class="annottext">geAddr_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geAddr_RDR"><span class="hs-identifier hs-var hs-var">geAddr_RDR</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geAddr#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1602"></span><span>
</span><span id="line-1603"></span><span id="eqFloat_RDR"><span class="annot"><span class="annottext">eqFloat_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqFloat_RDR"><span class="hs-identifier hs-var hs-var">eqFloat_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eqFloat#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1604"></span><span id="ltFloat_RDR"><span class="annot"><span class="annottext">ltFloat_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltFloat_RDR"><span class="hs-identifier hs-var hs-var">ltFloat_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ltFloat#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1605"></span><span id="leFloat_RDR"><span class="annot"><span class="annottext">leFloat_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leFloat_RDR"><span class="hs-identifier hs-var hs-var">leFloat_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;leFloat#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1606"></span><span id="gtFloat_RDR"><span class="annot"><span class="annottext">gtFloat_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtFloat_RDR"><span class="hs-identifier hs-var hs-var">gtFloat_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gtFloat#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1607"></span><span id="geFloat_RDR"><span class="annot"><span class="annottext">geFloat_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geFloat_RDR"><span class="hs-identifier hs-var hs-var">geFloat_RDR</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;geFloat#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1608"></span><span>
</span><span id="line-1609"></span><span id="eqDouble_RDR"><span class="annot"><span class="annottext">eqDouble_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqDouble_RDR"><span class="hs-identifier hs-var hs-var">eqDouble_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;==##&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1610"></span><span id="ltDouble_RDR"><span class="annot"><span class="annottext">ltDouble_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltDouble_RDR"><span class="hs-identifier hs-var hs-var">ltDouble_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;##&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1611"></span><span id="leDouble_RDR"><span class="annot"><span class="annottext">leDouble_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leDouble_RDR"><span class="hs-identifier hs-var hs-var">leDouble_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;=##&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1612"></span><span id="gtDouble_RDR"><span class="annot"><span class="annottext">gtDouble_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtDouble_RDR"><span class="hs-identifier hs-var hs-var">gtDouble_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&gt;##&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1613"></span><span id="geDouble_RDR"><span class="annot"><span class="annottext">geDouble_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geDouble_RDR"><span class="hs-identifier hs-var hs-var">geDouble_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#varQual_RDR"><span class="hs-identifier hs-var">varQual_RDR</span></a></span><span>  </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_PRIM"><span class="hs-identifier hs-var">gHC_PRIM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&gt;=##&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1614"></span><span>
</span><span id="line-1615"></span><span id="int8DataCon_RDR"><span class="annot"><span class="annottext">int8DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int8DataCon_RDR"><span class="hs-identifier hs-var hs-var">int8DataCon_RDR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_INT"><span class="hs-identifier hs-var">gHC_INTERNAL_INT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;I8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1616"></span><span id="int16DataCon_RDR"><span class="annot"><span class="annottext">int16DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int16DataCon_RDR"><span class="hs-identifier hs-var hs-var">int16DataCon_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_INT"><span class="hs-identifier hs-var">gHC_INTERNAL_INT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;I16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span id="int32DataCon_RDR"><span class="annot"><span class="annottext">int32DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int32DataCon_RDR"><span class="hs-identifier hs-var hs-var">int32DataCon_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_INT"><span class="hs-identifier hs-var">gHC_INTERNAL_INT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;I32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1618"></span><span id="int64DataCon_RDR"><span class="annot"><span class="annottext">int64DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int64DataCon_RDR"><span class="hs-identifier hs-var hs-var">int64DataCon_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_INT"><span class="hs-identifier hs-var">gHC_INTERNAL_INT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;I64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1619"></span><span id="word8DataCon_RDR"><span class="annot"><span class="annottext">word8DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word8DataCon_RDR"><span class="hs-identifier hs-var hs-var">word8DataCon_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_WORD"><span class="hs-identifier hs-var">gHC_INTERNAL_WORD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;W8#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1620"></span><span id="word16DataCon_RDR"><span class="annot"><span class="annottext">word16DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word16DataCon_RDR"><span class="hs-identifier hs-var hs-var">word16DataCon_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_WORD"><span class="hs-identifier hs-var">gHC_INTERNAL_WORD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;W16#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1621"></span><span id="word32DataCon_RDR"><span class="annot"><span class="annottext">word32DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word32DataCon_RDR"><span class="hs-identifier hs-var hs-var">word32DataCon_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_WORD"><span class="hs-identifier hs-var">gHC_INTERNAL_WORD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;W32#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1622"></span><span id="word64DataCon_RDR"><span class="annot"><span class="annottext">word64DataCon_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word64DataCon_RDR"><span class="hs-identifier hs-var hs-var">word64DataCon_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; FastString -&gt; RdrName
</span><a href="GHC.Builtin.Names.html#dataQual_RDR"><span class="hs-identifier hs-var">dataQual_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="GHC.Builtin.Names.html#gHC_INTERNAL_WORD"><span class="hs-identifier hs-var">gHC_INTERNAL_WORD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;W64#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1623"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                        Lift instances
*                                                                      *
************************************************************************

Example:

    data Foo a = Foo a | a :^: a deriving Lift

    ==&gt;

    instance (Lift a) =&gt; Lift (Foo a) where
        lift (Foo a) = [| Foo $(lift a) |]
        lift ((:^:) u v) = [| (:^:) $(lift u) $(lift v) |]

        liftTyped (Foo a) = [|| Foo $$(liftTyped a) ||]
        liftTyped ((:^:) u v) = [|| (:^:) $$(liftTyped u) $$(liftTyped v) ||]

Note that we use explicit splices here in order to not trigger the implicit
lifting warning in derived code. (See #20688)
-}</span><span>
</span><span id="line-1646"></span><span>
</span><span id="line-1647"></span><span>
</span><span id="line-1648"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Lift_binds"><span class="hs-identifier hs-type">gen_Lift_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1649"></span><span id="gen_Lift_binds"><span class="annot"><span class="annottext">gen_Lift_binds :: SrcSpan
-&gt; DerivInstTys -&gt; (LHsBinds (GhcPass 'Parsed), Bag AuxBindSpec)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Lift_binds"><span class="hs-identifier hs-var hs-var">gen_Lift_binds</span></a></span></span><span> </span><span id="local-6989586621683091774"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091774"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091775"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091775"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>
</span><span id="line-1650"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683091776"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091776"><span class="hs-identifier hs-var">tycon_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1651"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091777"><span class="hs-identifier hs-var">lift_bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091778"><span class="hs-identifier hs-var">liftTyped_bind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag AuxBindSpec
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1652"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1653"></span><span>    </span><span id="local-6989586621683091777"><span class="annot"><span class="annottext">lift_bind :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091777"><span class="hs-identifier hs-var hs-var">lift_bind</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091774"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.TH.html#lift_RDR"><span class="hs-identifier hs-var">lift_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#pure_Expr"><span class="hs-identifier hs-var">pure_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1654"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; [DataCon]
-&gt; [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed))
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; HsExpr (GhcPass 'Parsed))
-&gt; Name
-&gt; DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
forall {e} {a}.
HasAnnotation e =&gt;
(LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; a)
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; HsExpr (GhcPass 'Parsed))
-&gt; Name
-&gt; DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    GenLocated e a)
</span><a href="#local-6989586621683091781"><span class="hs-identifier hs-var">pats_etc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091782"><span class="hs-identifier hs-var">mk_untyped_bracket</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091783"><span class="hs-identifier hs-var">mk_usplice</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#liftName"><span class="hs-identifier hs-var">liftName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091785"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1655"></span><span>    </span><span id="local-6989586621683091778"><span class="annot"><span class="annottext">liftTyped_bind :: LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091778"><span class="hs-identifier hs-var hs-var">liftTyped_bind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var">mkFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091774"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.TH.html#liftTyped_RDR"><span class="hs-identifier hs-var">liftTyped_RDR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unsafeCodeCoerce_Expr"><span class="hs-identifier hs-var">unsafeCodeCoerce_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#pure_Expr"><span class="hs-identifier hs-var">pure_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1656"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon
 -&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed))))
-&gt; [DataCon]
-&gt; [([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
     LocatedA (HsExpr (GhcPass 'Parsed)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed))
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; HsExpr (GhcPass 'Parsed))
-&gt; Name
-&gt; DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    LocatedA (HsExpr (GhcPass 'Parsed)))
forall {e} {a}.
HasAnnotation e =&gt;
(LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; a)
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; HsExpr (GhcPass 'Parsed))
-&gt; Name
-&gt; DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    GenLocated e a)
</span><a href="#local-6989586621683091781"><span class="hs-identifier hs-var">pats_etc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091788"><span class="hs-identifier hs-var">mk_typed_bracket</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091789"><span class="hs-identifier hs-var">mk_tsplice</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#liftTypedName"><span class="hs-identifier hs-var">liftTypedName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091785"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1657"></span><span>
</span><span id="line-1658"></span><span>    </span><span id="local-6989586621683091782"><span class="annot"><span class="annottext">mk_untyped_bracket :: LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091782"><span class="hs-identifier hs-var hs-var">mk_untyped_bracket</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XUntypedBracket (GhcPass 'Parsed)
-&gt; HsQuote (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
forall p. XUntypedBracket p -&gt; HsQuote p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsUntypedBracket"><span class="hs-identifier hs-var">HsUntypedBracket</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedBracket (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(HsQuote (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed))
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; HsQuote (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsExpr (GhcPass 'Parsed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XExpBr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; HsQuote (GhcPass 'Parsed)
forall p. XExpBr p -&gt; LHsExpr p -&gt; HsQuote p
</span><a href="Language.Haskell.Syntax.Expr.html#ExpBr"><span class="hs-identifier hs-var">ExpBr</span></a></span><span> </span><span class="annot"><span class="annottext">XExpBr (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1659"></span><span>    </span><span id="local-6989586621683091788"><span class="annot"><span class="annottext">mk_typed_bracket :: LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091788"><span class="hs-identifier hs-var hs-var">mk_typed_bracket</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XTypedBracket (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
forall p. XTypedBracket p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsTypedBracket"><span class="hs-identifier hs-var">HsTypedBracket</span></a></span><span> </span><span class="annot"><span class="annottext">XTypedBracket (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1660"></span><span>
</span><span id="line-1661"></span><span>    </span><span id="local-6989586621683091789"><span class="annot"><span class="annottext">mk_tsplice :: LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091789"><span class="hs-identifier hs-var hs-var">mk_tsplice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XTypedSplice (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
forall p. XTypedSplice p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsTypedSplice"><span class="hs-identifier hs-var">HsTypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">XTypedSplice (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1662"></span><span>    </span><span id="local-6989586621683091783"><span class="annot"><span class="annottext">mk_usplice :: LHsExpr (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091783"><span class="hs-identifier hs-var hs-var">mk_usplice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XUntypedSplice (GhcPass 'Parsed)
-&gt; HsUntypedSplice (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed)
forall p. XUntypedSplice p -&gt; HsUntypedSplice p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-var">HsUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedSplice (GhcPass 'Parsed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(HsUntypedSplice (GhcPass 'Parsed) -&gt; HsExpr (GhcPass 'Parsed))
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; HsUntypedSplice (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsExpr (GhcPass 'Parsed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XUntypedSpliceExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; HsUntypedSplice (GhcPass 'Parsed)
forall id.
XUntypedSpliceExpr id -&gt; LHsExpr id -&gt; HsUntypedSplice id
</span><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSpliceExpr"><span class="hs-identifier hs-var">HsUntypedSpliceExpr</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedSpliceExpr (GhcPass 'Parsed)
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-1663"></span><span>    </span><span id="local-6989586621683091785"><span class="annot"><span class="annottext">data_cons :: [DataCon]
</span><a href="#local-6989586621683091785"><span class="hs-identifier hs-var hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; [DataCon]
</span><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-var">getPossibleDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091775"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091776"><span class="hs-identifier hs-var">tycon_args</span></a></span><span>
</span><span id="line-1664"></span><span>
</span><span id="line-1665"></span><span>    </span><span id="local-6989586621683091781"><span class="annot"><span class="annottext">pats_etc :: (LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; a)
-&gt; (LocatedA (HsExpr (GhcPass 'Parsed))
    -&gt; HsExpr (GhcPass 'Parsed))
-&gt; Name
-&gt; DataCon
-&gt; ([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
    GenLocated e a)
</span><a href="#local-6989586621683091781"><span class="hs-identifier hs-var hs-var">pats_etc</span></a></span></span><span> </span><span id="local-6989586621683091833"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; a
</span><a href="#local-6989586621683091833"><span class="hs-identifier hs-var">mk_bracket</span></a></span></span><span> </span><span id="local-6989586621683091834"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091834"><span class="hs-identifier hs-var">mk_splice</span></a></span></span><span> </span><span id="local-6989586621683091835"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091835"><span class="hs-identifier hs-var">lift_name</span></a></span></span><span> </span><span id="local-6989586621683091836"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091836"><span class="hs-identifier hs-var">data_con</span></a></span></span><span>
</span><span id="line-1666"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683091837"><span class="hs-identifier hs-var">con_pat</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated e a
</span><a href="#local-6989586621683091838"><span class="hs-identifier hs-var">lift_Expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1667"></span><span>       </span><span class="hs-keyword">where</span><span>
</span><span id="line-1668"></span><span>            </span><span id="local-6989586621683091837"><span class="annot"><span class="annottext">con_pat :: LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091837"><span class="hs-identifier hs-var hs-var">con_pat</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091839"><span class="hs-identifier hs-var">data_con_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091840"><span class="hs-identifier hs-var">as_needed</span></a></span><span>
</span><span id="line-1669"></span><span>            </span><span id="local-6989586621683091839"><span class="annot"><span class="annottext">data_con_RDR :: RdrName
</span><a href="#local-6989586621683091839"><span class="hs-identifier hs-var hs-var">data_con_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091836"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1670"></span><span>            </span><span id="local-6989586621683091841"><span class="annot"><span class="annottext">con_arity :: Int
</span><a href="#local-6989586621683091841"><span class="hs-identifier hs-var hs-var">con_arity</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConSourceArity"><span class="hs-identifier hs-var">dataConSourceArity</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091836"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-1671"></span><span>            </span><span id="local-6989586621683091840"><span class="annot"><span class="annottext">as_needed :: [RdrName]
</span><a href="#local-6989586621683091840"><span class="hs-identifier hs-var hs-var">as_needed</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [RdrName] -&gt; [RdrName]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683091841"><span class="hs-identifier hs-var">con_arity</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var">as_RDRs</span></a></span><span>
</span><span id="line-1672"></span><span>            </span><span id="local-6989586621683091838"><span class="annot"><span class="annottext">lift_Expr :: GenLocated e a
</span><a href="#local-6989586621683091838"><span class="hs-identifier hs-var hs-var">lift_Expr</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; GenLocated e a
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; a
</span><a href="#local-6989586621683091833"><span class="hs-identifier hs-var">mk_bracket</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091842"><span class="hs-identifier hs-var">br_body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1673"></span><span>            </span><span id="local-6989586621683091842"><span class="annot"><span class="annottext">br_body :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091842"><span class="hs-identifier hs-var hs-var">br_body</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091836"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1674"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [RdrName] -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091845"><span class="hs-identifier hs-var">lift_var</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091840"><span class="hs-identifier hs-var">as_needed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1675"></span><span>
</span><span id="line-1676"></span><span>            </span><span class="annot"><a href="#local-6989586621683091845"><span class="hs-identifier hs-type">lift_var</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Hs.Extension.html#Parsed"><span class="hs-identifier hs-type">Parsed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1677"></span><span>            </span><span id="local-6989586621683091845"><span class="annot"><span class="annottext">lift_var :: RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091845"><span class="hs-identifier hs-var hs-var">lift_var</span></a></span></span><span> </span><span id="local-6989586621683091846"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091846"><span class="hs-identifier hs-var">x</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed)) -&gt; HsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091834"><span class="hs-identifier hs-var">mk_splice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091847"><span class="hs-identifier hs-var">mk_lift_expr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091846"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1678"></span><span>
</span><span id="line-1679"></span><span>            </span><span class="annot"><a href="#local-6989586621683091847"><span class="hs-identifier hs-type">mk_lift_expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Hs.Extension.html#Parsed"><span class="hs-identifier hs-type">Parsed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1680"></span><span>            </span><span id="local-6989586621683091847"><span class="annot"><span class="annottext">mk_lift_expr :: RdrName -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091847"><span class="hs-identifier hs-var hs-var">mk_lift_expr</span></a></span></span><span> </span><span id="local-6989586621683091848"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091848"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091835"><span class="hs-identifier hs-var">lift_name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091848"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1681"></span><span>
</span><span id="line-1682"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                     Newtype-deriving instances
*                                                                      *
************************************************************************

Note [Newtype-deriving instances]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We take every method in the original instance and `coerce` it to fit
into the derived instance. We need type applications on the argument
to `coerce` to make it obvious what instantiation of the method we're
coercing from.  So from, say,

  class C a b where
    op :: forall c. a -&gt; [b] -&gt; c -&gt; Int

  newtype T x = MkT &lt;rep-ty&gt;

  instance C a &lt;rep-ty&gt; =&gt; C a (T x) where
    op @c = coerce @(a -&gt; [&lt;rep-ty&gt;] -&gt; c -&gt; Int)
                   @(a -&gt; [T x]      -&gt; c -&gt; Int)
                   (op @c)

In addition to the type applications, we also use a type abstraction to bring
the method-bound variable `c` into scope. We do this for two reasons:

* We need to bring `c` into scope over the two type applications to `coerce`.
  See Note [GND and QuantifiedConstraints] for more information on why this
  is important.
* We need to bring `c` into scope over the type application to `op`. See
  Note [GND and ambiguity] for more information on why this is important.

(In the surface syntax, only specified type variables can be used in type
abstractions. Since a method signature could contain both specified and
inferred type variables, we need an internal-only way to represent the inferred
case. We handle this by smuggling a Specificity field in XInvisPat. See
Note [Inferred invisible patterns].)

Giving 'coerce' two explicitly-visible type arguments grants us finer control
over how it should be instantiated. Recall

  coerce :: Coercible a b =&gt; a -&gt; b

By giving it explicit type arguments we deal with the case where
'op' has a higher rank type, and so we must instantiate 'coerce' with
a polytype.  E.g.

   class C a where op :: a -&gt; forall b. b -&gt; b
   newtype T x = MkT &lt;rep-ty&gt;
   instance C &lt;rep-ty&gt; =&gt; C (T x) where
     op = coerce @(&lt;rep-ty&gt; -&gt; forall b. b -&gt; b)
                 @(T x      -&gt; forall b. b -&gt; b)
                op

The use of type applications is crucial here. We have to instantiate
both type args of (coerce :: Coercible a b =&gt; a -&gt; b) to polytypes,
and we can only do that with VTA or Quick Look. Here VTA seems more
appropriate for machine generated code: it's simple and robust.

However, to allow VTA with polytypes we must switch on
-XImpredicativeTypes locally in GHC.Tc.Deriv.genInst.
See #8503 for more discussion.

The following Notes describe further nuances of GeneralizedNewtypeDeriving:

-----
-- In GHC.Tc.Deriv
-----

* Note [Newtype deriving]
* Note [Newtype representation]
* Note [Recursive newtypes]
* Note [Determining whether newtype-deriving is appropriate]
* Note [GND and associated type families]
* Note [Bindings for Generalised Newtype Deriving]

-----
-- In GHC.Tc.Deriv.Generate
-----

* Note [Newtype-deriving trickiness]
* Note [GND and QuantifiedConstraints]
* Note [GND and ambiguity]

Note [Inferred invisible patterns]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider the following:

  class R a where
    r :: forall b. Proxy b -&gt; a

When newtype-deriving an instance of `R`, following
Note [GND and QuantifiedConstraints], we might generate the following code:

  instance R &lt;rep-ty&gt; =&gt; R &lt;new-ty&gt; where
    r = \ @b -&gt; coerce @(Proxy b -&gt; &lt;rep-ty&gt;)
                      @(Proxy b -&gt; &lt;new-ty&gt;)
                      r

The code being generated is an HsSyn AST, except for the arguments to coerce,
which are XHsTypes carrying Core types. As Core types, they must be fully
elaborated, so we actually want something more like the following:

  instance R &lt;rep-ty&gt; =&gt; R &lt;new-ty&gt; where
    r = \ @b -&gt; coerce @(Proxy @{k} b -&gt; &lt;rep-ty&gt;)
                      @(Proxy @{k} b -&gt; &lt;new-ty&gt;)
                      r

where the `k` corresponds to the `k` in the elaborated type of `r`:

  class R (a :: Type) where
    r :: forall {k :: Type} (b :: k). Proxy @{k} b -&gt; a

However, `k` is not bound in the definition of `r` in the derived instance, and
binding it requires a way to create an inferred (because `k` is inferred in the
signature of `r`) invisible pattern.

So we actually generate the following for `R`:

  instance R &lt;rep-ty&gt; =&gt; R &lt;new-ty&gt; where
    r = \ @{k :: Type} -&gt; \ @(b :: k) -&gt;
            coerce @(Proxy @{k} b -&gt; &lt;rep-ty&gt;)
                   @(Proxy @{k} b -&gt; &lt;new-ty&gt;)
                   r

The `\ @{k :: Type} -&gt;` (note the braces!) is the big lambda that binds `k`, and
represents an inferred invisible pattern. Inferred invisible patterns aren't
allowed in the surface syntax of Haskell, for the reason that the order in
which inferred foralls are added to a signature is not specified, so it is
ambiguous which pattern would bind to which forall. But when deriving an
instance, the patterns are being created after the type of the method has been
elaborated, so an order for the inferred foralls has already been determined.
This makes inferred invisible patterns safe for internal use.

(You might wonder if you could bring `k` into scope via the pattern signature
in `\ @(b :: k)`, but that does not work in general; e.g. if
`r :: Proxy Any -&gt; a`; see `C5` in test `deriving-inferred-ty-arg`.)

The implementation is straightforward: we have a Specificity field in
XInvisPat, which is always SpecifiedSpec when coming from the parser or
Template Haskell, but takes the specificity of the corresponding forall from
the method type during instance deriving. When type checking an invisible
pattern, we allow inferred patterns to bind inferred foralls just like we allow
specified patterns to bind specified foralls.

More discussion of this scenario and some rejected alternatives at
https://gitlab.haskell.org/ghc/ghc/-/merge_requests/13190

See also https://github.com/ghc-proposals/ghc-proposals/pull/675, which
was triggered by this ticket, and explores source-language syntax in this
space.

Note [Newtype-deriving trickiness]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider (#12768):
  class C a where { op :: D a =&gt; a -&gt; a }

  instance C a  =&gt; C [a] where { op = opList }

  opList :: (C a, D [a]) =&gt; [a] -&gt; [a]
  opList = ...

Now suppose we try GND on this:
  newtype N a = MkN [a] deriving( C )

The GND is expecting to get an implementation of op for N by
coercing opList, thus:

  instance C a =&gt; C (N a) where { op = opN }

  opN :: (C a, D (N a)) =&gt; N a -&gt; N a
  opN = coerce @([a]   -&gt; [a])
               @([N a] -&gt; [N a]
               opList :: D (N a) =&gt; [N a] -&gt; [N a]

But there is no reason to suppose that (D [a]) and (D (N a))
are inter-coercible; these instances might completely different.
So GHC rightly rejects this code.

Note [GND and QuantifiedConstraints]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider the following example from #15290:

  class C m where
    join :: m (m a) -&gt; m a

  newtype T m a = MkT (m a)

  deriving instance
    (C m, forall p q. Coercible p q =&gt; Coercible (m p) (m q)) =&gt;
    C (T m)

The code that GHC used to generate for this was:

  instance (C m, forall p q. Coercible p q =&gt; Coercible (m p) (m q)) =&gt;
      C (T m) where
    join = coerce @(forall a.   m   (m a) -&gt;   m a)
                  @(forall a. T m (T m a) -&gt; T m a)
                  join

This instantiates `coerce` at a polymorphic type, a form of impredicative
polymorphism, so we're already on thin ice. And in fact the ice breaks,
as we'll explain:

The call to `coerce` gives rise to:

  Coercible (forall a.   m   (m a) -&gt;   m a)
            (forall a. T m (T m a) -&gt; T m a)

And that simplified to the following implication constraint:

  forall a &lt;no-ev&gt;. m (T m a) ~R# m (m a)

But because this constraint is under a `forall`, inside a type, we have to
prove it *without computing any term evidence* (hence the &lt;no-ev&gt;). Alas, we
*must* generate a term-level evidence binding in order to instantiate the
quantified constraint! In response, GHC currently chooses not to use such
a quantified constraint.
See Note [Instances in no-evidence implications] in GHC.Tc.Solver.Equality.

But this isn't the death knell for combining QuantifiedConstraints with GND.
On the contrary, if we generate GND bindings in a slightly different way, then
we can avoid this situation altogether. Instead of applying `coerce` to two
polymorphic types, we instead use a type abstraction to bind the type
variables, and omit the `forall`s in the type applications. More concretely, we
generate the following code instead:

  instance (C m, forall p q. Coercible p q =&gt; Coercible (m p) (m q)) =&gt;
      C (T m) where
    join @a = coerce @(  m   (m a) -&gt;   m a)
                     @(T m (T m a) -&gt; T m a)
                     join

Now the visible type arguments are both monotypes, so we don't need any of this
funny quantified constraint instantiation business. While this particular
example no longer uses impredicative instantiation, we still need to enable
ImpredicativeTypes to typecheck GND-generated code for class methods with
higher-rank types. See Note [Newtype-deriving instances].

You might think that that second @(T m (T m a) -&gt; T m a) argument is redundant
with the type information provided by the class, but in fact leaving it off
will break the following example (from the T12616 test case):

  type m ~&gt; n = forall a. m a -&gt; n a
  data StateT s m a = ...
  newtype OtherStateT s m a = OtherStateT (StateT s m a)

  class MonadTrans t where
    lift :: (Monad m) =&gt; m ~&gt; t m

  instance MonadTrans (StateT s)

  instance MonadTrans (OtherStateT s) where
    lift @m = coerce @(m ~&gt; StateT s m)
                     lift

That is because we still need to instantiate the second argument of
coerce with a polytype, and we can only do that with VTA or QuickLook.

Note [GND and ambiguity]
~~~~~~~~~~~~~~~~~~~~~~~~
We make an effort to make the code generated through GND be robust w.r.t.
ambiguous type variables. Here are a couple of examples to illustrate this:

* In this example (from #15637), the class-bound type variable `a` is ambiguous
  in the type of `f`:

    class C a where
      f :: String    -- f :: forall a. C a =&gt; String
    instance C ()
      where f = &quot;foo&quot;
    newtype T = T ()
      deriving C

  A na&#239;ve attempt and generating a C T instance would be:

    instance C T where
      f = coerce @String @String f

  This isn't going to typecheck, however, since GHC doesn't know what to
  instantiate the type variable `a` with in the call to `f` in the method body.
  (Note that `f :: forall a. String`!) To compensate for the possibility of
  ambiguity here, we explicitly instantiate `a` like so:

    instance C T where
      f = coerce @String @String (f @())

  All better now.

* In this example (adapted from #25148), the ambiguity arises from the `n`
  type variable bound by the type signature for `fact1`:

    class Facts a where
      fact1 :: forall n. Proxy a -&gt; Dict (0 &lt;= n)
    newtype T a = MkT a
      deriving newtype Facts

  When generating code for the derived `Facts` instance, we must use a type
  abstraction to bring `n` into scope over the type applications to `coerce`
  (see Note [Newtype-deriving instances] for more why this is needed). A first
  attempt at generating the instance would be:

    instance Facts a =&gt; Facts (T a) where
      fact1 @n = coerce @(Proxy    a  -&gt; Dict (0 &lt;= n))
                        @(Proxy (T a) -&gt; Dict (0 &lt;= n))
                        (fact1 @a)

  This still won't typecheck, however, as GHC doesn't know how to instantiate
  `n` in the call to `fact1 @a`. To compensate for the possibility of ambiguity
  here, we also visibly apply `n` in the call to `fact1` on the RHS:

    instance Facts a =&gt; Facts (T a) where
      fact1 @n = coerce @(Proxy    a  -&gt; Dict (0 &lt;= n))
                        @(Proxy (T a) -&gt; Dict (0 &lt;= n))
                        (fact1 @a @n) -- Note the @n here!

  This takes advantage of the fact that we *already* need to bring `n` into
  scope using a type abstraction, and so we are able to use it both for
  instantiating the call to `coerce` and instantiating the call to `fact1`.

  Note that we use this same type abstractions-based approach for resolving
  ambiguity in default methods, as described in Note [Default methods in
  instances] (Wrinkle: Ambiguous types from vanilla method type signatures) in
  GHC.Tc.TyCl.Instance.
-}</span><span>
</span><span id="line-2008"></span><span>
</span><span id="line-2009"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_binds"><span class="hs-identifier hs-type">gen_Newtype_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-2010"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span>   </span><span class="hs-comment">-- the class being derived</span><span>
</span><span id="line-2011"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- the tvs in the instance head (this includes</span><span>
</span><span id="line-2012"></span><span>                             </span><span class="hs-comment">-- the tvs from both the class types and the</span><span>
</span><span id="line-2013"></span><span>                             </span><span class="hs-comment">-- newtype itself)</span><span>
</span><span id="line-2014"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- instance head parameters (incl. newtype)</span><span>
</span><span id="line-2015"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>    </span><span class="hs-comment">-- the representation type</span><span>
</span><span id="line-2016"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2017"></span><span class="hs-comment">-- See Note [Newtype-deriving instances]</span><span>
</span><span id="line-2018"></span><span id="gen_Newtype_binds"><span class="annot"><span class="annottext">gen_Newtype_binds :: SrcSpan
-&gt; Class -&gt; [Id] -&gt; [Type] -&gt; Type -&gt; LHsBinds (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_binds"><span class="hs-identifier hs-var hs-var">gen_Newtype_binds</span></a></span></span><span> </span><span id="local-6989586621683091850"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091850"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621683091851"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091851"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621683091852"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091852"><span class="hs-identifier hs-var">inst_tvs</span></a></span></span><span> </span><span id="local-6989586621683091853"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091853"><span class="hs-identifier hs-var">inst_tys</span></a></span></span><span> </span><span id="local-6989586621683091854"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091854"><span class="hs-identifier hs-var">rhs_ty</span></a></span></span><span>
</span><span id="line-2019"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id
 -&gt; GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)))
-&gt; [Id]
-&gt; [GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; LHsBind (GhcPass 'Parsed)
Id
-&gt; GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
</span><a href="#local-6989586621683091855"><span class="hs-identifier hs-var">mk_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [Id]
</span><a href="GHC.Core.Class.html#classMethods"><span class="hs-identifier hs-var">classMethods</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091851"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2020"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2021"></span><span>    </span><span class="hs-comment">-- Same as inst_tys, but with the last argument type replaced by the</span><span>
</span><span id="line-2022"></span><span>    </span><span class="hs-comment">-- representation type.</span><span>
</span><span id="line-2023"></span><span>    </span><span class="annot"><a href="#local-6989586621683091857"><span class="hs-identifier hs-type">underlying_inst_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2024"></span><span>    </span><span id="local-6989586621683091857"><span class="annot"><span class="annottext">underlying_inst_tys :: [Type]
</span><a href="#local-6989586621683091857"><span class="hs-identifier hs-var hs-var">underlying_inst_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Type -&gt; [Type]
forall a. [a] -&gt; a -&gt; [a]
</span><a href="GHC.Utils.Misc.html#changeLast"><span class="hs-identifier hs-var">changeLast</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091853"><span class="hs-identifier hs-var">inst_tys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091854"><span class="hs-identifier hs-var">rhs_ty</span></a></span><span>
</span><span id="line-2025"></span><span>
</span><span id="line-2026"></span><span>    </span><span id="local-6989586621683091859"><span class="annot"><span class="annottext">locn :: SrcSpanAnnN
</span><a href="#local-6989586621683091859"><span class="hs-identifier hs-var hs-var">locn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091850"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-2027"></span><span>    </span><span class="hs-comment">-- For each class method, generate its derived binding. Using the first</span><span>
</span><span id="line-2028"></span><span>    </span><span class="hs-comment">-- example from</span><span>
</span><span id="line-2029"></span><span>    </span><span class="hs-comment">-- Note [Newtype-deriving instances]:</span><span>
</span><span id="line-2030"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2031"></span><span>    </span><span class="hs-comment">--   class C a b where</span><span>
</span><span id="line-2032"></span><span>    </span><span class="hs-comment">--     op :: forall c. a -&gt; [b] -&gt; c -&gt; Int</span><span>
</span><span id="line-2033"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2034"></span><span>    </span><span class="hs-comment">--   newtype T x = MkT &lt;rep-ty&gt;</span><span>
</span><span id="line-2035"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2036"></span><span>    </span><span class="hs-comment">-- Then we would generate &lt;derived-op-impl&gt; below:</span><span>
</span><span id="line-2037"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2038"></span><span>    </span><span class="hs-comment">--   instance C a &lt;rep-ty&gt; =&gt; C a (T x) where</span><span>
</span><span id="line-2039"></span><span>    </span><span class="hs-comment">--     &lt;derived-op-impl&gt;</span><span>
</span><span id="line-2040"></span><span>    </span><span class="annot"><a href="#local-6989586621683091855"><span class="hs-identifier hs-type">mk_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2041"></span><span>    </span><span id="local-6989586621683091855"><span class="annot"><span class="annottext">mk_bind :: Id -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091855"><span class="hs-identifier hs-var hs-var">mk_bind</span></a></span></span><span> </span><span id="local-6989586621683091861"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091861"><span class="hs-identifier hs-var">meth_id</span></a></span></span><span>
</span><span id="line-2042"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- The derived binding, e.g.,</span><span>
</span><span id="line-2043"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-2044"></span><span>        </span><span class="hs-comment">--   op @c = coerce @(a -&gt; [&lt;rep-ty&gt;] -&gt; c -&gt; Int)</span><span>
</span><span id="line-2045"></span><span>        </span><span class="hs-comment">--                  @(a -&gt; [T x]      -&gt; c -&gt; Int)</span><span>
</span><span id="line-2046"></span><span>        </span><span class="hs-comment">--                  op</span><span>
</span><span id="line-2047"></span><span>        </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBind"><span class="hs-identifier hs-var">mkRdrFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683091862"><span class="hs-identifier hs-var">loc_meth_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsMatchContext (LIdP (NoGhcTc (GhcPass 'Parsed)))
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA,
 Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns) =&gt;
HsMatchContext (LIdP (NoGhcTc (GhcPass p)))
-&gt; LocatedE [LPat (GhcPass p)]
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkSimpleMatch"><span class="hs-identifier hs-var">mkSimpleMatch</span></a></span><span>
</span><span id="line-2048"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; AnnFunRhs -&gt; HsMatchContext (GenLocated SrcSpanAnnN RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683091862"><span class="hs-identifier hs-var">loc_meth_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2049"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(VarBndr Id Specificity
 -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed)))
-&gt; [VarBndr Id Specificity]
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">VarBndr Id Specificity -&gt; LPat (GhcPass 'Parsed)
VarBndr Id Specificity
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="#local-6989586621683091865"><span class="hs-identifier hs-var">mk_ty_pat</span></a></span><span> </span><span class="annot"><span class="annottext">[VarBndr Id Specificity]
</span><a href="#local-6989586621683091866"><span class="hs-identifier hs-var">to_tvbs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091867"><span class="hs-identifier hs-var">rhs_expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2050"></span><span>
</span><span id="line-2051"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2052"></span><span>        </span><span class="annot"><a href="GHC.Data.Pair.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621683091869"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091869"><span class="hs-identifier hs-var">from_ty</span></a></span></span><span> </span><span id="local-6989586621683091870"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091870"><span class="hs-identifier hs-var">to_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; [Id] -&gt; [Type] -&gt; Type -&gt; Id -&gt; Pair Type
</span><a href="GHC.Tc.Deriv.Generate.html#mkCoerceClassMethEqn"><span class="hs-identifier hs-var">mkCoerceClassMethEqn</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091851"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091852"><span class="hs-identifier hs-var">inst_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091853"><span class="hs-identifier hs-var">inst_tys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091854"><span class="hs-identifier hs-var">rhs_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091861"><span class="hs-identifier hs-var">meth_id</span></a></span><span>
</span><span id="line-2053"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091871"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091871"><span class="hs-identifier hs-var">from_tau</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([Id], [Type], Type)
</span><a href="GHC.Tc.Utils.TcType.html#tcSplitSigmaTy"><span class="hs-identifier hs-var">tcSplitSigmaTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091869"><span class="hs-identifier hs-var">from_ty</span></a></span><span>
</span><span id="line-2054"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621683091866"><span class="annot"><span class="annottext">[VarBndr Id Specificity]
</span><a href="#local-6989586621683091866"><span class="hs-identifier hs-var">to_tvbs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091873"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091873"><span class="hs-identifier hs-var">to_rho</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([VarBndr Id Specificity], Type)
</span><a href="GHC.Tc.Utils.TcType.html#tcSplitForAllInvisTVBinders"><span class="hs-identifier hs-var">tcSplitForAllInvisTVBinders</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091870"><span class="hs-identifier hs-var">to_ty</span></a></span><span>
</span><span id="line-2055"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091875"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091875"><span class="hs-identifier hs-var">to_tau</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([Type], Type)
</span><a href="GHC.Tc.Utils.TcType.html#tcSplitPhiTy"><span class="hs-identifier hs-var">tcSplitPhiTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091873"><span class="hs-identifier hs-var">to_rho</span></a></span><span>
</span><span id="line-2056"></span><span>        </span><span class="hs-comment">-- The `to_tvbs` bind variables that are mentioned in `to_rho` and</span><span>
</span><span id="line-2057"></span><span>        </span><span class="hs-comment">-- hence in `to_tau`. So we bring `to_tvbs` into scope via the</span><span>
</span><span id="line-2058"></span><span>        </span><span class="hs-comment">-- `mkSimpleMatch` above, so that their use in `to_tau` in `rhs_expr`</span><span>
</span><span id="line-2059"></span><span>        </span><span class="hs-comment">-- is well-scoped.</span><span>
</span><span id="line-2060"></span><span>
</span><span id="line-2061"></span><span>        </span><span class="annot"><a href="#local-6989586621683091865"><span class="hs-identifier hs-type">mk_ty_pat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#VarBndr"><span class="hs-identifier hs-type">VarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2062"></span><span>        </span><span id="local-6989586621683091865"><span class="annot"><span class="annottext">mk_ty_pat :: VarBndr Id Specificity -&gt; LPat (GhcPass 'Parsed)
</span><a href="#local-6989586621683091865"><span class="hs-identifier hs-var hs-var">mk_ty_pat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621683091878"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091878"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span id="local-6989586621683091879"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683091879"><span class="hs-identifier hs-var">spec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat (GhcPass 'Parsed)
 -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed)))
-&gt; Pat (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XInvisPat (GhcPass 'Parsed)
-&gt; HsTyPat (NoGhcTc (GhcPass 'Parsed)) -&gt; Pat (GhcPass 'Parsed)
forall p. XInvisPat p -&gt; HsTyPat (NoGhcTc p) -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#InvisPat"><span class="hs-identifier hs-var">InvisPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpToken &quot;@&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683091879"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsTyPat (NoGhcTc (GhcPass 'Parsed)) -&gt; Pat (GhcPass 'Parsed))
-&gt; HsTyPat (NoGhcTc (GhcPass 'Parsed)) -&gt; Pat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsType (GhcPass 'Parsed) -&gt; HsTyPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Type.html#mkHsTyPat"><span class="hs-identifier hs-var">mkHsTyPat</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType (GhcPass 'Parsed) -&gt; HsTyPat (GhcPass 'Parsed))
-&gt; LHsType (GhcPass 'Parsed) -&gt; HsTyPat (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2063"></span><span>          </span><span class="annot"><span class="annottext">PromotionFlag -&gt; IdP (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
PromotionFlag -&gt; IdP (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsTyVar"><span class="hs-identifier hs-var">nlHsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091878"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-2064"></span><span>
</span><span id="line-2065"></span><span>        </span><span id="local-6989586621683091884"><span class="annot"><span class="annottext">meth_RDR :: RdrName
</span><a href="#local-6989586621683091884"><span class="hs-identifier hs-var hs-var">meth_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091861"><span class="hs-identifier hs-var">meth_id</span></a></span><span>
</span><span id="line-2066"></span><span>        </span><span id="local-6989586621683091862"><span class="annot"><span class="annottext">loc_meth_RDR :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683091862"><span class="hs-identifier hs-var hs-var">loc_meth_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683091859"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091884"><span class="hs-identifier hs-var">meth_RDR</span></a></span><span>
</span><span id="line-2067"></span><span>
</span><span id="line-2068"></span><span>        </span><span id="local-6989586621683091867"><span class="annot"><span class="annottext">rhs_expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091867"><span class="hs-identifier hs-var hs-var">rhs_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="GHC.Types.Id.Make.html#coerceId"><span class="hs-identifier hs-var">coerceId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2069"></span><span>                                      </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsAppType"><span class="hs-operator hs-var">`nlHsAppType`</span></a></span><span>     </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091871"><span class="hs-identifier hs-var">from_tau</span></a></span><span>
</span><span id="line-2070"></span><span>                                      </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsAppType"><span class="hs-operator hs-var">`nlHsAppType`</span></a></span><span>     </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091875"><span class="hs-identifier hs-var">to_tau</span></a></span><span>
</span><span id="line-2071"></span><span>                                      </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span>         </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091887"><span class="hs-identifier hs-var">meth_app</span></a></span><span>
</span><span id="line-2072"></span><span>
</span><span id="line-2073"></span><span>        </span><span class="hs-comment">-- The class method, applied to the following types to avoid potential</span><span>
</span><span id="line-2074"></span><span>        </span><span class="hs-comment">-- ambiguity:</span><span>
</span><span id="line-2075"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-2076"></span><span>        </span><span class="hs-comment">-- 1. All of the class instance types (including the representation type)</span><span>
</span><span id="line-2077"></span><span>        </span><span class="hs-comment">-- 2. All of `to_tvbs`</span><span>
</span><span id="line-2078"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-2079"></span><span>        </span><span class="hs-comment">-- See Note [GND and ambiguity].</span><span>
</span><span id="line-2080"></span><span>        </span><span id="local-6989586621683091887"><span class="annot"><span class="annottext">meth_app :: LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683091887"><span class="hs-identifier hs-var hs-var">meth_app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA (HsExpr (GhcPass 'Parsed))
 -&gt; Type -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; [Type]
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; Type -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsAppType"><span class="hs-identifier hs-var">nlHsAppType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091884"><span class="hs-identifier hs-var">meth_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Type] -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [Type] -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2081"></span><span>                   </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.Type.html#filterOutInferredTypes"><span class="hs-identifier hs-var">filterOutInferredTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; TyCon
</span><a href="GHC.Core.Class.html#classTyCon"><span class="hs-identifier hs-var">classTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091851"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091857"><span class="hs-identifier hs-var">underlying_inst_tys</span></a></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; [Type] -&gt; [Type]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-comment">-- (1)</span><span>
</span><span id="line-2082"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#mkTyVarTy"><span class="hs-identifier hs-var">mkTyVarTy</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091891"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621683091891"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091891"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span id="local-6989586621683091892"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683091892"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[VarBndr Id Specificity]
</span><a href="#local-6989586621683091866"><span class="hs-identifier hs-var">to_tvbs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683091892"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity -&gt; Specificity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#InferredSpec"><span class="hs-identifier hs-var">InferredSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- (2)</span><span>
</span><span id="line-2083"></span><span>                     </span><span class="hs-comment">-- Filter out any inferred arguments, since they can't be</span><span>
</span><span id="line-2084"></span><span>                     </span><span class="hs-comment">-- applied with visible type application.</span><span>
</span><span id="line-2085"></span><span>
</span><span id="line-2086"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_fam_insts"><span class="hs-identifier hs-type">gen_Newtype_fam_insts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-2087"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span>   </span><span class="hs-comment">-- the class being derived</span><span>
</span><span id="line-2088"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- the tvs in the instance head (this includes</span><span>
</span><span id="line-2089"></span><span>                                 </span><span class="hs-comment">-- the tvs from both the class types and the</span><span>
</span><span id="line-2090"></span><span>                                 </span><span class="hs-comment">-- newtype itself)</span><span>
</span><span id="line-2091"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- instance head parameters (incl. newtype)</span><span>
</span><span id="line-2092"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>    </span><span class="hs-comment">-- the representation type</span><span>
</span><span id="line-2093"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.FamInstEnv.html#FamInst"><span class="hs-identifier hs-type">FamInst</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2094"></span><span class="hs-comment">-- See Note [GND and associated type families] in GHC.Tc.Deriv</span><span>
</span><span id="line-2095"></span><span id="gen_Newtype_fam_insts"><span class="annot"><span class="annottext">gen_Newtype_fam_insts :: SrcSpan -&gt; Class -&gt; [Id] -&gt; [Type] -&gt; Type -&gt; TcM [FamInst]
</span><a href="GHC.Tc.Deriv.Generate.html#gen_Newtype_fam_insts"><span class="hs-identifier hs-var hs-var">gen_Newtype_fam_insts</span></a></span></span><span> </span><span id="local-6989586621683091895"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091895"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621683091896"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091896"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621683091897"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091897"><span class="hs-identifier hs-var">inst_tvs</span></a></span></span><span> </span><span id="local-6989586621683091898"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091898"><span class="hs-identifier hs-var">inst_tys</span></a></span></span><span> </span><span id="local-6989586621683091899"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091899"><span class="hs-identifier hs-var">rhs_ty</span></a></span></span><span>
</span><span id="line-2096"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; TcM [FamInst] -&gt; TcM [FamInst]
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyCon -&gt; Bool) -&gt; [TyCon] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (TyCon -&gt; Bool) -&gt; TyCon -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isDataFamilyTyCon"><span class="hs-identifier hs-var">isDataFamilyTyCon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyCon]
</span><a href="#local-6989586621683091901"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TcM [FamInst] -&gt; TcM [FamInst]) -&gt; TcM [FamInst] -&gt; TcM [FamInst]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2097"></span><span>    </span><span class="annot"><span class="annottext">(TyCon -&gt; IOEnv (Env TcGblEnv TcLclEnv) FamInst)
-&gt; [TyCon] -&gt; TcM [FamInst]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; IOEnv (Env TcGblEnv TcLclEnv) FamInst
</span><a href="#local-6989586621683091903"><span class="hs-identifier hs-var">mk_atf_inst</span></a></span><span> </span><span class="annot"><span class="annottext">[TyCon]
</span><a href="#local-6989586621683091901"><span class="hs-identifier hs-var">ats</span></a></span><span>
</span><span id="line-2098"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2099"></span><span>    </span><span class="hs-comment">-- Same as inst_tys, but with the last argument type replaced by the</span><span>
</span><span id="line-2100"></span><span>    </span><span class="hs-comment">-- representation type.</span><span>
</span><span id="line-2101"></span><span>    </span><span class="annot"><a href="#local-6989586621683091904"><span class="hs-identifier hs-type">underlying_inst_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2102"></span><span>    </span><span id="local-6989586621683091904"><span class="annot"><span class="annottext">underlying_inst_tys :: [Type]
</span><a href="#local-6989586621683091904"><span class="hs-identifier hs-var hs-var">underlying_inst_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Type -&gt; [Type]
forall a. [a] -&gt; a -&gt; [a]
</span><a href="GHC.Utils.Misc.html#changeLast"><span class="hs-identifier hs-var">changeLast</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091898"><span class="hs-identifier hs-var">inst_tys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091899"><span class="hs-identifier hs-var">rhs_ty</span></a></span><span>
</span><span id="line-2103"></span><span>
</span><span id="line-2104"></span><span>    </span><span id="local-6989586621683091901"><span class="annot"><span class="annottext">ats :: [TyCon]
</span><a href="#local-6989586621683091901"><span class="hs-identifier hs-var hs-var">ats</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; [TyCon]
</span><a href="GHC.Core.Class.html#classATs"><span class="hs-identifier hs-var">classATs</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091896"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-2105"></span><span>    </span><span id="local-6989586621683091906"><span class="annot"><span class="annottext">locn :: SrcSpanAnnN
</span><a href="#local-6989586621683091906"><span class="hs-identifier hs-var hs-var">locn</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091895"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-2106"></span><span>    </span><span id="local-6989586621683091907"><span class="annot"><span class="annottext">cls_tvs :: [Id]
</span><a href="#local-6989586621683091907"><span class="hs-identifier hs-var hs-var">cls_tvs</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; [Id]
</span><a href="GHC.Core.Class.html#classTyVars"><span class="hs-identifier hs-var">classTyVars</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091896"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-2107"></span><span>    </span><span id="local-6989586621683091909"><span class="annot"><span class="annottext">in_scope :: InScopeSet
</span><a href="#local-6989586621683091909"><span class="hs-identifier hs-var hs-var">in_scope</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; InScopeSet
</span><a href="GHC.Types.Var.Env.html#mkInScopeSetList"><span class="hs-identifier hs-var">mkInScopeSetList</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091897"><span class="hs-identifier hs-var">inst_tvs</span></a></span><span>
</span><span id="line-2108"></span><span>    </span><span id="local-6989586621683091911"><span class="annot"><span class="annottext">lhs_env :: TvSubstEnv
</span><a href="#local-6989586621683091911"><span class="hs-identifier hs-var hs-var">lhs_env</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; [Type] -&gt; TvSubstEnv
HasDebugCallStack =&gt; [Id] -&gt; [Type] -&gt; TvSubstEnv
</span><a href="GHC.Core.TyCo.Subst.html#zipTyEnv"><span class="hs-identifier hs-var">zipTyEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091907"><span class="hs-identifier hs-var">cls_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091898"><span class="hs-identifier hs-var">inst_tys</span></a></span><span>
</span><span id="line-2109"></span><span>    </span><span id="local-6989586621683091913"><span class="annot"><span class="annottext">lhs_subst :: Subst
</span><a href="#local-6989586621683091913"><span class="hs-identifier hs-var hs-var">lhs_subst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InScopeSet -&gt; TvSubstEnv -&gt; Subst
</span><a href="GHC.Core.TyCo.Subst.html#mkTvSubst"><span class="hs-identifier hs-var">mkTvSubst</span></a></span><span> </span><span class="annot"><span class="annottext">InScopeSet
</span><a href="#local-6989586621683091909"><span class="hs-identifier hs-var">in_scope</span></a></span><span> </span><span class="annot"><span class="annottext">TvSubstEnv
</span><a href="#local-6989586621683091911"><span class="hs-identifier hs-var">lhs_env</span></a></span><span>
</span><span id="line-2110"></span><span>    </span><span id="local-6989586621683091915"><span class="annot"><span class="annottext">rhs_env :: TvSubstEnv
</span><a href="#local-6989586621683091915"><span class="hs-identifier hs-var hs-var">rhs_env</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; [Type] -&gt; TvSubstEnv
HasDebugCallStack =&gt; [Id] -&gt; [Type] -&gt; TvSubstEnv
</span><a href="GHC.Core.TyCo.Subst.html#zipTyEnv"><span class="hs-identifier hs-var">zipTyEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091907"><span class="hs-identifier hs-var">cls_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091904"><span class="hs-identifier hs-var">underlying_inst_tys</span></a></span><span>
</span><span id="line-2111"></span><span>    </span><span id="local-6989586621683091916"><span class="annot"><span class="annottext">rhs_subst :: Subst
</span><a href="#local-6989586621683091916"><span class="hs-identifier hs-var hs-var">rhs_subst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InScopeSet -&gt; TvSubstEnv -&gt; Subst
</span><a href="GHC.Core.TyCo.Subst.html#mkTvSubst"><span class="hs-identifier hs-var">mkTvSubst</span></a></span><span> </span><span class="annot"><span class="annottext">InScopeSet
</span><a href="#local-6989586621683091909"><span class="hs-identifier hs-var">in_scope</span></a></span><span> </span><span class="annot"><span class="annottext">TvSubstEnv
</span><a href="#local-6989586621683091915"><span class="hs-identifier hs-var">rhs_env</span></a></span><span>
</span><span id="line-2112"></span><span>
</span><span id="line-2113"></span><span>    </span><span class="annot"><a href="#local-6989586621683091903"><span class="hs-identifier hs-type">mk_atf_inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html#FamInst"><span class="hs-identifier hs-type">FamInst</span></a></span><span>
</span><span id="line-2114"></span><span>    </span><span id="local-6989586621683091903"><span class="annot"><span class="annottext">mk_atf_inst :: TyCon -&gt; IOEnv (Env TcGblEnv TcLclEnv) FamInst
</span><a href="#local-6989586621683091903"><span class="hs-identifier hs-var hs-var">mk_atf_inst</span></a></span></span><span> </span><span id="local-6989586621683091917"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091917"><span class="hs-identifier hs-var">fam_tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2115"></span><span>        </span><span id="local-6989586621683091918"><span class="annot"><a href="#local-6989586621683091918"><span class="hs-identifier hs-var">rep_tc_name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedN Name -&gt; [Type] -&gt; TcM Name
</span><a href="GHC.Tc.Utils.Env.html#newFamInstTyConName"><span class="hs-identifier hs-var">newFamInstTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; Name -&gt; LocatedN Name
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683091906"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091917"><span class="hs-identifier hs-var">fam_tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2116"></span><span>                                           </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091921"><span class="hs-identifier hs-var">rep_lhs_tys</span></a></span><span>
</span><span id="line-2117"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683091922"><span class="annot"><a href="#local-6989586621683091922"><span class="hs-identifier hs-var hs-var">axiom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role
-&gt; Name
-&gt; [Id]
-&gt; [Id]
-&gt; [Id]
-&gt; TyCon
-&gt; [Type]
-&gt; Type
-&gt; CoAxiom Unbranched
</span><a href="GHC.Core.FamInstEnv.html#mkSingleCoAxiom"><span class="hs-identifier hs-var">mkSingleCoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Nominal"><span class="hs-identifier hs-var">Nominal</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091918"><span class="hs-identifier hs-var">rep_tc_name</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091925"><span class="hs-identifier hs-var">rep_tvs'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091926"><span class="hs-identifier hs-var">rep_cvs'</span></a></span><span>
</span><span id="line-2118"></span><span>                                    </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091917"><span class="hs-identifier hs-var">fam_tc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091921"><span class="hs-identifier hs-var">rep_lhs_tys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091927"><span class="hs-identifier hs-var">rep_rhs_ty</span></a></span><span>
</span><span id="line-2119"></span><span>        </span><span class="annot"><a href="GHC.Tc.Validity.html#checkFamPatBinders"><span class="hs-identifier hs-type">checkFamPatBinders</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091917"><span class="hs-identifier hs-type">fam_tc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683091925"><span class="hs-identifier hs-type">rep_tvs'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683091926"><span class="hs-identifier hs-type">rep_cvs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#emptyVarSet"><span class="hs-identifier hs-type">emptyVarSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091921"><span class="hs-identifier hs-type">rep_lhs_tys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091927"><span class="hs-identifier hs-type">rep_rhs_ty</span></a></span><span>
</span><span id="line-2120"></span><span>        </span><span class="hs-comment">-- Check (c) from Note [GND and associated type families] in GHC.Tc.Deriv</span><span>
</span><span id="line-2121"></span><span>        </span><span class="annot"><a href="GHC.Tc.Validity.html#checkValidCoAxBranch"><span class="hs-identifier hs-type">checkValidCoAxBranch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091917"><span class="hs-identifier hs-type">fam_tc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#coAxiomSingleBranch"><span class="hs-identifier hs-type">coAxiomSingleBranch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091922"><span class="hs-identifier hs-type">axiom</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2122"></span><span>        </span><span class="annot"><a href="GHC.Tc.Utils.Instantiate.html#newFamInst"><span class="hs-identifier hs-type">newFamInst</span></a></span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html#SynFamilyInst"><span class="hs-identifier hs-type">SynFamilyInst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683091922"><span class="hs-identifier hs-type">axiom</span></a></span><span>
</span><span id="line-2123"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2124"></span><span>        </span><span id="local-6989586621683091932"><span class="annot"><span class="annottext">fam_tvs :: [Id]
</span><a href="#local-6989586621683091932"><span class="hs-identifier hs-var hs-var">fam_tvs</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Id]
</span><a href="GHC.Core.TyCon.html#tyConTyVars"><span class="hs-identifier hs-var">tyConTyVars</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091917"><span class="hs-identifier hs-var">fam_tc</span></a></span><span>
</span><span id="line-2125"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Subst
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091921"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091921"><span class="hs-identifier hs-var">rep_lhs_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Subst -&gt; [Id] -&gt; (Subst, [Type])
</span><a href="GHC.Tc.TyCl.Class.html#substATBndrs"><span class="hs-identifier hs-var">substATBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683091913"><span class="hs-identifier hs-var">lhs_subst</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091932"><span class="hs-identifier hs-var">fam_tvs</span></a></span><span>
</span><span id="line-2126"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Subst
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091934"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091934"><span class="hs-identifier hs-var">rep_rhs_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Subst -&gt; [Id] -&gt; (Subst, [Type])
</span><a href="GHC.Tc.TyCl.Class.html#substATBndrs"><span class="hs-identifier hs-var">substATBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683091916"><span class="hs-identifier hs-var">rhs_subst</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091932"><span class="hs-identifier hs-var">fam_tvs</span></a></span><span>
</span><span id="line-2127"></span><span>        </span><span id="local-6989586621683091927"><span class="annot"><span class="annottext">rep_rhs_ty :: Type
</span><a href="#local-6989586621683091927"><span class="hs-identifier hs-var hs-var">rep_rhs_ty</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Type.html#mkTyConApp"><span class="hs-identifier hs-var">mkTyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091917"><span class="hs-identifier hs-var">fam_tc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091934"><span class="hs-identifier hs-var">rep_rhs_tys</span></a></span><span>
</span><span id="line-2128"></span><span>        </span><span id="local-6989586621683091936"><span class="annot"><span class="annottext">rep_tcvs :: [Id]
</span><a href="#local-6989586621683091936"><span class="hs-identifier hs-var hs-var">rep_tcvs</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; [Id]
</span><a href="GHC.Core.TyCo.FVs.html#tyCoVarsOfTypesList"><span class="hs-identifier hs-var">tyCoVarsOfTypesList</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091921"><span class="hs-identifier hs-var">rep_lhs_tys</span></a></span><span>
</span><span id="line-2129"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621683091938"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091938"><span class="hs-identifier hs-var">rep_tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091939"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091939"><span class="hs-identifier hs-var">rep_cvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id -&gt; Bool) -&gt; [Id] -&gt; ([Id], [Id])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Var.html#isTyVar"><span class="hs-identifier hs-var">isTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091936"><span class="hs-identifier hs-var">rep_tcvs</span></a></span><span>
</span><span id="line-2130"></span><span>        </span><span id="local-6989586621683091925"><span class="annot"><span class="annottext">rep_tvs' :: [Id]
</span><a href="#local-6989586621683091925"><span class="hs-identifier hs-var hs-var">rep_tvs'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; [Id]
</span><a href="GHC.Core.TyCo.FVs.html#scopedSort"><span class="hs-identifier hs-var">scopedSort</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091938"><span class="hs-identifier hs-var">rep_tvs</span></a></span><span>
</span><span id="line-2131"></span><span>        </span><span id="local-6989586621683091926"><span class="annot"><span class="annottext">rep_cvs' :: [Id]
</span><a href="#local-6989586621683091926"><span class="hs-identifier hs-var hs-var">rep_cvs'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; [Id]
</span><a href="GHC.Core.TyCo.FVs.html#scopedSort"><span class="hs-identifier hs-var">scopedSort</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091939"><span class="hs-identifier hs-var">rep_cvs</span></a></span><span>
</span><span id="line-2132"></span><span>
</span><span id="line-2133"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nlHsAppType"><span class="hs-identifier hs-type">nlHsAppType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2134"></span><span id="nlHsAppType"><span class="annot"><span class="annottext">nlHsAppType :: LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsAppType"><span class="hs-identifier hs-var hs-var">nlHsAppType</span></a></span></span><span> </span><span id="local-6989586621683091942"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091942"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621683091943"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091943"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAppTypeE (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsWcType (NoGhcTc (GhcPass 'Parsed))
-&gt; HsExpr (GhcPass 'Parsed)
forall p.
XAppTypeE p -&gt; LHsExpr p -&gt; LHsWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTypeE (GhcPass 'Parsed)
EpToken &quot;@&quot;
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091942"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">LHsWcType (NoGhcTc (GhcPass 'Parsed))
HsWildCardBndrs
  (GhcPass 'Parsed)
  (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091945"><span class="hs-identifier hs-var">hs_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2135"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2136"></span><span>    </span><span id="local-6989586621683091945"><span class="annot"><span class="annottext">hs_ty :: HsWildCardBndrs
  (GhcPass 'Parsed)
  (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683091945"><span class="hs-identifier hs-var hs-var">hs_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
forall thing. thing -&gt; HsWildCardBndrs (GhcPass 'Parsed) thing
</span><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
 -&gt; HsWildCardBndrs
      (GhcPass 'Parsed)
      (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))))
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PprPrec -&gt; LHsType (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall (p :: Pass).
PprPrec -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsType (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed))
-&gt; LHsType (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; LHsType (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsCoreTy"><span class="hs-identifier hs-var">nlHsCoreTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091943"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2137"></span><span>
</span><span id="line-2138"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nlHsCoreTy"><span class="hs-identifier hs-type">nlHsCoreTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#HsCoreTy"><span class="hs-identifier hs-type">HsCoreTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2139"></span><span id="nlHsCoreTy"><span class="annot"><span class="annottext">nlHsCoreTy :: Type -&gt; LHsType (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nlHsCoreTy"><span class="hs-identifier hs-var hs-var">nlHsCoreTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(HsType (GhcPass 'Parsed)
 -&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
-&gt; (Type -&gt; HsType (GhcPass 'Parsed))
-&gt; Type
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XXType (GhcPass 'Parsed) -&gt; HsType (GhcPass 'Parsed)
Type -&gt; HsType (GhcPass 'Parsed)
forall pass. XXType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a></span><span>
</span><span id="line-2140"></span><span>
</span><span id="line-2141"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkCoerceClassMethEqn"><span class="hs-identifier hs-type">mkCoerceClassMethEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span>   </span><span class="hs-comment">-- the class being derived</span><span>
</span><span id="line-2142"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- the tvs in the instance head (this includes</span><span>
</span><span id="line-2143"></span><span>                                </span><span class="hs-comment">-- the tvs from both the class types and the</span><span>
</span><span id="line-2144"></span><span>                                </span><span class="hs-comment">-- newtype itself)</span><span>
</span><span id="line-2145"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- instance head parameters (incl. newtype)</span><span>
</span><span id="line-2146"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>    </span><span class="hs-comment">-- the representation type</span><span>
</span><span id="line-2147"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>      </span><span class="hs-comment">-- the method to look at</span><span>
</span><span id="line-2148"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Pair.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-2149"></span><span class="hs-comment">-- See Note [Newtype-deriving instances]</span><span>
</span><span id="line-2150"></span><span class="hs-comment">-- See also Note [Newtype-deriving trickiness]</span><span>
</span><span id="line-2151"></span><span class="hs-comment">-- The pair is the (from_type, to_type), where to_type is</span><span>
</span><span id="line-2152"></span><span class="hs-comment">-- the type of the method we are trying to get</span><span>
</span><span id="line-2153"></span><span id="mkCoerceClassMethEqn"><span class="annot"><span class="annottext">mkCoerceClassMethEqn :: Class -&gt; [Id] -&gt; [Type] -&gt; Type -&gt; Id -&gt; Pair Type
</span><a href="GHC.Tc.Deriv.Generate.html#mkCoerceClassMethEqn"><span class="hs-identifier hs-var hs-var">mkCoerceClassMethEqn</span></a></span></span><span> </span><span id="local-6989586621683091952"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091952"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621683091953"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091953"><span class="hs-identifier hs-var">inst_tvs</span></a></span></span><span> </span><span id="local-6989586621683091954"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091954"><span class="hs-identifier hs-var">inst_tys</span></a></span></span><span> </span><span id="local-6989586621683091955"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091955"><span class="hs-identifier hs-var">rhs_ty</span></a></span></span><span> </span><span id="local-6989586621683091956"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091956"><span class="hs-identifier hs-var">id</span></a></span></span><span>
</span><span id="line-2154"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Pair Type
forall a. a -&gt; a -&gt; Pair a
</span><a href="GHC.Data.Pair.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Subst -&gt; Type -&gt; Type
Subst -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Subst.html#substTy"><span class="hs-identifier hs-var">substTy</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683091958"><span class="hs-identifier hs-var">rhs_subst</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091959"><span class="hs-identifier hs-var">user_meth_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2155"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Subst -&gt; Type -&gt; Type
Subst -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Subst.html#substTy"><span class="hs-identifier hs-var">substTy</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683091960"><span class="hs-identifier hs-var">lhs_subst</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091959"><span class="hs-identifier hs-var">user_meth_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2156"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2157"></span><span>    </span><span id="local-6989586621683091961"><span class="annot"><span class="annottext">cls_tvs :: [Id]
</span><a href="#local-6989586621683091961"><span class="hs-identifier hs-var hs-var">cls_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; [Id]
</span><a href="GHC.Core.Class.html#classTyVars"><span class="hs-identifier hs-var">classTyVars</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683091952"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-2158"></span><span>    </span><span id="local-6989586621683091962"><span class="annot"><span class="annottext">in_scope :: InScopeSet
</span><a href="#local-6989586621683091962"><span class="hs-identifier hs-var hs-var">in_scope</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; InScopeSet
</span><a href="GHC.Types.Var.Env.html#mkInScopeSetList"><span class="hs-identifier hs-var">mkInScopeSetList</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091953"><span class="hs-identifier hs-var">inst_tvs</span></a></span><span>
</span><span id="line-2159"></span><span>    </span><span id="local-6989586621683091960"><span class="annot"><span class="annottext">lhs_subst :: Subst
</span><a href="#local-6989586621683091960"><span class="hs-identifier hs-var hs-var">lhs_subst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InScopeSet -&gt; TvSubstEnv -&gt; Subst
</span><a href="GHC.Core.TyCo.Subst.html#mkTvSubst"><span class="hs-identifier hs-var">mkTvSubst</span></a></span><span> </span><span class="annot"><span class="annottext">InScopeSet
</span><a href="#local-6989586621683091962"><span class="hs-identifier hs-var">in_scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; [Type] -&gt; TvSubstEnv
HasDebugCallStack =&gt; [Id] -&gt; [Type] -&gt; TvSubstEnv
</span><a href="GHC.Core.TyCo.Subst.html#zipTyEnv"><span class="hs-identifier hs-var">zipTyEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091961"><span class="hs-identifier hs-var">cls_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091954"><span class="hs-identifier hs-var">inst_tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2160"></span><span>    </span><span id="local-6989586621683091958"><span class="annot"><span class="annottext">rhs_subst :: Subst
</span><a href="#local-6989586621683091958"><span class="hs-identifier hs-var hs-var">rhs_subst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InScopeSet -&gt; TvSubstEnv -&gt; Subst
</span><a href="GHC.Core.TyCo.Subst.html#mkTvSubst"><span class="hs-identifier hs-var">mkTvSubst</span></a></span><span> </span><span class="annot"><span class="annottext">InScopeSet
</span><a href="#local-6989586621683091962"><span class="hs-identifier hs-var">in_scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; [Type] -&gt; TvSubstEnv
HasDebugCallStack =&gt; [Id] -&gt; [Type] -&gt; TvSubstEnv
</span><a href="GHC.Core.TyCo.Subst.html#zipTyEnv"><span class="hs-identifier hs-var">zipTyEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091961"><span class="hs-identifier hs-var">cls_tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Type -&gt; [Type]
forall a. [a] -&gt; a -&gt; [a]
</span><a href="GHC.Utils.Misc.html#changeLast"><span class="hs-identifier hs-var">changeLast</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683091954"><span class="hs-identifier hs-var">inst_tys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091955"><span class="hs-identifier hs-var">rhs_ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2161"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683091963"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621683091963"><span class="hs-identifier hs-var">_class_tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091964"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091964"><span class="hs-identifier hs-var">_class_constraint</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683091959"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683091959"><span class="hs-identifier hs-var">user_meth_ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2162"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([Id], Type, Type)
</span><a href="GHC.Tc.Utils.TcType.html#tcSplitMethodTy"><span class="hs-identifier hs-var">tcSplitMethodTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Type
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683091956"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2163"></span><span>
</span><span id="line-2164"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Generating extra binds (@tag2con@, etc.)}
*                                                                      *
************************************************************************

\begin{verbatim}
data Foo ... = ...

tag2con_Foo :: Int -&gt; Foo ...   -- easier if Int, not Int#
maxtag_Foo  :: Int              -- ditto (NB: not unlifted)
\end{verbatim}

The `tags' here start at zero, hence the @fIRST_TAG@ (currently one)
fiddling around.
-}</span><span>
</span><span id="line-2181"></span><span>
</span><span id="line-2182"></span><span class="hs-comment">-- | Generate the full code for an auxiliary binding.</span><span>
</span><span id="line-2183"></span><span class="hs-comment">-- See @Note [Auxiliary binders] (Wrinkle: Reducing code duplication)@.</span><span>
</span><span id="line-2184"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecOriginal"><span class="hs-identifier hs-type">genAuxBindSpecOriginal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span>
</span><span id="line-2185"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2186"></span><span id="genAuxBindSpecOriginal"><span class="annot"><span class="annottext">genAuxBindSpecOriginal :: SrcSpan
-&gt; AuxBindSpec
-&gt; (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecOriginal"><span class="hs-identifier hs-var hs-var">genAuxBindSpecOriginal</span></a></span></span><span> </span><span id="local-6989586621683091968"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683091969"><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683091969"><span class="hs-identifier hs-var">spec</span></a></span></span><span>
</span><span id="line-2187"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AuxBindSpec -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091970"><span class="hs-identifier hs-var">gen_bind</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683091969"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2188"></span><span>     </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Sig (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683091971"><span class="hs-identifier hs-var">loca</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Parsed)
-&gt; [LIdP (GhcPass 'Parsed)]
-&gt; LHsSigWcType (GhcPass 'Parsed)
-&gt; Sig (GhcPass 'Parsed)
forall pass.
XTypeSig pass -&gt; [LIdP pass] -&gt; LHsSigWcType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-var">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Parsed)
AnnSig
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683091973"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AuxBindSpec -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683091969"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2189"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; AuxBindSpec -&gt; LHsSigWcType (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecSig"><span class="hs-identifier hs-var">genAuxBindSpecSig</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683091969"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2190"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2191"></span><span>    </span><span id="local-6989586621683091971"><span class="annot"><span class="annottext">loca :: SrcSpanAnnA
</span><a href="#local-6989586621683091971"><span class="hs-identifier hs-var hs-var">loca</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2192"></span><span>    </span><span id="local-6989586621683091973"><span class="annot"><span class="annottext">locn :: SrcSpanAnnN
</span><a href="#local-6989586621683091973"><span class="hs-identifier hs-var hs-var">locn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2193"></span><span>    </span><span class="annot"><a href="#local-6989586621683091970"><span class="hs-identifier hs-type">gen_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2194"></span><span>    </span><span id="local-6989586621683091970"><span class="annot"><span class="annottext">gen_bind :: AuxBindSpec -&gt; LHsBind (GhcPass 'Parsed)
</span><a href="#local-6989586621683091970"><span class="hs-identifier hs-var hs-var">gen_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-type">DerivTag2Con</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683091975"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091975"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2195"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindSE"><span class="hs-identifier hs-var">mkFunBindSE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091975"><span class="hs-identifier hs-var">tag2con_RDR</span></a></span><span>
</span><span id="line-2196"></span><span>           </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; LPat (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlConVarPat"><span class="hs-identifier hs-var">nlConVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2197"></span><span>              </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#tagToEnum_RDR"><span class="hs-identifier hs-var">tagToEnum_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var">a_Expr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2198"></span><span>
</span><span id="line-2199"></span><span>    </span><span class="annot"><a href="#local-6989586621683091970"><span class="hs-identifier hs-var">gen_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivMaxTag"><span class="hs-identifier hs-type">DerivMaxTag</span></a></span><span> </span><span id="local-6989586621683091978"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091978"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621683091979"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091979"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2200"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091979"><span class="hs-identifier hs-var">maxtag_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091980"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-2201"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2202"></span><span>        </span><span id="local-6989586621683091980"><span class="annot"><span class="annottext">rhs :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091980"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#intDataCon_RDR"><span class="hs-identifier hs-var">intDataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2203"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed) -&gt; Integer -&gt; HsLit (GhcPass 'Parsed)
forall x. XHsIntPrim x -&gt; Integer -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-var">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim (GhcPass 'Parsed)
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683091981"><span class="hs-identifier hs-var">max_tag</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2204"></span><span>        </span><span id="local-6989586621683091981"><span class="annot"><span class="annottext">max_tag :: Integer
</span><a href="#local-6989586621683091981"><span class="hs-identifier hs-var hs-var">max_tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091978"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2205"></span><span>                     </span><span id="local-6989586621683091982"><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091982"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DataCon] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621683091982"><span class="hs-identifier hs-var">data_cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Basic.html#fIRST_TAG"><span class="hs-identifier hs-var">fIRST_TAG</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2206"></span><span>
</span><span id="line-2207"></span><span>    </span><span class="annot"><a href="#local-6989586621683091970"><span class="hs-identifier hs-var">gen_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataDataType"><span class="hs-identifier hs-type">DerivDataDataType</span></a></span><span> </span><span id="local-6989586621683091983"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091983"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621683091984"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091984"><span class="hs-identifier hs-var">dataT_RDR</span></a></span></span><span> </span><span id="local-6989586621683091985"><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091985"><span class="hs-identifier hs-var">dataC_RDRs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2208"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091984"><span class="hs-identifier hs-var">dataT_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091986"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-2209"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2210"></span><span>        </span><span id="local-6989586621683091987"><span class="annot"><span class="annottext">tc_name :: Name
</span><a href="#local-6989586621683091987"><span class="hs-identifier hs-var hs-var">tc_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683091983"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-2211"></span><span>        </span><span id="local-6989586621683091988"><span class="annot"><span class="annottext">tc_name_string :: FastString
</span><a href="#local-6989586621683091988"><span class="hs-identifier hs-var hs-var">tc_name_string</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091987"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2212"></span><span>        </span><span id="local-6989586621683091990"><span class="annot"><span class="annottext">definition_mod_name :: FastString
</span><a href="#local-6989586621683091990"><span class="hs-identifier hs-var hs-var">definition_mod_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; FastString
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameFS"><span class="hs-identifier hs-var">moduleNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe Module -&gt; Module
forall a. HasDebugCallStack =&gt; String -&gt; Maybe a -&gt; a
</span><a href="GHC.Data.Maybe.html#expectJust"><span class="hs-identifier hs-var">expectJust</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gen_bind DerivDataDataType&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Module -&gt; Module) -&gt; Maybe Module -&gt; Module
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683091987"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2213"></span><span>        </span><span id="local-6989586621683091986"><span class="annot"><span class="annottext">rhs :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091986"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#mkDataType_RDR"><span class="hs-identifier hs-var">mkDataType_RDR</span></a></span><span>
</span><span id="line-2214"></span><span>              </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). FastString -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsStringFS"><span class="hs-identifier hs-var">mkHsStringFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FastString] -&gt; FastString
</span><a href="GHC.Data.FastString.html#concatFS"><span class="hs-identifier hs-var">concatFS</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091990"><span class="hs-identifier hs-var">definition_mod_name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683091988"><span class="hs-identifier hs-var">tc_name_string</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2215"></span><span>              </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-operator hs-var">`nlHsApp`</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlList"><span class="hs-identifier hs-var">nlList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [RdrName] -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
RdrName -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><a href="#local-6989586621683091985"><span class="hs-identifier hs-var">dataC_RDRs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2216"></span><span>
</span><span id="line-2217"></span><span>    </span><span class="annot"><a href="#local-6989586621683091970"><span class="hs-identifier hs-var">gen_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataConstr"><span class="hs-identifier hs-type">DerivDataConstr</span></a></span><span> </span><span id="local-6989586621683091995"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091995"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621683091996"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091996"><span class="hs-identifier hs-var">dataC_RDR</span></a></span></span><span> </span><span id="local-6989586621683091997"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091997"><span class="hs-identifier hs-var">dataT_RDR</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2218"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683091968"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683091996"><span class="hs-identifier hs-var">dataC_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091998"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-2219"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2220"></span><span>        </span><span id="local-6989586621683091998"><span class="annot"><span class="annottext">rhs :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683091998"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [LHsExpr (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsApps"><span class="hs-identifier hs-var">nlHsApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#mkConstrTag_RDR"><span class="hs-identifier hs-var">mkConstrTag_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091999"><span class="hs-identifier hs-var">constr_args</span></a></span><span>
</span><span id="line-2221"></span><span>
</span><span id="line-2222"></span><span>        </span><span id="local-6989586621683091999"><span class="annot"><span class="annottext">constr_args :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683091999"><span class="hs-identifier hs-var hs-var">constr_args</span></a></span></span><span>
</span><span id="line-2223"></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683091997"><span class="hs-identifier hs-var">dataT_RDR</span></a></span><span>                            </span><span class="hs-comment">-- DataType</span><span>
</span><span id="line-2224"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). FastString -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsStringFS"><span class="hs-identifier hs-var">mkHsStringFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683092000"><span class="hs-identifier hs-var">dc_occ</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Constructor name</span><span>
</span><span id="line-2225"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). Integer -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsIntLit"><span class="hs-identifier hs-var">nlHsIntLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Int
</span><a href="GHC.Core.DataCon.html#dataConTag"><span class="hs-identifier hs-var">dataConTag</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091995"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- Constructor tag</span><span>
</span><span id="line-2226"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlList"><span class="hs-identifier hs-var">nlList</span></a></span><span>  </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
[LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092001"><span class="hs-identifier hs-var">labels</span></a></span><span>                               </span><span class="hs-comment">-- Field labels</span><span>
</span><span id="line-2227"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092002"><span class="hs-identifier hs-var">fixity</span></a></span><span> </span><span class="hs-special">]</span><span>                             </span><span class="hs-comment">-- Fixity</span><span>
</span><span id="line-2228"></span><span>
</span><span id="line-2229"></span><span>        </span><span id="local-6989586621683092001"><span class="annot"><span class="annottext">labels :: [LocatedA (HsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092001"><span class="hs-identifier hs-var hs-var">labels</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldLabel -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; [FieldLabel] -&gt; [LocatedA (HsExpr (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
HsLit (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="annot"><span class="annottext">(HsLit (GhcPass 'Parsed) -&gt; LocatedA (HsExpr (GhcPass 'Parsed)))
-&gt; (FieldLabel -&gt; HsLit (GhcPass 'Parsed))
-&gt; FieldLabel
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). FastString -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsStringFS"><span class="hs-identifier hs-var">mkHsStringFS</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; HsLit (GhcPass 'Parsed))
-&gt; (FieldLabel -&gt; FastString)
-&gt; FieldLabel
-&gt; HsLit (GhcPass 'Parsed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldLabelString -&gt; FastString
</span><a href="Language.Haskell.Syntax.Basic.html#field_label"><span class="hs-identifier hs-var">field_label</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLabelString -&gt; FastString)
-&gt; (FieldLabel -&gt; FieldLabelString) -&gt; FieldLabel -&gt; FastString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldLabel -&gt; FieldLabelString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2230"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [FieldLabel]
</span><a href="GHC.Core.DataCon.html#dataConFieldLabels"><span class="hs-identifier hs-var">dataConFieldLabels</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091995"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2231"></span><span>        </span><span id="local-6989586621683092000"><span class="annot"><span class="annottext">dc_occ :: OccName
</span><a href="#local-6989586621683092000"><span class="hs-identifier hs-var hs-var">dc_occ</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683091995"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-2232"></span><span>        </span><span id="local-6989586621683092003"><span class="annot"><span class="annottext">is_infix :: Bool
</span><a href="#local-6989586621683092003"><span class="hs-identifier hs-var hs-var">is_infix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataSymOcc"><span class="hs-identifier hs-var">isDataSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683092000"><span class="hs-identifier hs-var">dc_occ</span></a></span><span>
</span><span id="line-2233"></span><span>        </span><span id="local-6989586621683092002"><span class="annot"><span class="annottext">fixity :: RdrName
</span><a href="#local-6989586621683092002"><span class="hs-identifier hs-var hs-var">fixity</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683092003"><span class="hs-identifier hs-var">is_infix</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#infix_RDR"><span class="hs-identifier hs-var">infix_RDR</span></a></span><span>
</span><span id="line-2234"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#prefix_RDR"><span class="hs-identifier hs-var">prefix_RDR</span></a></span><span>
</span><span id="line-2235"></span><span>
</span><span id="line-2236"></span><span class="hs-comment">-- | Generate the code for an auxiliary binding that is a duplicate of another</span><span>
</span><span id="line-2237"></span><span class="hs-comment">-- auxiliary binding.</span><span>
</span><span id="line-2238"></span><span class="hs-comment">-- See @Note [Auxiliary binders] (Wrinkle: Reducing code duplication)@.</span><span>
</span><span id="line-2239"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecDup"><span class="hs-identifier hs-type">genAuxBindSpecDup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span>
</span><span id="line-2240"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2241"></span><span id="genAuxBindSpecDup"><span class="annot"><span class="annottext">genAuxBindSpecDup :: SrcSpan
-&gt; RdrName
-&gt; AuxBindSpec
-&gt; (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecDup"><span class="hs-identifier hs-var hs-var">genAuxBindSpecDup</span></a></span></span><span> </span><span id="local-6989586621683092006"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092006"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092007"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092007"><span class="hs-identifier hs-var">original_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092008"><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092008"><span class="hs-identifier hs-var">dup_spec</span></a></span></span><span>
</span><span id="line-2242"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkHsVarBind"><span class="hs-identifier hs-var">mkHsVarBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092006"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092009"><span class="hs-identifier hs-var">dup_rdr_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092007"><span class="hs-identifier hs-var">original_rdr_name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2243"></span><span>     </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Sig (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683092010"><span class="hs-identifier hs-var">loca</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Parsed)
-&gt; [LIdP (GhcPass 'Parsed)]
-&gt; LHsSigWcType (GhcPass 'Parsed)
-&gt; Sig (GhcPass 'Parsed)
forall pass.
XTypeSig pass -&gt; [LIdP pass] -&gt; LHsSigWcType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-var">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Parsed)
AnnSig
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092011"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092009"><span class="hs-identifier hs-var">dup_rdr_name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2244"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; AuxBindSpec -&gt; LHsSigWcType (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecSig"><span class="hs-identifier hs-var">genAuxBindSpecSig</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092006"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092008"><span class="hs-identifier hs-var">dup_spec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2245"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2246"></span><span>    </span><span id="local-6989586621683092010"><span class="annot"><span class="annottext">loca :: SrcSpanAnnA
</span><a href="#local-6989586621683092010"><span class="hs-identifier hs-var hs-var">loca</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092006"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2247"></span><span>    </span><span id="local-6989586621683092011"><span class="annot"><span class="annottext">locn :: SrcSpanAnnN
</span><a href="#local-6989586621683092011"><span class="hs-identifier hs-var hs-var">locn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092006"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2248"></span><span>    </span><span id="local-6989586621683092009"><span class="annot"><span class="annottext">dup_rdr_name :: RdrName
</span><a href="#local-6989586621683092009"><span class="hs-identifier hs-var hs-var">dup_rdr_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AuxBindSpec -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092008"><span class="hs-identifier hs-var">dup_spec</span></a></span><span>
</span><span id="line-2249"></span><span>
</span><span id="line-2250"></span><span class="hs-comment">-- | Generate the type signature of an auxiliary binding.</span><span>
</span><span id="line-2251"></span><span class="hs-comment">-- See @Note [Auxiliary binders]@.</span><span>
</span><span id="line-2252"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecSig"><span class="hs-identifier hs-type">genAuxBindSpecSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2253"></span><span id="genAuxBindSpecSig"><span class="annot"><span class="annottext">genAuxBindSpecSig :: SrcSpan -&gt; AuxBindSpec -&gt; LHsSigWcType (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecSig"><span class="hs-identifier hs-var hs-var">genAuxBindSpecSig</span></a></span></span><span> </span><span id="local-6989586621683092012"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092012"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092013"><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092013"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092013"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2254"></span><span>  </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivTag2Con"><span class="hs-identifier hs-type">DerivTag2Con</span></a></span><span> </span><span id="local-6989586621683092014"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092014"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2255"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092015"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
 -&gt; HsWildCardBndrs
      (GhcPass 'Parsed)
      (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))))
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092012"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsType (GhcPass 'Parsed)
 -&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed)))
-&gt; HsType (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2256"></span><span>       </span><span class="annot"><span class="annottext">XXType (GhcPass 'Parsed) -&gt; HsType (GhcPass 'Parsed)
forall pass. XXType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a></span><span> </span><span class="annot"><span class="annottext">(XXType (GhcPass 'Parsed) -&gt; HsType (GhcPass 'Parsed))
-&gt; XXType (GhcPass 'Parsed) -&gt; HsType (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; Type -&gt; Type
</span><a href="GHC.Core.Type.html#mkSpecForAllTys"><span class="hs-identifier hs-var">mkSpecForAllTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [Id]
</span><a href="GHC.Core.TyCon.html#tyConTyVars"><span class="hs-identifier hs-var">tyConTyVars</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092014"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2257"></span><span>       </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.html#intTy"><span class="hs-identifier hs-var">intTy</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type -&gt; Type
Type -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#mkVisFunTyMany"><span class="hs-operator hs-var">`mkVisFunTyMany`</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Tc.Deriv.Generate.html#mkParentType"><span class="hs-identifier hs-var">mkParentType</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092014"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-2258"></span><span>  </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivMaxTag"><span class="hs-identifier hs-type">DerivMaxTag</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2259"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092015"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092012"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXType (GhcPass 'Parsed) -&gt; HsType (GhcPass 'Parsed)
forall pass. XXType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a></span><span> </span><span class="annot"><span class="annottext">XXType (GhcPass 'Parsed)
Type
</span><a href="GHC.Builtin.Types.html#intTy"><span class="hs-identifier hs-var">intTy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2260"></span><span>  </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataDataType"><span class="hs-identifier hs-type">DerivDataDataType</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[RdrName]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2261"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092015"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PromotionFlag -&gt; IdP (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
PromotionFlag -&gt; IdP (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsTyVar"><span class="hs-identifier hs-var">nlHsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dataType_RDR"><span class="hs-identifier hs-var">dataType_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2262"></span><span>  </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivDataConstr"><span class="hs-identifier hs-type">DerivDataConstr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2263"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092015"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PromotionFlag -&gt; IdP (GhcPass 'Parsed) -&gt; LHsType (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
PromotionFlag -&gt; IdP (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsTyVar"><span class="hs-identifier hs-var">nlHsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#constr_RDR"><span class="hs-identifier hs-var">constr_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2264"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2265"></span><span>    </span><span id="local-6989586621683092015"><span class="annot"><span class="annottext">mk_sig :: GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092015"><span class="hs-identifier hs-var hs-var">mk_sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
forall thing. thing -&gt; HsWildCardBndrs (GhcPass 'Parsed) thing
</span><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))
 -&gt; HsWildCardBndrs
      (GhcPass 'Parsed)
      (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))))
-&gt; (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
    -&gt; GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsWildCardBndrs
     (GhcPass 'Parsed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsSigType (GhcPass 'Parsed)
-&gt; GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092012"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsSigType (GhcPass 'Parsed)
 -&gt; GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed)))
-&gt; (GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
    -&gt; HsSigType (GhcPass 'Parsed))
-&gt; GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Parsed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LHsType (GhcPass 'Parsed) -&gt; HsSigType (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (HsType (GhcPass 'Parsed))
-&gt; HsSigType (GhcPass 'Parsed)
</span><a href="GHC.Hs.Type.html#mkHsImplicitSigType"><span class="hs-identifier hs-var">mkHsImplicitSigType</span></a></span><span>
</span><span id="line-2266"></span><span>
</span><span id="line-2267"></span><span class="hs-comment">-- | Take a 'Bag' of 'AuxBindSpec's and generate the code for auxiliary</span><span>
</span><span id="line-2268"></span><span class="hs-comment">-- bindings based on the declarative descriptions in the supplied</span><span>
</span><span id="line-2269"></span><span class="hs-comment">-- 'AuxBindSpec's. See @Note [Auxiliary binders]@.</span><span>
</span><span id="line-2270"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genAuxBinds"><span class="hs-identifier hs-type">genAuxBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span>
</span><span id="line-2271"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2272"></span><span id="genAuxBinds"><span class="annot"><span class="annottext">genAuxBinds :: SrcSpan
-&gt; Bag AuxBindSpec
-&gt; Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBinds"><span class="hs-identifier hs-var hs-var">genAuxBinds</span></a></span></span><span> </span><span id="local-6989586621683092020"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092020"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccEnv RdrName,
 Bag
   (GenLocated
      SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
    GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((OccEnv RdrName,
  Bag
    (GenLocated
       SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
     GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
 -&gt; Bag
      (GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
       GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
-&gt; (Bag AuxBindSpec
    -&gt; (OccEnv RdrName,
        Bag
          (GenLocated
             SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
           GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))))
-&gt; Bag AuxBindSpec
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(AuxBindSpec
 -&gt; (OccEnv RdrName,
     Bag
       (GenLocated
          SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
        GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
 -&gt; (OccEnv RdrName,
     Bag
       (GenLocated
          SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
        GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))))
-&gt; (OccEnv RdrName,
    Bag
      (GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
       GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
-&gt; Bag AuxBindSpec
-&gt; (OccEnv RdrName,
    Bag
      (GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
       GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Bag a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
-&gt; (OccEnv RdrName,
    Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed)))
-&gt; (OccEnv RdrName,
    Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed)))
AuxBindSpec
-&gt; (OccEnv RdrName,
    Bag
      (GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
       GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
-&gt; (OccEnv RdrName,
    Bag
      (GenLocated
         SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
       GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed))))
</span><a href="#local-6989586621683092022"><span class="hs-identifier hs-var">gen_aux_bind_spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccEnv RdrName
forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var">emptyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag
  (GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
   GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2273"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2274"></span><span>  </span><span class="hs-comment">-- Perform a CSE-like pass over the generated auxiliary bindings to avoid</span><span>
</span><span id="line-2275"></span><span>  </span><span class="hs-comment">-- code duplication, as described in</span><span>
</span><span id="line-2276"></span><span>  </span><span class="hs-comment">-- Note [Auxiliary binders] (Wrinkle: Reducing code duplication).</span><span>
</span><span id="line-2277"></span><span>  </span><span class="hs-comment">-- The OccEnv remembers the first occurrence of each sort of auxiliary</span><span>
</span><span id="line-2278"></span><span>  </span><span class="hs-comment">-- binding and maps it to the unique RdrName for that binding.</span><span>
</span><span id="line-2279"></span><span>  </span><span class="annot"><a href="#local-6989586621683092022"><span class="hs-identifier hs-type">gen_aux_bind_spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#AuxBindSpec"><span class="hs-identifier hs-type">AuxBindSpec</span></a></span><span>
</span><span id="line-2280"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2281"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2282"></span><span>  </span><span id="local-6989586621683092022"><span class="annot"><span class="annottext">gen_aux_bind_spec :: AuxBindSpec
-&gt; (OccEnv RdrName,
    Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed)))
-&gt; (OccEnv RdrName,
    Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092022"><span class="hs-identifier hs-var hs-var">gen_aux_bind_spec</span></a></span></span><span> </span><span id="local-6989586621683092024"><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092024"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683092025"><span class="annot"><span class="annottext">OccEnv RdrName
</span><a href="#local-6989586621683092025"><span class="hs-identifier hs-var">original_rdr_name_env</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683092026"><span class="annot"><span class="annottext">Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="#local-6989586621683092026"><span class="hs-identifier hs-var">spec_bag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2283"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccEnv RdrName -&gt; OccName -&gt; Maybe RdrName
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv RdrName
</span><a href="#local-6989586621683092025"><span class="hs-identifier hs-var">original_rdr_name_env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683092028"><span class="hs-identifier hs-var">spec_occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2284"></span><span>      </span><span class="annot"><span class="annottext">Maybe RdrName
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-2285"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">OccEnv RdrName -&gt; OccName -&gt; RdrName -&gt; OccEnv RdrName
forall a. OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-var">extendOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv RdrName
</span><a href="#local-6989586621683092025"><span class="hs-identifier hs-var">original_rdr_name_env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683092028"><span class="hs-identifier hs-var">spec_occ</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092030"><span class="hs-identifier hs-var">spec_rdr_name</span></a></span><span>
</span><span id="line-2286"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; AuxBindSpec
-&gt; (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecOriginal"><span class="hs-identifier hs-var">genAuxBindSpecOriginal</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092020"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092024"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
 GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
Bag
  (GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
   GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092026"><span class="hs-identifier hs-var">spec_bag</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2287"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683092032"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092032"><span class="hs-identifier hs-var">original_rdr_name</span></a></span></span><span>
</span><span id="line-2288"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">OccEnv RdrName
</span><a href="#local-6989586621683092025"><span class="hs-identifier hs-var">original_rdr_name_env</span></a></span><span>
</span><span id="line-2289"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; AuxBindSpec
-&gt; (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#genAuxBindSpecDup"><span class="hs-identifier hs-var">genAuxBindSpecDup</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092020"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092032"><span class="hs-identifier hs-var">original_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092024"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
 GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
-&gt; Bag
     (GenLocated
        SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
      GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (LHsBind (GhcPass 'Parsed), LSig (GhcPass 'Parsed))
Bag
  (GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)),
   GenLocated SrcSpanAnnA (Sig (GhcPass 'Parsed)))
</span><a href="#local-6989586621683092026"><span class="hs-identifier hs-var">spec_bag</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2290"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-2291"></span><span>      </span><span id="local-6989586621683092030"><span class="annot"><span class="annottext">spec_rdr_name :: RdrName
</span><a href="#local-6989586621683092030"><span class="hs-identifier hs-var hs-var">spec_rdr_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AuxBindSpec -&gt; RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#auxBindSpecRdrName"><span class="hs-identifier hs-var">auxBindSpecRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">AuxBindSpec
</span><a href="#local-6989586621683092024"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-2292"></span><span>      </span><span id="local-6989586621683092028"><span class="annot"><span class="annottext">spec_occ :: OccName
</span><a href="#local-6989586621683092028"><span class="hs-identifier hs-var hs-var">spec_occ</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092030"><span class="hs-identifier hs-var">spec_rdr_name</span></a></span><span>
</span><span id="line-2293"></span><span>
</span><span id="line-2294"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkParentType"><span class="hs-identifier hs-type">mkParentType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-2295"></span><span class="hs-comment">-- Turn the representation tycon of a family into</span><span>
</span><span id="line-2296"></span><span class="hs-comment">-- a use of its family constructor</span><span>
</span><span id="line-2297"></span><span id="mkParentType"><span class="annot"><span class="annottext">mkParentType :: TyCon -&gt; Type
</span><a href="GHC.Tc.Deriv.Generate.html#mkParentType"><span class="hs-identifier hs-var hs-var">mkParentType</span></a></span></span><span> </span><span id="local-6989586621683092034"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092034"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-2298"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe (TyCon, [Type])
</span><a href="GHC.Core.TyCon.html#tyConFamInst_maybe"><span class="hs-identifier hs-var">tyConFamInst_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092034"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2299"></span><span>       </span><span class="annot"><span class="annottext">Maybe (TyCon, [Type])
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Type.html#mkTyConApp"><span class="hs-identifier hs-var">mkTyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092034"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Rep.html#mkTyVarTys"><span class="hs-identifier hs-var">mkTyVarTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; [Id]
</span><a href="GHC.Core.TyCon.html#tyConTyVars"><span class="hs-identifier hs-var">tyConTyVars</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092034"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2300"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683092036"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092036"><span class="hs-identifier hs-var">fam_tc</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683092037"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092037"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Type.html#mkTyConApp"><span class="hs-identifier hs-var">mkTyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092036"><span class="hs-identifier hs-var">fam_tc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092037"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-2301"></span><span>
</span><span id="line-2302"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Utility bits for generating bindings}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-2309"></span><span>
</span><span id="line-2310"></span><span class="hs-comment">-- | Make a function binding. If no equations are given, produce a function</span><span>
</span><span id="line-2311"></span><span class="hs-comment">-- with the given arity that produces a stock error.</span><span>
</span><span id="line-2312"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkFunBindSE"><span class="hs-identifier hs-type">mkFunBindSE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2313"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2314"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2315"></span><span id="mkFunBindSE"><span class="annot"><span class="annottext">mkFunBindSE :: Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindSE"><span class="hs-identifier hs-var hs-var">mkFunBindSE</span></a></span></span><span> </span><span id="local-6989586621683092039"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092039"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621683092040"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092040"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092041"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092041"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621683092042"><span class="annot"><span class="annottext">[([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092042"><span class="hs-identifier hs-var">pats_and_exprs</span></a></span></span><span>
</span><span id="line-2316"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindSE"><span class="hs-identifier hs-var">mkRdrFunBindSE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092039"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092040"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092041"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092043"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2317"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2318"></span><span>    </span><span id="local-6989586621683092043"><span class="annot"><span class="annottext">matches :: [GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092043"><span class="hs-identifier hs-var hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsMatchContext (LIdP (NoGhcTc (GhcPass 'Parsed)))
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsLocalBinds (GhcPass 'Parsed)
-&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
forall (p :: Pass).
IsPass p =&gt;
HsMatchContext (LIdP (NoGhcTc (GhcPass p)))
-&gt; LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p)
-&gt; HsLocalBinds (GhcPass p)
-&gt; LMatch (GhcPass p) (LHsExpr (GhcPass p))
</span><a href="GHC.Hs.Utils.html#mkMatch"><span class="hs-identifier hs-var">mkMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName
-&gt; AnnFunRhs
-&gt; HsMatchContext
     (GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anno (IdGhcP (NoGhcTcPass 'Parsed))
-&gt; RdrName
-&gt; GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anno (IdGhcP (NoGhcTcPass 'Parsed))
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092040"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092041"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2319"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
 -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed)))
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092046"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683092047"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2320"></span><span>                               </span><span class="annot"><span class="annottext">HsLocalBinds (GhcPass 'Parsed)
forall (a :: Pass) (b :: Pass).
HsLocalBindsLR (GhcPass a) (GhcPass b)
</span><a href="GHC.Hs.Binds.html#emptyLocalBinds"><span class="hs-identifier hs-var">emptyLocalBinds</span></a></span><span>
</span><span id="line-2321"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683092046"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092046"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683092047"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683092047"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span class="annot"><span class="annottext">[([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
[([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
  LocatedA (HsExpr (GhcPass 'Parsed)))]
</span><a href="#local-6989586621683092042"><span class="hs-identifier hs-var">pats_and_exprs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2322"></span><span>
</span><span id="line-2323"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBind"><span class="hs-identifier hs-type">mkRdrFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2324"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2325"></span><span id="mkRdrFunBind"><span class="annot"><span class="annottext">mkRdrFunBind :: GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBind"><span class="hs-identifier hs-var hs-var">mkRdrFunBind</span></a></span></span><span> </span><span id="local-6989586621683092049"><span class="annot"><span class="annottext">fun :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092049"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683092050"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092050"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092051"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092051"><span class="hs-identifier hs-var">_fun_rdr</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683092052"><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092052"><span class="hs-identifier hs-var">matches</span></a></span></span><span>
</span><span id="line-2326"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
-&gt; GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpanAnnA
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092050"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkFunBind"><span class="hs-identifier hs-var">mkFunBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenReason -&gt; DoPmc -&gt; Origin
</span><a href="GHC.Types.Basic.html#Generated"><span class="hs-identifier hs-var">Generated</span></a></span><span> </span><span class="annot"><span class="annottext">GenReason
</span><a href="GHC.Types.Basic.html#OtherExpansion"><span class="hs-identifier hs-var">OtherExpansion</span></a></span><span> </span><span class="annot"><span class="annottext">DoPmc
</span><a href="GHC.Types.Basic.html#SkipPmc"><span class="hs-identifier hs-var">SkipPmc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092049"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092052"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2327"></span><span>
</span><span id="line-2328"></span><span class="hs-comment">-- | Make a function binding. If no equations are given, produce a function</span><span>
</span><span id="line-2329"></span><span class="hs-comment">-- with the given arity that uses an empty case expression for the last</span><span>
</span><span id="line-2330"></span><span class="hs-comment">-- argument that is passes to the given function to produce the right-hand</span><span>
</span><span id="line-2331"></span><span class="hs-comment">-- side.</span><span>
</span><span id="line-2332"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-type">mkFunBindEC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2333"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2334"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2335"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2336"></span><span id="mkFunBindEC"><span class="annot"><span class="annottext">mkFunBindEC :: Int
-&gt; SrcSpan
-&gt; RdrName
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; [([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkFunBindEC"><span class="hs-identifier hs-var hs-var">mkFunBindEC</span></a></span></span><span> </span><span id="local-6989586621683092058"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092058"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621683092059"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092059"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092060"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092060"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621683092061"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092061"><span class="hs-identifier hs-var">catch_all</span></a></span></span><span> </span><span id="local-6989586621683092062"><span class="annot"><span class="annottext">[([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092062"><span class="hs-identifier hs-var">pats_and_exprs</span></a></span></span><span>
</span><span id="line-2337"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindEC"><span class="hs-identifier hs-var">mkRdrFunBindEC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092058"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092061"><span class="hs-identifier hs-var">catch_all</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092059"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092060"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092063"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2338"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2339"></span><span>    </span><span id="local-6989586621683092063"><span class="annot"><span class="annottext">matches :: [GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092063"><span class="hs-identifier hs-var hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">HsMatchContext (LIdP (NoGhcTc (GhcPass 'Parsed)))
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsLocalBinds (GhcPass 'Parsed)
-&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
forall (p :: Pass).
IsPass p =&gt;
HsMatchContext (LIdP (NoGhcTc (GhcPass p)))
-&gt; LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p)
-&gt; HsLocalBinds (GhcPass p)
-&gt; LMatch (GhcPass p) (LHsExpr (GhcPass p))
</span><a href="GHC.Hs.Utils.html#mkMatch"><span class="hs-identifier hs-var">mkMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName
-&gt; AnnFunRhs
-&gt; HsMatchContext
     (GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anno (IdGhcP (NoGhcTcPass 'Parsed))
-&gt; RdrName
-&gt; GenLocated (Anno (IdGhcP (NoGhcTcPass 'Parsed))) RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anno (IdGhcP (NoGhcTcPass 'Parsed))
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092059"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092060"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2340"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
 -&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed)))
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprPrec -&gt; LPat (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
PprPrec -&gt; LPat (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Pat.html#parenthesizePat"><span class="hs-identifier hs-var">parenthesizePat</span></a></span><span> </span><span class="annot"><span class="annottext">PprPrec
</span><a href="GHC.Types.Basic.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092064"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683092065"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2341"></span><span>                                </span><span class="annot"><span class="annottext">HsLocalBinds (GhcPass 'Parsed)
forall (a :: Pass) (b :: Pass).
HsLocalBindsLR (GhcPass a) (GhcPass b)
</span><a href="GHC.Hs.Binds.html#emptyLocalBinds"><span class="hs-identifier hs-var">emptyLocalBinds</span></a></span><span>
</span><span id="line-2342"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683092064"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092064"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683092065"><span class="annot"><span class="annottext">LocatedA (HsExpr (GhcPass 'Parsed))
</span><a href="#local-6989586621683092065"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[([LPat (GhcPass 'Parsed)], LHsExpr (GhcPass 'Parsed))]
[([GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))],
  LocatedA (HsExpr (GhcPass 'Parsed)))]
</span><a href="#local-6989586621683092062"><span class="hs-identifier hs-var">pats_and_exprs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2343"></span><span>
</span><span id="line-2344"></span><span class="hs-comment">-- | Produces a function binding. When no equations are given, it generates</span><span>
</span><span id="line-2345"></span><span class="hs-comment">-- a binding of the given arity and an empty case expression</span><span>
</span><span id="line-2346"></span><span class="hs-comment">-- for the last argument that it passes to the given function to produce</span><span>
</span><span id="line-2347"></span><span class="hs-comment">-- the right-hand side.</span><span>
</span><span id="line-2348"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindEC"><span class="hs-identifier hs-type">mkRdrFunBindEC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span>
</span><span id="line-2349"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2350"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2351"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2352"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2353"></span><span id="mkRdrFunBindEC"><span class="annot"><span class="annottext">mkRdrFunBindEC :: Int
-&gt; (LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindEC"><span class="hs-identifier hs-var hs-var">mkRdrFunBindEC</span></a></span></span><span> </span><span id="local-6989586621683092066"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092066"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621683092067"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092067"><span class="hs-identifier hs-var">catch_all</span></a></span></span><span> </span><span id="local-6989586621683092068"><span class="annot"><span class="annottext">fun :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092068"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683092069"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092069"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092070"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092070"><span class="hs-identifier hs-var">_fun_rdr</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683092071"><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092071"><span class="hs-identifier hs-var">matches</span></a></span></span><span>
</span><span id="line-2354"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
-&gt; GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpanAnnA
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092069"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkFunBind"><span class="hs-identifier hs-var">mkFunBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenReason -&gt; DoPmc -&gt; Origin
</span><a href="GHC.Types.Basic.html#Generated"><span class="hs-identifier hs-var">Generated</span></a></span><span> </span><span class="annot"><span class="annottext">GenReason
</span><a href="GHC.Types.Basic.html#OtherExpansion"><span class="hs-identifier hs-var">OtherExpansion</span></a></span><span> </span><span class="annot"><span class="annottext">DoPmc
</span><a href="GHC.Types.Basic.html#SkipPmc"><span class="hs-identifier hs-var">SkipPmc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092068"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092072"><span class="hs-identifier hs-var">matches'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2355"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2356"></span><span>   </span><span class="hs-comment">-- Catch-all eqn looks like</span><span>
</span><span id="line-2357"></span><span>   </span><span class="hs-comment">--     fmap _ z = case z of {}</span><span>
</span><span id="line-2358"></span><span>   </span><span class="hs-comment">-- or</span><span>
</span><span id="line-2359"></span><span>   </span><span class="hs-comment">--     traverse _ z = pure (case z of)</span><span>
</span><span id="line-2360"></span><span>   </span><span class="hs-comment">-- or</span><span>
</span><span id="line-2361"></span><span>   </span><span class="hs-comment">--     foldMap _ z = mempty</span><span>
</span><span id="line-2362"></span><span>   </span><span class="hs-comment">-- It's needed if there no data cons at all,</span><span>
</span><span id="line-2363"></span><span>   </span><span class="hs-comment">-- which can happen with -XEmptyDataDecls</span><span>
</span><span id="line-2364"></span><span>   </span><span class="hs-comment">-- See #4302</span><span>
</span><span id="line-2365"></span><span>   </span><span id="local-6989586621683092072"><span class="annot"><span class="annottext">matches' :: [GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092072"><span class="hs-identifier hs-var hs-var">matches'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092071"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2366"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsMatchContext (LIdP (NoGhcTc (GhcPass 'Parsed)))
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsLocalBinds (GhcPass 'Parsed)
-&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
forall (p :: Pass).
IsPass p =&gt;
HsMatchContext (LIdP (NoGhcTc (GhcPass p)))
-&gt; LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p)
-&gt; HsLocalBinds (GhcPass p)
-&gt; LMatch (GhcPass p) (LHsExpr (GhcPass p))
</span><a href="GHC.Hs.Utils.html#mkMatch"><span class="hs-identifier hs-var">mkMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; AnnFunRhs -&gt; HsMatchContext (GenLocated SrcSpanAnnN RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092068"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2367"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092066"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Tc.Deriv.Generate.html#z_Pat"><span class="hs-identifier hs-var">z_Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2368"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092067"><span class="hs-identifier hs-var">catch_all</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#z_Expr"><span class="hs-identifier hs-var">z_Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2369"></span><span>                            </span><span class="annot"><span class="annottext">HsLocalBinds (GhcPass 'Parsed)
forall (a :: Pass) (b :: Pass).
HsLocalBindsLR (GhcPass a) (GhcPass b)
</span><a href="GHC.Hs.Binds.html#emptyLocalBinds"><span class="hs-identifier hs-var">emptyLocalBinds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2370"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092071"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2371"></span><span>
</span><span id="line-2372"></span><span class="hs-comment">-- | Produces a function binding. When there are no equations, it generates</span><span>
</span><span id="line-2373"></span><span class="hs-comment">-- a binding with the given arity that produces an error based on the name of</span><span>
</span><span id="line-2374"></span><span class="hs-comment">-- the type of the last argument.</span><span>
</span><span id="line-2375"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindSE"><span class="hs-identifier hs-type">mkRdrFunBindSE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2376"></span><span>                    </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2377"></span><span id="mkRdrFunBindSE"><span class="annot"><span class="annottext">mkRdrFunBindSE :: Int
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsBind (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#mkRdrFunBindSE"><span class="hs-identifier hs-var hs-var">mkRdrFunBindSE</span></a></span></span><span> </span><span id="local-6989586621683092073"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092073"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621683092074"><span class="annot"><span class="annottext">fun :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092074"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683092075"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092075"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092076"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092076"><span class="hs-identifier hs-var">fun_rdr</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683092077"><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
</span><a href="#local-6989586621683092077"><span class="hs-identifier hs-var">matches</span></a></span></span><span>
</span><span id="line-2378"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
-&gt; GenLocated
     SrcSpanAnnA (HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpanAnnA
forall a b. (HasLoc a, HasAnnotation b) =&gt; a -&gt; b
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621683092075"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; HsBindLR (GhcPass 'Parsed) (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#mkFunBind"><span class="hs-identifier hs-var">mkFunBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenReason -&gt; DoPmc -&gt; Origin
</span><a href="GHC.Types.Basic.html#Generated"><span class="hs-identifier hs-var">Generated</span></a></span><span> </span><span class="annot"><span class="annottext">GenReason
</span><a href="GHC.Types.Basic.html#OtherExpansion"><span class="hs-identifier hs-var">OtherExpansion</span></a></span><span> </span><span class="annot"><span class="annottext">DoPmc
</span><a href="GHC.Types.Basic.html#SkipPmc"><span class="hs-identifier hs-var">SkipPmc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092074"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092078"><span class="hs-identifier hs-var">matches'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2379"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2380"></span><span>   </span><span class="hs-comment">-- Catch-all eqn looks like</span><span>
</span><span id="line-2381"></span><span>   </span><span class="hs-comment">--     compare _ _ = error &quot;Void compare&quot;</span><span>
</span><span id="line-2382"></span><span>   </span><span class="hs-comment">-- It's needed if there no data cons at all,</span><span>
</span><span id="line-2383"></span><span>   </span><span class="hs-comment">-- which can happen with -XEmptyDataDecls</span><span>
</span><span id="line-2384"></span><span>   </span><span class="hs-comment">-- See #4302</span><span>
</span><span id="line-2385"></span><span>   </span><span id="local-6989586621683092078"><span class="annot"><span class="annottext">matches' :: [GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092078"><span class="hs-identifier hs-var hs-var">matches'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092077"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2386"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsMatchContext (LIdP (NoGhcTc (GhcPass 'Parsed)))
-&gt; LocatedE [LPat (GhcPass 'Parsed)]
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; HsLocalBinds (GhcPass 'Parsed)
-&gt; LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))
forall (p :: Pass).
IsPass p =&gt;
HsMatchContext (LIdP (NoGhcTc (GhcPass p)))
-&gt; LocatedE [LPat (GhcPass p)]
-&gt; LHsExpr (GhcPass p)
-&gt; HsLocalBinds (GhcPass p)
-&gt; LMatch (GhcPass p) (LHsExpr (GhcPass p))
</span><a href="GHC.Hs.Utils.html#mkMatch"><span class="hs-identifier hs-var">mkMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; AnnFunRhs -&gt; HsMatchContext (GenLocated SrcSpanAnnN RdrName)
forall fn. fn -&gt; AnnFunRhs -&gt; HsMatchContext fn
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621683092074"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">AnnFunRhs
forall a. NoAnn a =&gt; a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2387"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
-&gt; GenLocated
     EpaLocation [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
-&gt; GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
-&gt; [GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092073"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
GenLocated SrcSpanAnnA (Pat (GhcPass 'Parsed))
</span><a href="GHC.Hs.Utils.html#nlWildPat"><span class="hs-identifier hs-var">nlWildPat</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2388"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#error_Expr"><span class="hs-identifier hs-var">error_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683092079"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds (GhcPass 'Parsed)
forall (a :: Pass) (b :: Pass).
HsLocalBindsLR (GhcPass a) (GhcPass b)
</span><a href="GHC.Hs.Binds.html#emptyLocalBinds"><span class="hs-identifier hs-var">emptyLocalBinds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2389"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
[GenLocated
   SrcSpanAnnA
   (Match (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed))))]
</span><a href="#local-6989586621683092077"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-2390"></span><span>   </span><span id="local-6989586621683092079"><span class="annot"><span class="annottext">str :: FastString
</span><a href="#local-6989586621683092079"><span class="hs-identifier hs-var hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Void &quot;</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; FastString
</span><a href="GHC.Data.FastString.html#appendFS"><span class="hs-operator hs-var">`appendFS`</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092076"><span class="hs-identifier hs-var">fun_rdr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2391"></span><span>
</span><span id="line-2392"></span><span>
</span><span id="line-2393"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#box"><span class="hs-identifier hs-type">box</span></a></span><span> </span><span class="hs-glyph">::</span><span>         </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>           </span><span class="hs-comment">-- The class involved</span><span>
</span><span id="line-2394"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>    </span><span class="hs-comment">-- The argument</span><span>
</span><span id="line-2395"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>             </span><span class="hs-comment">-- The argument type</span><span>
</span><span id="line-2396"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>    </span><span class="hs-comment">-- Boxed version of the arg</span><span>
</span><span id="line-2397"></span><span class="hs-comment">-- See Note [Deriving and unboxed types] in GHC.Tc.Deriv.Infer</span><span>
</span><span id="line-2398"></span><span id="box"><span class="annot"><span class="annottext">box :: String
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; Type -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#box"><span class="hs-identifier hs-var hs-var">box</span></a></span></span><span> </span><span id="local-6989586621683092081"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092081"><span class="hs-identifier hs-var">cls_str</span></a></span></span><span> </span><span id="local-6989586621683092082"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092082"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621683092083"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092083"><span class="hs-identifier hs-var">arg_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; [(Type, LocatedA (HsExpr (GhcPass 'Parsed)))]
-&gt; Type
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. HasDebugCallStack =&gt; String -&gt; [(Type, a)] -&gt; Type -&gt; a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id"><span class="hs-identifier hs-var">assoc_ty_id</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092081"><span class="hs-identifier hs-var">cls_str</span></a></span><span> </span><span class="annot"><span class="annottext">[(Type, LHsExpr (GhcPass 'Parsed))]
[(Type, LocatedA (HsExpr (GhcPass 'Parsed)))]
</span><a href="GHC.Tc.Deriv.Generate.html#boxConTbl"><span class="hs-identifier hs-var">boxConTbl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092083"><span class="hs-identifier hs-var">arg_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092082"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-2399"></span><span>
</span><span id="line-2400"></span><span class="hs-comment">---------------------</span><span>
</span><span id="line-2401"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#primOrdOps"><span class="hs-identifier hs-type">primOrdOps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>    </span><span class="hs-comment">-- The class involved</span><span>
</span><span id="line-2402"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>      </span><span class="hs-comment">-- The type</span><span>
</span><span id="line-2403"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- (lt,le,eq,ge,gt)</span><span>
</span><span id="line-2404"></span><span class="hs-comment">-- See Note [Deriving and unboxed types] in GHC.Tc.Deriv.Infer</span><span>
</span><span id="line-2405"></span><span id="primOrdOps"><span class="annot"><span class="annottext">primOrdOps :: String -&gt; Type -&gt; (RdrName, RdrName, RdrName, RdrName, RdrName)
</span><a href="GHC.Tc.Deriv.Generate.html#primOrdOps"><span class="hs-identifier hs-var hs-var">primOrdOps</span></a></span></span><span> </span><span id="local-6989586621683092084"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092084"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621683092085"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092085"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [(Type, (RdrName, RdrName, RdrName, RdrName, RdrName))]
-&gt; Type
-&gt; (RdrName, RdrName, RdrName, RdrName, RdrName)
forall a. HasDebugCallStack =&gt; String -&gt; [(Type, a)] -&gt; Type -&gt; a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id"><span class="hs-identifier hs-var">assoc_ty_id</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092084"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[(Type, (RdrName, RdrName, RdrName, RdrName, RdrName))]
</span><a href="GHC.Tc.Deriv.Generate.html#ordOpTbl"><span class="hs-identifier hs-var">ordOpTbl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092085"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2406"></span><span>
</span><span id="line-2407"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ordOpTbl"><span class="hs-identifier hs-type">ordOpTbl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2408"></span><span id="ordOpTbl"><span class="annot"><span class="annottext">ordOpTbl :: [(Type, (RdrName, RdrName, RdrName, RdrName, RdrName))]
</span><a href="GHC.Tc.Deriv.Generate.html#ordOpTbl"><span class="hs-identifier hs-var hs-var">ordOpTbl</span></a></span></span><span>
</span><span id="line-2409"></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#charPrimTy"><span class="hs-identifier hs-var">charPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltChar_RDR"><span class="hs-identifier hs-var">ltChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leChar_RDR"><span class="hs-identifier hs-var">leChar_RDR</span></a></span><span>
</span><span id="line-2410"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqChar_RDR"><span class="hs-identifier hs-var">eqChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geChar_RDR"><span class="hs-identifier hs-var">geChar_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtChar_RDR"><span class="hs-identifier hs-var">gtChar_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2411"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#intPrimTy"><span class="hs-identifier hs-var">intPrimTy</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt_RDR"><span class="hs-identifier hs-var">ltInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt_RDR"><span class="hs-identifier hs-var">leInt_RDR</span></a></span><span>
</span><span id="line-2412"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt_RDR"><span class="hs-identifier hs-var">eqInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt_RDR"><span class="hs-identifier hs-var">geInt_RDR</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt_RDR"><span class="hs-identifier hs-var">gtInt_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2413"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int8PrimTy"><span class="hs-identifier hs-var">int8PrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt8_RDR"><span class="hs-identifier hs-var">ltInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt8_RDR"><span class="hs-identifier hs-var">leInt8_RDR</span></a></span><span>
</span><span id="line-2414"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt8_RDR"><span class="hs-identifier hs-var">eqInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt8_RDR"><span class="hs-identifier hs-var">geInt8_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt8_RDR"><span class="hs-identifier hs-var">gtInt8_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2415"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int16PrimTy"><span class="hs-identifier hs-var">int16PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt16_RDR"><span class="hs-identifier hs-var">ltInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt16_RDR"><span class="hs-identifier hs-var">leInt16_RDR</span></a></span><span>
</span><span id="line-2416"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt16_RDR"><span class="hs-identifier hs-var">eqInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt16_RDR"><span class="hs-identifier hs-var">geInt16_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt16_RDR"><span class="hs-identifier hs-var">gtInt16_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2417"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int32PrimTy"><span class="hs-identifier hs-var">int32PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt32_RDR"><span class="hs-identifier hs-var">ltInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt32_RDR"><span class="hs-identifier hs-var">leInt32_RDR</span></a></span><span>
</span><span id="line-2418"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt32_RDR"><span class="hs-identifier hs-var">eqInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt32_RDR"><span class="hs-identifier hs-var">geInt32_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt32_RDR"><span class="hs-identifier hs-var">gtInt32_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2419"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int64PrimTy"><span class="hs-identifier hs-var">int64PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltInt64_RDR"><span class="hs-identifier hs-var">ltInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leInt64_RDR"><span class="hs-identifier hs-var">leInt64_RDR</span></a></span><span>
</span><span id="line-2420"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqInt64_RDR"><span class="hs-identifier hs-var">eqInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geInt64_RDR"><span class="hs-identifier hs-var">geInt64_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtInt64_RDR"><span class="hs-identifier hs-var">gtInt64_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2421"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#wordPrimTy"><span class="hs-identifier hs-var">wordPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord_RDR"><span class="hs-identifier hs-var">ltWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord_RDR"><span class="hs-identifier hs-var">leWord_RDR</span></a></span><span>
</span><span id="line-2422"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord_RDR"><span class="hs-identifier hs-var">eqWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord_RDR"><span class="hs-identifier hs-var">geWord_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord_RDR"><span class="hs-identifier hs-var">gtWord_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2423"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word8PrimTy"><span class="hs-identifier hs-var">word8PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord8_RDR"><span class="hs-identifier hs-var">ltWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord8_RDR"><span class="hs-identifier hs-var">leWord8_RDR</span></a></span><span>
</span><span id="line-2424"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord8_RDR"><span class="hs-identifier hs-var">eqWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord8_RDR"><span class="hs-identifier hs-var">geWord8_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord8_RDR"><span class="hs-identifier hs-var">gtWord8_RDR</span></a></span><span>   </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2425"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word16PrimTy"><span class="hs-identifier hs-var">word16PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord16_RDR"><span class="hs-identifier hs-var">ltWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord16_RDR"><span class="hs-identifier hs-var">leWord16_RDR</span></a></span><span>
</span><span id="line-2426"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord16_RDR"><span class="hs-identifier hs-var">eqWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord16_RDR"><span class="hs-identifier hs-var">geWord16_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord16_RDR"><span class="hs-identifier hs-var">gtWord16_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2427"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word32PrimTy"><span class="hs-identifier hs-var">word32PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord32_RDR"><span class="hs-identifier hs-var">ltWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord32_RDR"><span class="hs-identifier hs-var">leWord32_RDR</span></a></span><span>
</span><span id="line-2428"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord32_RDR"><span class="hs-identifier hs-var">eqWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord32_RDR"><span class="hs-identifier hs-var">geWord32_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord32_RDR"><span class="hs-identifier hs-var">gtWord32_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2429"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word64PrimTy"><span class="hs-identifier hs-var">word64PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltWord64_RDR"><span class="hs-identifier hs-var">ltWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leWord64_RDR"><span class="hs-identifier hs-var">leWord64_RDR</span></a></span><span>
</span><span id="line-2430"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqWord64_RDR"><span class="hs-identifier hs-var">eqWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geWord64_RDR"><span class="hs-identifier hs-var">geWord64_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtWord64_RDR"><span class="hs-identifier hs-var">gtWord64_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2431"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#addrPrimTy"><span class="hs-identifier hs-var">addrPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltAddr_RDR"><span class="hs-identifier hs-var">ltAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leAddr_RDR"><span class="hs-identifier hs-var">leAddr_RDR</span></a></span><span>
</span><span id="line-2432"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqAddr_RDR"><span class="hs-identifier hs-var">eqAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geAddr_RDR"><span class="hs-identifier hs-var">geAddr_RDR</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtAddr_RDR"><span class="hs-identifier hs-var">gtAddr_RDR</span></a></span><span>  </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2433"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#floatPrimTy"><span class="hs-identifier hs-var">floatPrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltFloat_RDR"><span class="hs-identifier hs-var">ltFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leFloat_RDR"><span class="hs-identifier hs-var">leFloat_RDR</span></a></span><span>
</span><span id="line-2434"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqFloat_RDR"><span class="hs-identifier hs-var">eqFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geFloat_RDR"><span class="hs-identifier hs-var">geFloat_RDR</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtFloat_RDR"><span class="hs-identifier hs-var">gtFloat_RDR</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2435"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#doublePrimTy"><span class="hs-identifier hs-var">doublePrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ltDouble_RDR"><span class="hs-identifier hs-var">ltDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#leDouble_RDR"><span class="hs-identifier hs-var">leDouble_RDR</span></a></span><span>
</span><span id="line-2436"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#eqDouble_RDR"><span class="hs-identifier hs-var">eqDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#geDouble_RDR"><span class="hs-identifier hs-var">geDouble_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#gtDouble_RDR"><span class="hs-identifier hs-var">gtDouble_RDR</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2437"></span><span>
</span><span id="line-2438"></span><span class="hs-comment">-- A mapping from a primitive type to a DataCon of its boxed version.</span><span>
</span><span id="line-2439"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#boxConTbl"><span class="hs-identifier hs-type">boxConTbl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2440"></span><span id="boxConTbl"><span class="annot"><span class="annottext">boxConTbl :: [(Type, LHsExpr (GhcPass 'Parsed))]
</span><a href="GHC.Tc.Deriv.Generate.html#boxConTbl"><span class="hs-identifier hs-var hs-var">boxConTbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2441"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#charPrimTy"><span class="hs-identifier hs-var">charPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#charDataCon"><span class="hs-identifier hs-var">charDataCon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2442"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#intPrimTy"><span class="hs-identifier hs-var">intPrimTy</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#intDataCon"><span class="hs-identifier hs-var">intDataCon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2443"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#wordPrimTy"><span class="hs-identifier hs-var">wordPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#wordDataCon"><span class="hs-identifier hs-var">wordDataCon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2444"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#floatPrimTy"><span class="hs-identifier hs-var">floatPrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#floatDataCon"><span class="hs-identifier hs-var">floatDataCon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2445"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#doublePrimTy"><span class="hs-identifier hs-var">doublePrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">(IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed))
-&gt; IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#doubleDataCon"><span class="hs-identifier hs-var">doubleDataCon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2446"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int8PrimTy"><span class="hs-identifier hs-var">int8PrimTy</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int8DataCon_RDR"><span class="hs-identifier hs-var">int8DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2447"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word8PrimTy"><span class="hs-identifier hs-var">word8PrimTy</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word8DataCon_RDR"><span class="hs-identifier hs-var">word8DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2448"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int16PrimTy"><span class="hs-identifier hs-var">int16PrimTy</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int16DataCon_RDR"><span class="hs-identifier hs-var">int16DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2449"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word16PrimTy"><span class="hs-identifier hs-var">word16PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word16DataCon_RDR"><span class="hs-identifier hs-var">word16DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2450"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int32PrimTy"><span class="hs-identifier hs-var">int32PrimTy</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int32DataCon_RDR"><span class="hs-identifier hs-var">int32DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2451"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word32PrimTy"><span class="hs-identifier hs-var">word32PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word32DataCon_RDR"><span class="hs-identifier hs-var">word32DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2452"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int64PrimTy"><span class="hs-identifier hs-var">int64PrimTy</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#int64DataCon_RDR"><span class="hs-identifier hs-var">int64DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2453"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word64PrimTy"><span class="hs-identifier hs-var">word64PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#word64DataCon_RDR"><span class="hs-identifier hs-var">word64DataCon_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2454"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-2455"></span><span>
</span><span id="line-2456"></span><span>
</span><span id="line-2457"></span><span class="hs-comment">-- | A table of postfix modifiers for unboxed values.</span><span>
</span><span id="line-2458"></span><span class="hs-comment">-- Following https://github.com/ghc-proposals/ghc-proposals/pull/596,</span><span>
</span><span id="line-2459"></span><span class="hs-comment">-- we use the ExtendedLiterals syntax for sized literals.</span><span>
</span><span id="line-2460"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#postfixModTbl"><span class="hs-identifier hs-type">postfixModTbl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2461"></span><span id="postfixModTbl"><span class="annot"><span class="annottext">postfixModTbl :: [(Type, String)]
</span><a href="GHC.Tc.Deriv.Generate.html#postfixModTbl"><span class="hs-identifier hs-var hs-var">postfixModTbl</span></a></span></span><span>
</span><span id="line-2462"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#charPrimTy"><span class="hs-identifier hs-var">charPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2463"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#intPrimTy"><span class="hs-identifier hs-var">intPrimTy</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2464"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#wordPrimTy"><span class="hs-identifier hs-var">wordPrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;##&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2465"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#floatPrimTy"><span class="hs-identifier hs-var">floatPrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2466"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#doublePrimTy"><span class="hs-identifier hs-var">doublePrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;##&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2467"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int8PrimTy"><span class="hs-identifier hs-var">int8PrimTy</span></a></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Int8&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2468"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word8PrimTy"><span class="hs-identifier hs-var">word8PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Word8&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2469"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int16PrimTy"><span class="hs-identifier hs-var">int16PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Int16&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2470"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word16PrimTy"><span class="hs-identifier hs-var">word16PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Word16&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2471"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int32PrimTy"><span class="hs-identifier hs-var">int32PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Int32&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2472"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word32PrimTy"><span class="hs-identifier hs-var">word32PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Word32&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2473"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#int64PrimTy"><span class="hs-identifier hs-var">int64PrimTy</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Int64&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2474"></span><span>    </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.Prim.html#word64PrimTy"><span class="hs-identifier hs-var">word64PrimTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#Word64&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2475"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-2476"></span><span>
</span><span id="line-2477"></span><span class="annot"><span class="hs-comment">-- | Lookup `Type` in an association list.</span></span><span>
</span><span id="line-2478"></span><span id="local-6989586621683089430"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id"><span class="hs-identifier hs-type">assoc_ty_id</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>           </span><span class="hs-comment">-- The class involved</span><span>
</span><span id="line-2479"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683089430"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>       </span><span class="hs-comment">-- The table</span><span>
</span><span id="line-2480"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>             </span><span class="hs-comment">-- The type</span><span>
</span><span id="line-2481"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683089430"><span class="hs-identifier hs-type">a</span></a></span></span><span>                </span><span class="hs-comment">-- The result of the lookup</span><span>
</span><span id="line-2482"></span><span id="assoc_ty_id"><span class="annot"><span class="annottext">assoc_ty_id :: forall a. HasDebugCallStack =&gt; String -&gt; [(Type, a)] -&gt; Type -&gt; a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id"><span class="hs-identifier hs-var hs-var">assoc_ty_id</span></a></span></span><span> </span><span id="local-6989586621683092116"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092116"><span class="hs-identifier hs-var">cls_str</span></a></span></span><span> </span><span id="local-6989586621683092117"><span class="annot"><span class="annottext">[(Type, a)]
</span><a href="#local-6989586621683092117"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621683092118"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092118"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-2483"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683092119"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683092119"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Type, a)] -&gt; Type -&gt; Maybe a
forall a. [(Type, a)] -&gt; Type -&gt; Maybe a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id_maybe"><span class="hs-identifier hs-var">assoc_ty_id_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">[(Type, a)]
</span><a href="#local-6989586621683092117"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092118"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683092119"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2484"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2485"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; a
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Error in deriving:&quot;</span></span><span>
</span><span id="line-2486"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Can't derive&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621683092116"><span class="hs-identifier hs-var">cls_str</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-2487"></span><span>           </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for primitive type&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092118"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2488"></span><span>
</span><span id="line-2489"></span><span class="annot"><span class="hs-comment">-- | Lookup `Type` in an association list.</span></span><span>
</span><span id="line-2490"></span><span id="local-6989586621683089541"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id_maybe"><span class="hs-identifier hs-type">assoc_ty_id_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683089541"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683089541"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2491"></span><span id="assoc_ty_id_maybe"><span class="annot"><span class="annottext">assoc_ty_id_maybe :: forall a. [(Type, a)] -&gt; Type -&gt; Maybe a
</span><a href="GHC.Tc.Deriv.Generate.html#assoc_ty_id_maybe"><span class="hs-identifier hs-var hs-var">assoc_ty_id_maybe</span></a></span></span><span> </span><span id="local-6989586621683092130"><span class="annot"><span class="annottext">[(Type, a)]
</span><a href="#local-6989586621683092130"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621683092131"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092131"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Type, a) -&gt; a) -&gt; Maybe (Type, a) -&gt; Maybe a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Type, a) -&gt; Bool) -&gt; [(Type, a)] -&gt; Maybe (Type, a)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621683092133"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092133"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092133"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Type -&gt; Type -&gt; Bool
Type -&gt; Type -&gt; Bool
</span><a href="GHC.Core.TyCo.Compare.html#eqType"><span class="hs-operator hs-var">`eqType`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092131"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Type, a)]
</span><a href="#local-6989586621683092130"><span class="hs-identifier hs-var">tbl</span></a></span><span>
</span><span id="line-2492"></span><span>
</span><span id="line-2493"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-2494"></span><span>
</span><span id="line-2495"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#and_Expr"><span class="hs-identifier hs-type">and_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2496"></span><span id="and_Expr"><span class="annot"><span class="annottext">and_Expr :: LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#and_Expr"><span class="hs-identifier hs-var hs-var">and_Expr</span></a></span></span><span> </span><span id="local-6989586621683092135"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092135"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683092136"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092136"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092135"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#and_RDR"><span class="hs-identifier hs-var">and_RDR</span></a></span><span>    </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092136"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2497"></span><span>
</span><span id="line-2498"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-2499"></span><span>
</span><span id="line-2500"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eq_Expr"><span class="hs-identifier hs-type">eq_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2501"></span><span id="eq_Expr"><span class="annot"><span class="annottext">eq_Expr :: Type
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eq_Expr"><span class="hs-identifier hs-var hs-var">eq_Expr</span></a></span></span><span> </span><span id="local-6989586621683092137"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092137"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683092138"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092138"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621683092139"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092139"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-2502"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Bool
Type -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092137"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var">genOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092138"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Names.html#eq_RDR"><span class="hs-identifier hs-var">eq_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092139"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2503"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var">genPrimOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092138"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092140"><span class="hs-identifier hs-var">prim_eq</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092139"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2504"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2505"></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683092140"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092140"><span class="hs-identifier hs-var">prim_eq</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type -&gt; (RdrName, RdrName, RdrName, RdrName, RdrName)
</span><a href="GHC.Tc.Deriv.Generate.html#primOrdOps"><span class="hs-identifier hs-var">primOrdOps</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Eq&quot;</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683092137"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2506"></span><span>
</span><span id="line-2507"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-type">untag_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2508"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2509"></span><span id="untag_Expr"><span class="annot"><span class="annottext">untag_Expr :: [(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var hs-var">untag_Expr</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621683092141"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092141"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092141"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-2510"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621683092142"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092142"><span class="hs-identifier hs-var">untag_this</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683092143"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092143"><span class="hs-identifier hs-var">put_tag_here</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683092144"><span class="annot"><span class="annottext">[(RdrName, RdrName)]
</span><a href="#local-6989586621683092144"><span class="hs-identifier hs-var">more</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683092145"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092145"><span class="hs-identifier hs-var">expr</span></a></span></span><span>
</span><span id="line-2511"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; [LMatch (GhcPass 'Parsed) (LHsExpr (GhcPass 'Parsed))]
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsCase"><span class="hs-identifier hs-var">nlHsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
-&gt; [IdP (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; [IdP (GhcPass p)] -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVarApps"><span class="hs-identifier hs-var">nlHsVarApps</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#dataToTag_RDR"><span class="hs-identifier hs-var">dataToTag_RDR</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092142"><span class="hs-identifier hs-var">untag_this</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">{-of-}</span><span>
</span><span id="line-2512"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat (GhcPass 'Parsed)
-&gt; LocatedA (HsExpr (GhcPass 'Parsed))
-&gt; LMatch (GhcPass 'Parsed) (LocatedA (HsExpr (GhcPass 'Parsed)))
forall (p :: Pass) (body :: * -&gt; *).
(Anno (GRHS (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ EpAnn NoEpAnns,
 Anno (Match (GhcPass p) (LocatedA (body (GhcPass p))))
 ~ SrcSpanAnnA) =&gt;
LPat (GhcPass p)
-&gt; LocatedA (body (GhcPass p))
-&gt; LMatch (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkHsCaseAlt"><span class="hs-identifier hs-var">mkHsCaseAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092143"><span class="hs-identifier hs-var">put_tag_here</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#untag_Expr"><span class="hs-identifier hs-var">untag_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">[(RdrName, RdrName)]
</span><a href="#local-6989586621683092144"><span class="hs-identifier hs-var">more</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092145"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2513"></span><span>
</span><span id="line-2514"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#enum_from_to_Expr"><span class="hs-identifier hs-type">enum_from_to_Expr</span></a></span><span>
</span><span id="line-2515"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2516"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2517"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#enum_from_then_to_Expr"><span class="hs-identifier hs-type">enum_from_then_to_Expr</span></a></span><span>
</span><span id="line-2518"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2519"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2520"></span><span>
</span><span id="line-2521"></span><span id="enum_from_to_Expr"><span class="annot"><span class="annottext">enum_from_to_Expr :: LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#enum_from_to_Expr"><span class="hs-identifier hs-var hs-var">enum_from_to_Expr</span></a></span></span><span>      </span><span id="local-6989586621683092147"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092147"><span class="hs-identifier hs-var">f</span></a></span></span><span>   </span><span id="local-6989586621683092148"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092148"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#enumFromTo_RDR"><span class="hs-identifier hs-var">enumFromTo_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092147"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092148"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-2522"></span><span id="enum_from_then_to_Expr"><span class="annot"><span class="annottext">enum_from_then_to_Expr :: LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#enum_from_then_to_Expr"><span class="hs-identifier hs-var hs-var">enum_from_then_to_Expr</span></a></span></span><span> </span><span id="local-6989586621683092150"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092150"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683092151"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092151"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621683092152"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092152"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#enumFromThenTo_RDR"><span class="hs-identifier hs-var">enumFromThenTo_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092150"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092151"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092152"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-2523"></span><span>
</span><span id="line-2524"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#showParen_Expr"><span class="hs-identifier hs-type">showParen_Expr</span></a></span><span>
</span><span id="line-2525"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2526"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2527"></span><span>
</span><span id="line-2528"></span><span id="showParen_Expr"><span class="annot"><span class="annottext">showParen_Expr :: LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#showParen_Expr"><span class="hs-identifier hs-var hs-var">showParen_Expr</span></a></span></span><span> </span><span id="local-6989586621683092154"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092154"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683092155"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092155"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#showParen_RDR"><span class="hs-identifier hs-var">showParen_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092154"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092155"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-2529"></span><span>
</span><span id="line-2530"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-type">nested_compose_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2531"></span><span>
</span><span id="line-2532"></span><span id="nested_compose_Expr"><span class="annot"><span class="annottext">nested_compose_Expr :: [LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-var hs-var">nested_compose_Expr</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LocatedA (HsExpr (GhcPass 'Parsed))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nested_compose_expr&quot;</span></span><span>   </span><span class="hs-comment">-- Arg is always non-empty</span><span>
</span><span id="line-2533"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-var">nested_compose_Expr</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621683092157"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092157"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#parenify"><span class="hs-identifier hs-var">parenify</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092157"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2534"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-var">nested_compose_Expr</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683092159"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092159"><span class="hs-identifier hs-var">e</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683092160"><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
</span><a href="#local-6989586621683092160"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2535"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#compose_RDR"><span class="hs-identifier hs-var">compose_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#parenify"><span class="hs-identifier hs-var">parenify</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092159"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)] -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#nested_compose_Expr"><span class="hs-identifier hs-var">nested_compose_Expr</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr (GhcPass 'Parsed)]
</span><a href="#local-6989586621683092160"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2536"></span><span>
</span><span id="line-2537"></span><span class="hs-comment">-- impossible_Expr is used in case RHSs that should never happen.</span><span>
</span><span id="line-2538"></span><span class="hs-comment">-- We generate these to keep the desugarer from complaining that they *might* happen!</span><span>
</span><span id="line-2539"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#error_Expr"><span class="hs-identifier hs-type">error_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2540"></span><span id="error_Expr"><span class="annot"><span class="annottext">error_Expr :: FastString -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#error_Expr"><span class="hs-identifier hs-var hs-var">error_Expr</span></a></span></span><span> </span><span id="local-6989586621683092161"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683092161"><span class="hs-identifier hs-var">string</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#error_RDR"><span class="hs-identifier hs-var">error_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass). HsLit (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsLit"><span class="hs-identifier hs-var">nlHsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; HsLit (GhcPass 'Parsed)
forall (p :: Pass). FastString -&gt; HsLit (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsStringFS"><span class="hs-identifier hs-var">mkHsStringFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683092161"><span class="hs-identifier hs-var">string</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2541"></span><span>
</span><span id="line-2542"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#parenify"><span class="hs-identifier hs-type">parenify</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2543"></span><span id="parenify"><span class="annot"><span class="annottext">parenify :: LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#parenify"><span class="hs-identifier hs-var hs-var">parenify</span></a></span></span><span> </span><span id="local-6989586621683092163"><span class="annot"><span class="annottext">e :: LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092163"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar (GhcPass 'Parsed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass 'Parsed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092163"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2544"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#parenify"><span class="hs-identifier hs-var">parenify</span></a></span><span> </span><span id="local-6989586621683092165"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092165"><span class="hs-identifier hs-var">e</span></a></span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#mkHsPar"><span class="hs-identifier hs-var">mkHsPar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092165"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2545"></span><span>
</span><span id="line-2546"></span><span class="hs-comment">-- genOpApp wraps brackets round the operator application, so that the</span><span>
</span><span id="line-2547"></span><span class="hs-comment">-- renamer won't subsequently try to re-associate it.</span><span>
</span><span id="line-2548"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-type">genOpApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2549"></span><span id="genOpApp"><span class="annot"><span class="annottext">genOpApp :: LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genOpApp"><span class="hs-identifier hs-var hs-var">genOpApp</span></a></span></span><span> </span><span id="local-6989586621683092167"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092167"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683092168"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092168"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683092169"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092169"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; IdP (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsOpApp"><span class="hs-identifier hs-var">nlHsOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092167"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092168"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092169"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2550"></span><span>
</span><span id="line-2551"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-type">genPrimOpApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2552"></span><span id="genPrimOpApp"><span class="annot"><span class="annottext">genPrimOpApp :: LHsExpr (GhcPass 'Parsed)
-&gt; RdrName
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#genPrimOpApp"><span class="hs-identifier hs-var hs-var">genPrimOpApp</span></a></span></span><span> </span><span id="local-6989586621683092170"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092170"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683092171"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683092171"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683092172"><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092172"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass).
IsPass p =&gt;
LHsExpr (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsPar"><span class="hs-identifier hs-var">nlHsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (id :: Pass).
IsPass id =&gt;
LHsExpr (GhcPass id)
-&gt; LHsExpr (GhcPass id) -&gt; LHsExpr (GhcPass id)
</span><a href="GHC.Hs.Utils.html#nlHsApp"><span class="hs-identifier hs-var">nlHsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#tagToEnum_RDR"><span class="hs-identifier hs-var">tagToEnum_RDR</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
-&gt; IdP (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
-&gt; LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Hs.Utils.html#nlHsOpApp"><span class="hs-identifier hs-var">nlHsOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092170"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="#local-6989586621683092171"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr (GhcPass 'Parsed)
</span><a href="#local-6989586621683092172"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2553"></span><span>
</span><span id="line-2554"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-type">a_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-type">b_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-type">c_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#d_RDR"><span class="hs-identifier hs-type">d_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#f_RDR"><span class="hs-identifier hs-type">f_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-type">k_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#z_RDR"><span class="hs-identifier hs-type">z_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-type">ah_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-type">bh_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ch_RDR"><span class="hs-identifier hs-type">ch_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dh_RDR"><span class="hs-identifier hs-type">dh_RDR</span></a></span><span>
</span><span id="line-2555"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2556"></span><span id="a_RDR"><span class="annot"><span class="annottext">a_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var hs-var">a_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2557"></span><span id="b_RDR"><span class="annot"><span class="annottext">b_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var hs-var">b_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;b&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2558"></span><span id="c_RDR"><span class="annot"><span class="annottext">c_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var hs-var">c_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;c&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2559"></span><span id="d_RDR"><span class="annot"><span class="annottext">d_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#d_RDR"><span class="hs-identifier hs-var hs-var">d_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;d&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2560"></span><span id="f_RDR"><span class="annot"><span class="annottext">f_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#f_RDR"><span class="hs-identifier hs-var hs-var">f_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;f&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2561"></span><span id="k_RDR"><span class="annot"><span class="annottext">k_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-var hs-var">k_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;k&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2562"></span><span id="z_RDR"><span class="annot"><span class="annottext">z_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#z_RDR"><span class="hs-identifier hs-var hs-var">z_RDR</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;z&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2563"></span><span id="ah_RDR"><span class="annot"><span class="annottext">ah_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ah_RDR"><span class="hs-identifier hs-var hs-var">ah_RDR</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2564"></span><span id="bh_RDR"><span class="annot"><span class="annottext">bh_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#bh_RDR"><span class="hs-identifier hs-var hs-var">bh_RDR</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;b#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2565"></span><span id="ch_RDR"><span class="annot"><span class="annottext">ch_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#ch_RDR"><span class="hs-identifier hs-var hs-var">ch_RDR</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;c#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2566"></span><span id="dh_RDR"><span class="annot"><span class="annottext">dh_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#dh_RDR"><span class="hs-identifier hs-var hs-var">dh_RDR</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;d#&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2567"></span><span>
</span><span id="line-2568"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-type">as_RDRs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-type">bs_RDRs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#cs_RDRs"><span class="hs-identifier hs-type">cs_RDRs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2569"></span><span id="as_RDRs"><span class="annot"><span class="annottext">as_RDRs :: [RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#as_RDRs"><span class="hs-identifier hs-var hs-var">as_RDRs</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a&quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092176"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683092176"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092176"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2570"></span><span id="bs_RDRs"><span class="annot"><span class="annottext">bs_RDRs :: [RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#bs_RDRs"><span class="hs-identifier hs-var hs-var">bs_RDRs</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;b&quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092177"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683092177"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092177"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2571"></span><span id="cs_RDRs"><span class="annot"><span class="annottext">cs_RDRs :: [RdrName]
</span><a href="GHC.Tc.Deriv.Generate.html#cs_RDRs"><span class="hs-identifier hs-var hs-var">cs_RDRs</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var">mkVarUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;c&quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092178"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683092178"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683092178"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2572"></span><span>
</span><span id="line-2573"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-type">a_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#b_Expr"><span class="hs-identifier hs-type">b_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#c_Expr"><span class="hs-identifier hs-type">c_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#z_Expr"><span class="hs-identifier hs-type">z_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#ltTag_Expr"><span class="hs-identifier hs-type">ltTag_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#eqTag_Expr"><span class="hs-identifier hs-type">eqTag_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#gtTag_Expr"><span class="hs-identifier hs-type">gtTag_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-type">false_Expr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2574"></span><span>    </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-type">true_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#pure_Expr"><span class="hs-identifier hs-type">pure_Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#unsafeCodeCoerce_Expr"><span class="hs-identifier hs-type">unsafeCodeCoerce_Expr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2575"></span><span id="a_Expr"><span class="annot"><span class="annottext">a_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Expr"><span class="hs-identifier hs-var hs-var">a_Expr</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span>
</span><span id="line-2576"></span><span id="b_Expr"><span class="annot"><span class="annottext">b_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Expr"><span class="hs-identifier hs-var hs-var">b_Expr</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span>
</span><span id="line-2577"></span><span id="c_Expr"><span class="annot"><span class="annottext">c_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#c_Expr"><span class="hs-identifier hs-var hs-var">c_Expr</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span>
</span><span id="line-2578"></span><span id="z_Expr"><span class="annot"><span class="annottext">z_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#z_Expr"><span class="hs-identifier hs-var hs-var">z_Expr</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#z_RDR"><span class="hs-identifier hs-var">z_RDR</span></a></span><span>
</span><span id="line-2579"></span><span id="ltTag_Expr"><span class="annot"><span class="annottext">ltTag_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#ltTag_Expr"><span class="hs-identifier hs-var hs-var">ltTag_Expr</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#ltTag_RDR"><span class="hs-identifier hs-var">ltTag_RDR</span></a></span><span>
</span><span id="line-2580"></span><span id="eqTag_Expr"><span class="annot"><span class="annottext">eqTag_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#eqTag_Expr"><span class="hs-identifier hs-var hs-var">eqTag_Expr</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#eqTag_RDR"><span class="hs-identifier hs-var">eqTag_RDR</span></a></span><span>
</span><span id="line-2581"></span><span id="gtTag_Expr"><span class="annot"><span class="annottext">gtTag_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#gtTag_Expr"><span class="hs-identifier hs-var hs-var">gtTag_Expr</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#gtTag_RDR"><span class="hs-identifier hs-var">gtTag_RDR</span></a></span><span>
</span><span id="line-2582"></span><span id="false_Expr"><span class="annot"><span class="annottext">false_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#false_Expr"><span class="hs-identifier hs-var hs-var">false_Expr</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#false_RDR"><span class="hs-identifier hs-var">false_RDR</span></a></span><span>
</span><span id="line-2583"></span><span id="true_Expr"><span class="annot"><span class="annottext">true_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#true_Expr"><span class="hs-identifier hs-var hs-var">true_Expr</span></a></span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Types.html#true_RDR"><span class="hs-identifier hs-var">true_RDR</span></a></span><span>
</span><span id="line-2584"></span><span id="pure_Expr"><span class="annot"><span class="annottext">pure_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#pure_Expr"><span class="hs-identifier hs-var hs-var">pure_Expr</span></a></span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.html#pure_RDR"><span class="hs-identifier hs-var">pure_RDR</span></a></span><span>
</span><span id="line-2585"></span><span id="unsafeCodeCoerce_Expr"><span class="annot"><span class="annottext">unsafeCodeCoerce_Expr :: LHsExpr (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#unsafeCodeCoerce_Expr"><span class="hs-identifier hs-var hs-var">unsafeCodeCoerce_Expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LHsExpr (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LHsExpr (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsVar"><span class="hs-identifier hs-var">nlHsVar</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Builtin.Names.TH.html#unsafeCodeCoerce_RDR"><span class="hs-identifier hs-var">unsafeCodeCoerce_RDR</span></a></span><span>
</span><span id="line-2586"></span><span>
</span><span id="line-2587"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-type">a_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-type">b_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#c_Pat"><span class="hs-identifier hs-type">c_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#d_Pat"><span class="hs-identifier hs-type">d_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#k_Pat"><span class="hs-identifier hs-type">k_Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#z_Pat"><span class="hs-identifier hs-type">z_Pat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2588"></span><span id="a_Pat"><span class="annot"><span class="annottext">a_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#a_Pat"><span class="hs-identifier hs-var hs-var">a_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#a_RDR"><span class="hs-identifier hs-var">a_RDR</span></a></span><span>
</span><span id="line-2589"></span><span id="b_Pat"><span class="annot"><span class="annottext">b_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#b_Pat"><span class="hs-identifier hs-var hs-var">b_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#b_RDR"><span class="hs-identifier hs-var">b_RDR</span></a></span><span>
</span><span id="line-2590"></span><span id="c_Pat"><span class="annot"><span class="annottext">c_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#c_Pat"><span class="hs-identifier hs-var hs-var">c_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#c_RDR"><span class="hs-identifier hs-var">c_RDR</span></a></span><span>
</span><span id="line-2591"></span><span id="d_Pat"><span class="annot"><span class="annottext">d_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#d_Pat"><span class="hs-identifier hs-var hs-var">d_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#d_RDR"><span class="hs-identifier hs-var">d_RDR</span></a></span><span>
</span><span id="line-2592"></span><span id="k_Pat"><span class="annot"><span class="annottext">k_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#k_Pat"><span class="hs-identifier hs-var hs-var">k_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#k_RDR"><span class="hs-identifier hs-var">k_RDR</span></a></span><span>
</span><span id="line-2593"></span><span id="z_Pat"><span class="annot"><span class="annottext">z_Pat :: LPat (GhcPass 'Parsed)
</span><a href="GHC.Tc.Deriv.Generate.html#z_Pat"><span class="hs-identifier hs-var hs-var">z_Pat</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed) -&gt; LPat (GhcPass 'Parsed)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
IdP (GhcPass p) -&gt; LPat (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlVarPat"><span class="hs-identifier hs-var">nlVarPat</span></a></span><span> </span><span class="annot"><span class="annottext">IdP (GhcPass 'Parsed)
RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#z_RDR"><span class="hs-identifier hs-var">z_RDR</span></a></span><span>
</span><span id="line-2594"></span><span>
</span><span id="line-2595"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#minusInt_RDR"><span class="hs-identifier hs-type">minusInt_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#tagToEnum_RDR"><span class="hs-identifier hs-type">tagToEnum_RDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2596"></span><span id="minusInt_RDR"><span class="annot"><span class="annottext">minusInt_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#minusInt_RDR"><span class="hs-identifier hs-var hs-var">minusInt_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOp -&gt; Id
</span><a href="GHC.Builtin.PrimOps.Ids.html#primOpId"><span class="hs-identifier hs-var">primOpId</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSubOp"><span class="hs-identifier hs-var">IntSubOp</span></a></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-2597"></span><span id="tagToEnum_RDR"><span class="annot"><span class="annottext">tagToEnum_RDR :: RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#tagToEnum_RDR"><span class="hs-identifier hs-var hs-var">tagToEnum_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOp -&gt; Id
</span><a href="GHC.Builtin.PrimOps.Ids.html#primOpId"><span class="hs-identifier hs-var">primOpId</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TagToEnumOp"><span class="hs-identifier hs-var">TagToEnumOp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2598"></span><span>
</span><span id="line-2599"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_tag2con_rdr_name"><span class="hs-identifier hs-type">new_tag2con_rdr_name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_maxtag_rdr_name"><span class="hs-identifier hs-type">new_maxtag_rdr_name</span></a></span><span>
</span><span id="line-2600"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2601"></span><span class="hs-comment">-- Generates Exact RdrNames, for the binding positions</span><span>
</span><span id="line-2602"></span><span id="new_tag2con_rdr_name"><span class="annot"><span class="annottext">new_tag2con_rdr_name :: SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tag2con_rdr_name"><span class="hs-identifier hs-var hs-var">new_tag2con_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092185"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092185"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621683092186"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092186"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tc_deriv_rdr_name"><span class="hs-identifier hs-var">new_tc_deriv_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092185"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092186"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTag2ConOcc"><span class="hs-identifier hs-var">mkTag2ConOcc</span></a></span><span>
</span><span id="line-2603"></span><span id="new_maxtag_rdr_name"><span class="annot"><span class="annottext">new_maxtag_rdr_name :: SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_maxtag_rdr_name"><span class="hs-identifier hs-var hs-var">new_maxtag_rdr_name</span></a></span></span><span>  </span><span id="local-6989586621683092189"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092189"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621683092190"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092190"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tc_deriv_rdr_name"><span class="hs-identifier hs-var">new_tc_deriv_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092189"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092190"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkMaxTagOcc"><span class="hs-identifier hs-var">mkMaxTagOcc</span></a></span><span>
</span><span id="line-2604"></span><span>
</span><span id="line-2605"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_dataT_rdr_name"><span class="hs-identifier hs-type">new_dataT_rdr_name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2606"></span><span id="new_dataT_rdr_name"><span class="annot"><span class="annottext">new_dataT_rdr_name :: SrcSpan -&gt; TyCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_dataT_rdr_name"><span class="hs-identifier hs-var hs-var">new_dataT_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092192"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092192"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621683092193"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092193"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TyCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tc_deriv_rdr_name"><span class="hs-identifier hs-var">new_tc_deriv_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092192"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092193"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataTOcc"><span class="hs-identifier hs-var">mkDataTOcc</span></a></span><span>
</span><span id="line-2607"></span><span>
</span><span id="line-2608"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_dataC_rdr_name"><span class="hs-identifier hs-type">new_dataC_rdr_name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2609"></span><span id="new_dataC_rdr_name"><span class="annot"><span class="annottext">new_dataC_rdr_name :: SrcSpan -&gt; DataCon -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_dataC_rdr_name"><span class="hs-identifier hs-var hs-var">new_dataC_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092195"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092195"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621683092196"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092196"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; DataCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_dc_deriv_rdr_name"><span class="hs-identifier hs-var">new_dc_deriv_rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092195"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092196"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataCOcc"><span class="hs-identifier hs-var">mkDataCOcc</span></a></span><span>
</span><span id="line-2610"></span><span>
</span><span id="line-2611"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_tc_deriv_rdr_name"><span class="hs-identifier hs-type">new_tc_deriv_rdr_name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2612"></span><span id="new_tc_deriv_rdr_name"><span class="annot"><span class="annottext">new_tc_deriv_rdr_name :: SrcSpan -&gt; TyCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_tc_deriv_rdr_name"><span class="hs-identifier hs-var hs-var">new_tc_deriv_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092199"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092199"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092200"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092200"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621683092201"><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="#local-6989586621683092201"><span class="hs-identifier hs-var">occ_fun</span></a></span></span><span>
</span><span id="line-2613"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Name -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#newAuxBinderRdrName"><span class="hs-identifier hs-var">newAuxBinderRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092199"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092200"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="#local-6989586621683092201"><span class="hs-identifier hs-var">occ_fun</span></a></span><span>
</span><span id="line-2614"></span><span>
</span><span id="line-2615"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#new_dc_deriv_rdr_name"><span class="hs-identifier hs-type">new_dc_deriv_rdr_name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2616"></span><span id="new_dc_deriv_rdr_name"><span class="annot"><span class="annottext">new_dc_deriv_rdr_name :: SrcSpan -&gt; DataCon -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#new_dc_deriv_rdr_name"><span class="hs-identifier hs-var hs-var">new_dc_deriv_rdr_name</span></a></span></span><span> </span><span id="local-6989586621683092203"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092203"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092204"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092204"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621683092205"><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="#local-6989586621683092205"><span class="hs-identifier hs-var">occ_fun</span></a></span></span><span>
</span><span id="line-2617"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Name -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#newAuxBinderRdrName"><span class="hs-identifier hs-var">newAuxBinderRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092203"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092204"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="#local-6989586621683092205"><span class="hs-identifier hs-var">occ_fun</span></a></span><span>
</span><span id="line-2618"></span><span>
</span><span id="line-2619"></span><span class="hs-comment">-- | Generate the name for an auxiliary binding, giving it a fresh 'Unique'.</span><span>
</span><span id="line-2620"></span><span class="hs-comment">-- Returns an 'Exact' 'RdrName' with an underlying 'System' 'Name'.</span><span>
</span><span id="line-2621"></span><span class="hs-comment">-- See @Note [Auxiliary binders]@.</span><span>
</span><span id="line-2622"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#newAuxBinderRdrName"><span class="hs-identifier hs-type">newAuxBinderRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2623"></span><span id="newAuxBinderRdrName"><span class="annot"><span class="annottext">newAuxBinderRdrName :: SrcSpan -&gt; Name -&gt; (OccName -&gt; OccName) -&gt; TcM RdrName
</span><a href="GHC.Tc.Deriv.Generate.html#newAuxBinderRdrName"><span class="hs-identifier hs-var hs-var">newAuxBinderRdrName</span></a></span></span><span> </span><span id="local-6989586621683092206"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683092206"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683092207"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683092207"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span id="local-6989586621683092208"><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="#local-6989586621683092208"><span class="hs-identifier hs-var">occ_fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2624"></span><span>  </span><span id="local-6989586621683092209"><span class="annot"><a href="#local-6989586621683092209"><span class="hs-identifier hs-var">uniq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TcRnIf TcGblEnv TcLclEnv Unique
forall gbl lcl. TcRnIf gbl lcl Unique
</span><a href="GHC.Tc.Utils.Monad.html#newUnique"><span class="hs-identifier hs-var">newUnique</span></a></span><span>
</span><span id="line-2625"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#mkSystemNameAt"><span class="hs-identifier hs-type">mkSystemNameAt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092209"><span class="hs-identifier hs-type">uniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683092208"><span class="hs-identifier hs-type">occ_fun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-type">nameOccName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092207"><span class="hs-identifier hs-type">parent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683092206"><span class="hs-identifier hs-type">loc</span></a></span><span>
</span><span id="line-2626"></span><span>
</span><span id="line-2627"></span><span class="hs-comment">-- | @getPossibleDataCons tycon tycon_args@ returns the constructors of @tycon@</span><span>
</span><span id="line-2628"></span><span class="hs-comment">-- whose return types match when checked against @tycon_args@.</span><span>
</span><span id="line-2629"></span><span class="hs-comment">--</span><span>
</span><span id="line-2630"></span><span class="hs-comment">-- See Note [Filter out impossible GADT data constructors]</span><span>
</span><span id="line-2631"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-type">getPossibleDataCons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2632"></span><span id="getPossibleDataCons"><span class="annot"><span class="annottext">getPossibleDataCons :: TyCon -&gt; [Type] -&gt; [DataCon]
</span><a href="GHC.Tc.Deriv.Generate.html#getPossibleDataCons"><span class="hs-identifier hs-var hs-var">getPossibleDataCons</span></a></span></span><span> </span><span id="local-6989586621683092213"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092213"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621683092214"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092214"><span class="hs-identifier hs-var">tycon_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Bool) -&gt; [DataCon] -&gt; [DataCon]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="#local-6989586621683092215"><span class="hs-identifier hs-var">isPossible</span></a></span><span> </span><span class="annot"><span class="annottext">([DataCon] -&gt; [DataCon]) -&gt; [DataCon] -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092213"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-2633"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2634"></span><span>    </span><span id="local-6989586621683092215"><span class="annot"><span class="annottext">isPossible :: DataCon -&gt; Bool
</span><a href="#local-6989586621683092215"><span class="hs-identifier hs-var hs-var">isPossible</span></a></span></span><span> </span><span id="local-6989586621683092216"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092216"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#dataConCannotMatch"><span class="hs-identifier hs-var">dataConCannotMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.DataCon.html#dataConInstUnivs"><span class="hs-identifier hs-var">dataConInstUnivs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092216"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092214"><span class="hs-identifier hs-var">tycon_args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092216"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-2635"></span><span>
</span><span id="line-2636"></span><span class="hs-comment">-- | Information about the arguments to the class in a stock- or</span><span>
</span><span id="line-2637"></span><span class="hs-comment">-- newtype-derived instance. For a @deriving@-generated instance declaration</span><span>
</span><span id="line-2638"></span><span class="hs-comment">-- such as this one:</span><span>
</span><span id="line-2639"></span><span class="hs-comment">--</span><span>
</span><span id="line-2640"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2641"></span><span class="hs-comment">-- instance Ctx =&gt; Cls cls_ty_1 ... cls_ty_m (TC tc_arg_1 ... tc_arg_n) where ...</span><span>
</span><span id="line-2642"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2643"></span><span class="hs-comment">--</span><span>
</span><span id="line-2644"></span><span class="hs-comment">-- * 'dit_cls_tys' corresponds to @cls_ty_1 ... cls_ty_m@.</span><span>
</span><span id="line-2645"></span><span class="hs-comment">--</span><span>
</span><span id="line-2646"></span><span class="hs-comment">-- * 'dit_tc' corresponds to @TC@.</span><span>
</span><span id="line-2647"></span><span class="hs-comment">--</span><span>
</span><span id="line-2648"></span><span class="hs-comment">-- * 'dit_tc_args' corresponds to @tc_arg_1 ... tc_arg_n@.</span><span>
</span><span id="line-2649"></span><span class="hs-comment">--</span><span>
</span><span id="line-2650"></span><span class="hs-comment">-- See @Note [DerivEnv and DerivSpecMechanism]@ in &quot;GHC.Tc.Deriv.Utils&quot; for a</span><span>
</span><span id="line-2651"></span><span class="hs-comment">-- more in-depth explanation, including the relationship between</span><span>
</span><span id="line-2652"></span><span class="hs-comment">-- 'dit_tc'/'dit_rep_tc' and 'dit_tc_args'/'dit_rep_tc_args'.</span><span>
</span><span id="line-2653"></span><span class="hs-comment">--</span><span>
</span><span id="line-2654"></span><span class="hs-comment">-- A 'DerivInstTys' value can be seen as a more structured representation of</span><span>
</span><span id="line-2655"></span><span class="hs-comment">-- the 'denv_inst_tys' in a 'DerivEnv', as the 'denv_inst_tys' is equal to</span><span>
</span><span id="line-2656"></span><span class="hs-comment">-- @dit_cls_tys ++ ['mkTyConApp' dit_tc dit_tc_args]@. Other parts of the</span><span>
</span><span id="line-2657"></span><span class="hs-comment">-- instance declaration can be found in the 'DerivEnv'. For example, the @Cls@</span><span>
</span><span id="line-2658"></span><span class="hs-comment">-- in the example above corresponds to the 'denv_cls' field of 'DerivEnv'.</span><span>
</span><span id="line-2659"></span><span class="hs-comment">--</span><span>
</span><span id="line-2660"></span><span class="hs-comment">-- Similarly, the type variables that appear in a 'DerivInstTys' value are the</span><span>
</span><span id="line-2661"></span><span class="hs-comment">-- same type variables as the 'denv_tvs' in the parent 'DerivEnv'. Accordingly,</span><span>
</span><span id="line-2662"></span><span class="hs-comment">-- if we are inferring an instance context, the type variables will be 'TcTyVar'</span><span>
</span><span id="line-2663"></span><span class="hs-comment">-- skolems. Otherwise, they will be ordinary 'TyVar's.</span><span>
</span><span id="line-2664"></span><span class="hs-comment">-- See @Note [Overlap and deriving]@ in &quot;GHC.Tc.Deriv.Infer&quot;.</span><span>
</span><span id="line-2665"></span><span class="hs-keyword">data</span><span> </span><span id="DerivInstTys"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-var">DerivInstTys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DerivInstTys"><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-var">DerivInstTys</span></a></span></span><span>
</span><span id="line-2666"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dit_cls_tys"><span class="annot"><span class="annottext">DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var hs-var">dit_cls_tys</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2667"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Other arguments to the class except the last</span></span><span>
</span><span id="line-2668"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dit_tc"><span class="annot"><span class="annottext">DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc"><span class="hs-identifier hs-var hs-var">dit_tc</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-2669"></span><span>    </span><span class="hs-comment">-- ^ Type constructor for which the instance is requested</span><span>
</span><span id="line-2670"></span><span>    </span><span class="hs-comment">--   (last arguments to the type class)</span><span>
</span><span id="line-2671"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dit_tc_args"><span class="annot"><span class="annottext">DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var hs-var">dit_tc_args</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2672"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Arguments to the type constructor</span></span><span>
</span><span id="line-2673"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dit_rep_tc"><span class="annot"><span class="annottext">DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var hs-var">dit_rep_tc</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-2674"></span><span>    </span><span class="hs-comment">-- ^ The representation tycon for 'dit_tc'</span><span>
</span><span id="line-2675"></span><span>    </span><span class="hs-comment">--   (for data family instances). Otherwise the same as 'dit_tc'.</span><span>
</span><span id="line-2676"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dit_rep_tc_args"><span class="annot"><span class="annottext">DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var hs-var">dit_rep_tc_args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2677"></span><span>    </span><span class="hs-comment">-- ^ The representation types for 'dit_tc_args'</span><span>
</span><span id="line-2678"></span><span>    </span><span class="hs-comment">--   (for data family instances). Otherwise the same as 'dit_tc_args'.</span><span>
</span><span id="line-2679"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dit_dc_inst_arg_env"><span class="annot"><span class="annottext">DerivInstTys -&gt; DataConEnv [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_dc_inst_arg_env"><span class="hs-identifier hs-var hs-var">dit_dc_inst_arg_env</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataConEnv"><span class="hs-identifier hs-type">DataConEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2680"></span><span>    </span><span class="hs-comment">-- ^ The cached results of instantiating each data constructor's field</span><span>
</span><span id="line-2681"></span><span>    </span><span class="hs-comment">--   types using @'dataConInstUnivs' data_con 'dit_rep_tc_args'@.</span><span>
</span><span id="line-2682"></span><span>    </span><span class="hs-comment">--   See @Note [Instantiating field types in stock deriving]@.</span><span>
</span><span id="line-2683"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2684"></span><span>    </span><span class="hs-comment">--   This field is only used for stock-derived instances and goes unused</span><span>
</span><span id="line-2685"></span><span>    </span><span class="hs-comment">--   for newtype-derived instances. It is put here mainly for the sake of</span><span>
</span><span id="line-2686"></span><span>    </span><span class="hs-comment">--   convenience.</span><span>
</span><span id="line-2687"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-2688"></span><span>
</span><span id="line-2689"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2690"></span><span>  </span><span id="local-6989586621683092252"><span class="annot"><span class="annottext">ppr :: DerivInstTys -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_cls_tys :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var">dit_cls_tys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092253"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092253"><span class="hs-identifier hs-var">cls_tys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc"><span class="hs-identifier hs-var">dit_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092254"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092254"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var">dit_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092255"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092255"><span class="hs-identifier hs-var">tc_args</span></a></span></span><span>
</span><span id="line-2691"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092256"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092256"><span class="hs-identifier hs-var">rep_tc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092257"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092257"><span class="hs-identifier hs-var">rep_tc_args</span></a></span></span><span>
</span><span id="line-2692"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_dc_inst_arg_env :: DerivInstTys -&gt; DataConEnv [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_dc_inst_arg_env"><span class="hs-identifier hs-var">dit_dc_inst_arg_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092258"><span class="annot"><span class="annottext">DataConEnv [Type]
</span><a href="#local-6989586621683092258"><span class="hs-identifier hs-var">dc_inst_arg_env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2693"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DerivInstTys&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2694"></span><span>         </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_cls_tys&quot;</span></span><span>         </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092253"><span class="hs-identifier hs-var">cls_tys</span></a></span><span>
</span><span id="line-2695"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_tc&quot;</span></span><span>              </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092254"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-2696"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_tc_args&quot;</span></span><span>         </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092255"><span class="hs-identifier hs-var">tc_args</span></a></span><span>
</span><span id="line-2697"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_rep_tc&quot;</span></span><span>          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092256"><span class="hs-identifier hs-var">rep_tc</span></a></span><span>
</span><span id="line-2698"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_rep_tc_args&quot;</span></span><span>     </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092257"><span class="hs-identifier hs-var">rep_tc_args</span></a></span><span>
</span><span id="line-2699"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dit_dc_inst_arg_env&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DataConEnv [Type] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DataConEnv [Type]
</span><a href="#local-6989586621683092258"><span class="hs-identifier hs-var">dc_inst_arg_env</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2700"></span><span>
</span><span id="line-2701"></span><span class="hs-comment">-- | Look up a data constructor's instantiated field types in a 'DerivInstTys'.</span><span>
</span><span id="line-2702"></span><span class="hs-comment">-- See @Note [Instantiating field types in stock deriving]@.</span><span>
</span><span id="line-2703"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-type">derivDataConInstArgTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2704"></span><span id="derivDataConInstArgTys"><span class="annot"><span class="annottext">derivDataConInstArgTys :: DataCon -&gt; DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#derivDataConInstArgTys"><span class="hs-identifier hs-var hs-var">derivDataConInstArgTys</span></a></span></span><span> </span><span id="local-6989586621683092261"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092261"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621683092262"><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683092262"><span class="hs-identifier hs-var">dit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2705"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DataConEnv [Type] -&gt; DataCon -&gt; Maybe [Type]
forall key elt. Uniquable key =&gt; UniqFM key elt -&gt; key -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-var">lookupUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DerivInstTys -&gt; DataConEnv [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_dc_inst_arg_env"><span class="hs-identifier hs-var">dit_dc_inst_arg_env</span></a></span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683092262"><span class="hs-identifier hs-var">dit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092261"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2706"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683092263"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092263"><span class="hs-identifier hs-var">inst_arg_tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092263"><span class="hs-identifier hs-var">inst_arg_tys</span></a></span><span>
</span><span id="line-2707"></span><span>    </span><span class="annot"><span class="annottext">Maybe [Type]
</span><span class="hs-identifier hs-var">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; [Type]
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;derivDataConInstArgTys&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092261"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2708"></span><span>
</span><span id="line-2709"></span><span class="hs-comment">-- | @'buildDataConInstArgEnv' tycon arg_tys@ constructs a cache that maps</span><span>
</span><span id="line-2710"></span><span class="hs-comment">-- each of @tycon@'s data constructors to their field types, with are to be</span><span>
</span><span id="line-2711"></span><span class="hs-comment">-- instantiated with @arg_tys@.</span><span>
</span><span id="line-2712"></span><span class="hs-comment">-- See @Note [Instantiating field types in stock deriving]@.</span><span>
</span><span id="line-2713"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#buildDataConInstArgEnv"><span class="hs-identifier hs-type">buildDataConInstArgEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataConEnv"><span class="hs-identifier hs-type">DataConEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2714"></span><span id="buildDataConInstArgEnv"><span class="annot"><span class="annottext">buildDataConInstArgEnv :: TyCon -&gt; [Type] -&gt; DataConEnv [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#buildDataConInstArgEnv"><span class="hs-identifier hs-var hs-var">buildDataConInstArgEnv</span></a></span></span><span> </span><span id="local-6989586621683092264"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092264"><span class="hs-identifier hs-var">rep_tc</span></a></span></span><span> </span><span id="local-6989586621683092265"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092265"><span class="hs-identifier hs-var">rep_tc_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2715"></span><span>  </span><span class="annot"><span class="annottext">[(DataCon, [Type])] -&gt; DataConEnv [Type]
forall key elt. Uniquable key =&gt; [(key, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-identifier hs-var">listToUFM</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092266"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092267"><span class="hs-identifier hs-var">inst_arg_tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2716"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683092266"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092266"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092264"><span class="hs-identifier hs-var">rep_tc</span></a></span><span>
</span><span id="line-2717"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683092267"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092267"><span class="hs-identifier hs-var">inst_arg_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2718"></span><span>                    </span><span class="annot"><span class="annottext">DataCon -&gt; [Type] -&gt; ([Id], [Type], [Type])
</span><a href="GHC.Core.DataCon.html#dataConInstSig"><span class="hs-identifier hs-var">dataConInstSig</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092266"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">([Type] -&gt; ([Id], [Type], [Type]))
-&gt; [Type] -&gt; ([Id], [Type], [Type])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.DataCon.html#dataConInstUnivs"><span class="hs-identifier hs-var">dataConInstUnivs</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621683092266"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092265"><span class="hs-identifier hs-var">rep_tc_args</span></a></span><span>
</span><span id="line-2719"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-2720"></span><span>
</span><span id="line-2721"></span><span class="hs-comment">-- | Apply a substitution to all of the 'Type's contained in a 'DerivInstTys'.</span><span>
</span><span id="line-2722"></span><span class="hs-comment">-- See @Note [Instantiating field types in stock deriving]@ for why we need to</span><span>
</span><span id="line-2723"></span><span class="hs-comment">-- substitute into a 'DerivInstTys' in the first place.</span><span>
</span><span id="line-2724"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#substDerivInstTys"><span class="hs-identifier hs-type">substDerivInstTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Subst.html#Subst"><span class="hs-identifier hs-type">Subst</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span>
</span><span id="line-2725"></span><span id="substDerivInstTys"><span class="annot"><span class="annottext">substDerivInstTys :: Subst -&gt; DerivInstTys -&gt; DerivInstTys
</span><a href="GHC.Tc.Deriv.Generate.html#substDerivInstTys"><span class="hs-identifier hs-var hs-var">substDerivInstTys</span></a></span></span><span> </span><span id="local-6989586621683092269"><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683092269"><span class="hs-identifier hs-var">subst</span></a></span></span><span>
</span><span id="line-2726"></span><span>  </span><span id="local-6989586621683092270"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683092270"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_cls_tys :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var">dit_cls_tys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092271"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092271"><span class="hs-identifier hs-var">cls_tys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var">dit_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092272"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092272"><span class="hs-identifier hs-var">tc_args</span></a></span></span><span>
</span><span id="line-2727"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092273"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092273"><span class="hs-identifier hs-var">rep_tc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092274"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092274"><span class="hs-identifier hs-var">rep_tc_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2728"></span><span>
</span><span id="line-2729"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Subst -&gt; Bool
</span><a href="GHC.Core.TyCo.Subst.html#isEmptyTCvSubst"><span class="hs-identifier hs-var">isEmptyTCvSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683092269"><span class="hs-identifier hs-var">subst</span></a></span><span>
</span><span id="line-2730"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683092270"><span class="hs-identifier hs-var">dit</span></a></span><span>
</span><span id="line-2731"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2732"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DerivInstTys
</span><a href="#local-6989586621683092270"><span class="hs-identifier hs-var">dit</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var">dit_cls_tys</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092276"><span class="hs-identifier hs-type">cls_tys'</span></a></span><span>
</span><span id="line-2733"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var">dit_tc_args</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092277"><span class="hs-identifier hs-type">tc_args'</span></a></span><span>
</span><span id="line-2734"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092278"><span class="hs-identifier hs-type">rep_tc_args'</span></a></span><span>
</span><span id="line-2735"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_dc_inst_arg_env"><span class="hs-identifier hs-var">dit_dc_inst_arg_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#buildDataConInstArgEnv"><span class="hs-identifier hs-type">buildDataConInstArgEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092273"><span class="hs-identifier hs-type">rep_tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092278"><span class="hs-identifier hs-type">rep_tc_args'</span></a></span><span>
</span><span id="line-2736"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-2737"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2738"></span><span>    </span><span id="local-6989586621683092276"><span class="annot"><span class="annottext">cls_tys' :: [Type]
</span><a href="#local-6989586621683092276"><span class="hs-identifier hs-var hs-var">cls_tys'</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Subst -&gt; [Type] -&gt; [Type]
Subst -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Subst.html#substTys"><span class="hs-identifier hs-var">substTys</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683092269"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092271"><span class="hs-identifier hs-var">cls_tys</span></a></span><span>
</span><span id="line-2739"></span><span>    </span><span id="local-6989586621683092277"><span class="annot"><span class="annottext">tc_args' :: [Type]
</span><a href="#local-6989586621683092277"><span class="hs-identifier hs-var hs-var">tc_args'</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Subst -&gt; [Type] -&gt; [Type]
Subst -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Subst.html#substTys"><span class="hs-identifier hs-var">substTys</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683092269"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092272"><span class="hs-identifier hs-var">tc_args</span></a></span><span>
</span><span id="line-2740"></span><span>    </span><span id="local-6989586621683092278"><span class="annot"><span class="annottext">rep_tc_args' :: [Type]
</span><a href="#local-6989586621683092278"><span class="hs-identifier hs-var hs-var">rep_tc_args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Subst -&gt; [Type] -&gt; [Type]
Subst -&gt; [Type] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Subst.html#substTys"><span class="hs-identifier hs-var">substTys</span></a></span><span> </span><span class="annot"><span class="annottext">Subst
</span><a href="#local-6989586621683092269"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092274"><span class="hs-identifier hs-var">rep_tc_args</span></a></span><span>
</span><span id="line-2741"></span><span>
</span><span id="line-2742"></span><span class="hs-comment">-- | Zonk the 'TcTyVar's in a 'DerivInstTys' value to 'TyVar's.</span><span>
</span><span id="line-2743"></span><span class="hs-comment">-- See @Note [What is zonking?]@ in &quot;GHC.Tc.Zonk.Type&quot;.</span><span>
</span><span id="line-2744"></span><span class="hs-comment">--</span><span>
</span><span id="line-2745"></span><span class="hs-comment">-- This is only used in the final zonking step when inferring</span><span>
</span><span id="line-2746"></span><span class="hs-comment">-- the context for a derived instance.</span><span>
</span><span id="line-2747"></span><span class="hs-comment">-- See @Note [Overlap and deriving]@ in &quot;GHC.Tc.Deriv.Infer&quot;.</span><span>
</span><span id="line-2748"></span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#zonkDerivInstTys"><span class="hs-identifier hs-type">zonkDerivInstTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Zonk.Env.html#ZonkT"><span class="hs-identifier hs-type">ZonkT</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcM"><span class="hs-identifier hs-type">TcM</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span>
</span><span id="line-2749"></span><span id="zonkDerivInstTys"><span class="annot"><span class="annottext">zonkDerivInstTys :: DerivInstTys -&gt; ZonkT TcM DerivInstTys
</span><a href="GHC.Tc.Deriv.Generate.html#zonkDerivInstTys"><span class="hs-identifier hs-var hs-var">zonkDerivInstTys</span></a></span></span><span> </span><span id="local-6989586621683092280"><span class="annot"><span class="annottext">dit :: DerivInstTys
</span><a href="#local-6989586621683092280"><span class="hs-identifier hs-var">dit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#DerivInstTys"><span class="hs-identifier hs-type">DerivInstTys</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dit_cls_tys :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var">dit_cls_tys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092281"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092281"><span class="hs-identifier hs-var">cls_tys</span></a></span></span><span>
</span><span id="line-2750"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var">dit_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092282"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092282"><span class="hs-identifier hs-var">tc_args</span></a></span></span><span>
</span><span id="line-2751"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc :: DerivInstTys -&gt; TyCon
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc"><span class="hs-identifier hs-var">dit_rep_tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092283"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683092283"><span class="hs-identifier hs-var">rep_tc</span></a></span></span><span>
</span><span id="line-2752"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dit_rep_tc_args :: DerivInstTys -&gt; [Type]
</span><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683092284"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092284"><span class="hs-identifier hs-var">rep_tc_args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2753"></span><span>  </span><span id="local-6989586621683092285"><span class="annot"><a href="#local-6989586621683092285"><span class="hs-identifier hs-var">cls_tys'</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; ZonkTcM [Type]
</span><a href="GHC.Tc.Zonk.Type.html#zonkTcTypesToTypesX"><span class="hs-identifier hs-var">zonkTcTypesToTypesX</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621683092281"><span class="hs-identifier hs-var">cls_tys</span></a></span><span>
</span><span id="line-2754"></span><span>  </span><span id="local-6989586621683092287"><span class="annot"><a href="#local-6989586621683092287"><span class="hs-identifier hs-var">tc_args'</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Tc.Zonk.Type.html#zonkTcTypesToTypesX"><span class="hs-identifier hs-type">zonkTcTypesToTypesX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092282"><span class="hs-identifier hs-type">tc_args</span></a></span><span>
</span><span id="line-2755"></span><span>  </span><span id="local-6989586621683092288"><span class="annot"><a href="#local-6989586621683092288"><span class="hs-identifier hs-var">rep_tc_args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Tc.Zonk.Type.html#zonkTcTypesToTypesX"><span class="hs-identifier hs-type">zonkTcTypesToTypesX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092284"><span class="hs-identifier hs-type">rep_tc_args</span></a></span><span>
</span><span id="line-2756"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621683092280"><span class="hs-identifier hs-type">dit</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_cls_tys"><span class="hs-identifier hs-var">dit_cls_tys</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092285"><span class="hs-identifier hs-type">cls_tys'</span></a></span><span>
</span><span id="line-2757"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_tc_args"><span class="hs-identifier hs-var">dit_tc_args</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092287"><span class="hs-identifier hs-type">tc_args'</span></a></span><span>
</span><span id="line-2758"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_rep_tc_args"><span class="hs-identifier hs-var">dit_rep_tc_args</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621683092288"><span class="hs-identifier hs-type">rep_tc_args'</span></a></span><span>
</span><span id="line-2759"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#dit_dc_inst_arg_env"><span class="hs-identifier hs-var">dit_dc_inst_arg_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Tc.Deriv.Generate.html#buildDataConInstArgEnv"><span class="hs-identifier hs-type">buildDataConInstArgEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092283"><span class="hs-identifier hs-type">rep_tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683092288"><span class="hs-identifier hs-type">rep_tc_args'</span></a></span><span>
</span><span id="line-2760"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-2761"></span><span>
</span><span id="line-2762"></span><span class="hs-comment">{-
Note [Auxiliary binders]
~~~~~~~~~~~~~~~~~~~~~~~~
We often want to make top-level auxiliary bindings in derived instances.
For example, derived Ix instances sometimes generate code like this:

  data T = ...
  deriving instance Ix T

  ==&gt;

  instance Ix T where
    range (a, b) = map tag2con_T [dataToTag# a .. dataToTag# b]

  $tag2con_T :: Int -&gt; T
  $tag2con_T = ...code....

Note that multiple instances of the same type might need to use the same sort
of auxiliary binding. For example, $tag2con is used not only in derived Ix
instances, but also in derived Enum instances:

  deriving instance Enum T

  ==&gt;

  instance Enum T where
    toEnum i = tag2con_T i

  $tag2con_T :: Int -&gt; T
  $tag2con_T = ...code....

How do we ensure that the two usages of $tag2con_T do not conflict with each
other? We do so by generating a separate $tag2con_T definition for each
instance, giving each definition an Exact RdrName with a separate Unique to
avoid name clashes:

  instance Ix T where
    range (a, b) = map tag2con_T{Uniq2} [dataToTag# a .. dataToTag# b]

  instance Enum T where
    toEnum a = $tag2con_T{Uniq2} a

   -- $tag2con_T{Uniq1} and $tag2con_T{Uniq2} are Exact RdrNames with
   -- underlying System Names

   $tag2con_T{Uniq1} :: Int -&gt; T
   $tag2con_T{Uniq1} = ...code....

   $tag2con_T{Uniq2} :: Int -&gt; T
   $tag2con_T{Uniq2} = ...code....

Note that:

* This is /precisely/ the same mechanism that we use for
  Template Haskell&#8211;generated code.
  See Note [Binders in Template Haskell] in GHC.ThToHs.
  There we explain why we use a 'System' flavour of the Name we generate.

* See &quot;Wrinkle: Reducing code duplication&quot; for how we can avoid generating
  lots of duplicated code in common situations.

* See &quot;Wrinkle: Why we sometimes do generated duplicate code&quot; for why this
  de-duplication mechanism isn't perfect, so we fall back to CSE
  (which is very effective within a single module).

* Note that the &quot;_T&quot; part of &quot;$tag2con_T&quot; is just for debug-printing
  purposes. We could call them all &quot;$tag2con&quot;, or even just &quot;aux&quot;.
  The Unique is enough to keep them separate.

  This is important: we might be generating an Eq instance for two
  completely-distinct imported type constructors T.

At first glance, it might appear that this plan is infeasible, as it would
require generating multiple top-level declarations with the same OccName. But
what if auxiliary bindings /weren't/ top-level? Conceptually, we could imagine
that auxiliary bindings are /local/ to the instance declarations in which they
are used. Using some hypothetical Haskell syntax, it might look like this:

  let {
    $tag2con_T{Uniq1} :: Int -&gt; T
    $tag2con_T{Uniq1} = ...code....

    $tag2con_T{Uniq2} :: Int -&gt; T
    $tag2con_T{Uniq2} = ...code....
  } in {
    instance Ix T where
      range (a, b) = map tag2con_T{Uniq2} [dataToTag# a .. dataToTag# b]

    instance Enum T where
      toEnum a = $tag2con_T{Uniq2} a
  }

Making auxiliary bindings local is key to making this work, since GHC will
not reject local bindings with duplicate names provided that:

* Each binding has a distinct unique, and
* Each binding has an Exact RdrName with a System Name.

Even though the hypothetical Haskell syntax above does not exist, we can
accomplish the same end result through some sleight of hand in renameDeriv:
we rename auxiliary bindings with rnLocalValBindsLHS. (If we had used
rnTopBindsLHS instead, then GHC would spuriously reject auxiliary bindings
with the same OccName as duplicates.) Luckily, no special treatment is needed
to typecheck them; we can typecheck them as normal top-level bindings
(using tcTopBinds) without danger.

-----
-- Wrinkle: Reducing code duplication
-----

While the approach of generating copies of each sort of auxiliary binder per
derived instance is simpler, it can lead to code bloat if done na&#239;vely.
Consider this example:

  data T = ...
  deriving instance Eq T
  deriving instance Ord T

  ==&gt;

  instance Ix T where
    range (a, b) = map tag2con_T{Uniq2} [dataToTag# a .. dataToTag# b]

  instance Enum T where
    toEnum a = $tag2con_T{Uniq2} a

  $tag2con_T{Uniq1} :: Int -&gt; T
  $tag2con_T{Uniq1} = ...code....

  $tag2con_T{Uniq2} :: Int -&gt; T
  $tag2con_T{Uniq2} = ...code....

$tag2con_T{Uniq1} and $tag2con_T{Uniq2} are blatant duplicates of each other,
which is not ideal. Surely GHC can do better than that at the very least! And
indeed it does. Within the genAuxBinds function, GHC performs a small CSE-like
pass to define duplicate auxiliary binders in terms of the original one. On
the example above, that would look like this:

  $tag2con_T{Uniq1} :: Int -&gt; T
  $tag2con_T{Uniq1} = ...code....

  $tag2con_T{Uniq2} :: Int -&gt; T
  $tag2con_T{Uniq2} = $tag2con_T{Uniq1}

(Note that this pass does not cover all possible forms of code duplication.
See &quot;Wrinkle: Why we sometimes do generate duplicate code&quot; for situations
where genAuxBinds does not deduplicate code.)

To start, genAuxBinds is given a list of AuxBindSpecs, which describe the sort
of auxiliary bindings that must be generates along with their RdrNames. As
genAuxBinds processes this list, it marks the first occurrence of each sort of
auxiliary binding as the &quot;original&quot;. For example, if genAuxBinds sees a
DerivCon2Tag for the first time (with the RdrName $tag2con_T{Uniq1}), then it
will generate the full code for a $tag2con binding:

  $tag2con_T{Uniq1} :: Int -&gt; T
  $tag2con_T{Uniq1} = ...code....

Later, if genAuxBinds sees any additional DerivCon2Tag values, it will treat
them as duplicates. For example, if genAuxBinds later sees a DerivCon2Tag with
the RdrName $tag2con_T{Uniq2}, it will generate this code, which is much more
compact:

  $tag2con_T{Uniq2} :: Int -&gt; T
  $tag2con_T{Uniq2} = $tag2con_T{Uniq1}

An alternative approach would be /not/ performing any kind of deduplication in
genAuxBinds at all and simply relying on GHC's simplifier to perform this kind
of CSE. But this is a more expensive analysis in general, while genAuxBinds can
accomplish the same result with a simple check.

-----
-- Wrinkle: Why we sometimes do generate duplicate code
-----

It is worth noting that deduplicating auxiliary binders is difficult in the
general case. Here are two particular examples where GHC cannot easily remove
duplicate copies of an auxiliary binding:

1. When derived instances are contained in different modules, as in the
   following example:

     module A where
       data T = ...
     module B where
       import A
       deriving instance Ix T
     module C where
       import B
       deriving instance Enum T

   The derived Eq and Enum instances for T make use of $tag2con_T, and since
   they are defined in separate modules, each module must produce its own copy
   of $tag2con_T.

2. When derived instances are separated by TH splices (#18321), as in the
   following example:

     module M where

     data T = ...
     deriving instance Ix T
     $(pure [])
     deriving instance Enum T

   Due to the way that GHC typechecks TyClGroups, genAuxBinds will run twice
   in this program: once for all the declarations before the TH splice, and
   once again for all the declarations after the TH splice. As a result,
   $tag2con_T will be generated twice, since genAuxBinds will be unable to
   recognize the presence of duplicates.

These situations are much rarer, so we do not spend any effort to deduplicate
auxiliary bindings there. Instead, we focus on the common case of multiple
derived instances within the same module, not separated by any TH splices.
(This is the case described in &quot;Wrinkle: Reducing code duplication&quot;.) In
situation (1), we can at least fall back on GHC's simplifier to pick up
genAuxBinds' slack.

Note [Filter out impossible GADT data constructors]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Some stock-derivable classes will filter out impossible GADT data constructors,
to rule out problematic constructors when deriving instances. e.g.

```
data Foo a where
  X :: Foo Int
  Y :: (Bool -&gt; Bool) -&gt; Foo Bool
```

when deriving an instance on `Foo Int`, `Y` should be treated as if it didn't
exist in the first place. For instance, if we write

```
deriving instance Eq (Foo Int)
```

it should generate:

```
instance Eq (Foo Int) where
  X == X = True
```

Classes that filter constructors:

* Eq
* Ord
* Show
* Lift
* Functor
* Foldable
* Traversable

Classes that do not filter constructors:

* Enum: doesn't make sense for GADTs in the first place
* Bounded: only makes sense for GADTs with a single constructor
* Ix: only makes sense for GADTs with a single constructor
* Read: `Read a` returns `a` instead of consumes `a`, so filtering data
  constructors would make this function _more_ partial instead of less
* Data: derived implementations of gunfold rely on a constructor-indexing
  scheme that wouldn't work if certain constructors were filtered out
* Generic/Generic1: doesn't make sense for GADTs

Classes that do not currently filter constructors may do so in the future, if
there is a valid use-case and we have requirements for how they should work.

See #16341 and the T16341.hs test case.

Note [Instantiating field types in stock deriving]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Figuring out what the types of data constructor fields are in `deriving` can
be surprisingly tricky. Here are some examples (adapted from #20375) to set
the scene:

  data Ta = MkTa Int#
  data Tb (x :: TYPE IntRep) = MkTb x

  deriving instance Eq Ta        -- 1.
  deriving instance Eq (Tb a)    -- 2.
  deriving instance Eq (Tb Int#) -- 3.

Example (1) is accepted, as `deriving Eq` has a special case for fields of type
Int#. Example (2) is rejected, however, as the special case for Int# does not
extend to all types of kind (TYPE IntRep).

Example (3) ought to typecheck. If you instantiate the field of type `x` in
MkTb to be Int#, then `deriving Eq` is capable of handling that. We must be
careful, however. If we na&#239;vely use, say, `dataConOrigArgTys` to retrieve the
field types, then we would get `b`, which `deriving Eq` would reject. In
order to handle `deriving Eq` (and, more generally, any stock deriving
strategy) correctly, we /must/ instantiate the field types as needed.
Not doing so led to #20375 and #20387.

In fact, we end up needing to instantiate the field types in quite a few
places:

* When performing validity checks for stock deriving strategies (e.g., in
  GHC.Tc.Deriv.Utils.cond_stdOK)

* When inferring the instance context in
  GHC.Tc.Deriv.Infer.inferConstraintStock

* When generating code for stock-derived instances in
  GHC.Tc.Deriv.{Functor,Generate,Generics}

Repeatedly performing these instantiations in multiple places would be
wasteful, so we build a cache of data constructor field instantiations in
the `dit_dc_inst_arg_env` field of DerivInstTys. Specifically:

1. When beginning to generate code for a stock-derived instance
   `T arg_1 ... arg_n`, the `dit_dc_inst_arg_env` field is created by taking
   each data constructor `dc`, instantiating its field types with
   `dataConInstUnivs dc [arg_1, ..., arg_n]`, and mapping `dc` to the
   instantiated field types in the cache. The `buildDataConInstArgEnv` function
   is responsible for orchestrating this.

2. When a part of the code in GHC.Tc.Deriv.* needs to look up the field
   types, we deliberately avoid using `dataConOrigArgTys`. Instead, we use
   `derivDataConInstArgTys`, which looks up a DataCon's instantiated field
   types in the cache.

StandaloneDeriving is one way for the field types to become instantiated.
Another way is by deriving Functor and related classes, as chronicled in
Note [Inferring the instance context] in GHC.Tc.Deriv.Infer. Here is one such
example:

  newtype Compose (f :: k -&gt; Type) (g :: j -&gt; k) (a :: j) = Compose (f (g a))
    deriving Generic1

This ultimately generates the following instance:

  instance forall (f :: Type -&gt; Type) (g :: j -&gt; Type).
    Functor f =&gt; Generic1 (Compose f g) where ...

Note that because of the inferred `Functor f` constraint, `k` was instantiated
to be `Type`. GHC's deriving machinery doesn't realize this until it performs
constraint inference (in GHC.Tc.Deriv.Infer.inferConstraintsStock), however,
which is *after* the initial DerivInstTys has been created. As a result, the
`dit_dc_inst_arg_env` field might need to be updated after constraint inference,
as the inferred constraints might instantiate the field types further.

This is accomplished by way of `substDerivInstTys`, which substitutes all of
the fields in a `DerivInstTys`, including the `dit_dc_inst_arg_env`.
It is important to do this in inferConstraintsStock, as the
deriving/should_compile/T20387 test case will not compile otherwise.
-}</span><span>
</span><span id="line-3110"></span></pre></body></html>