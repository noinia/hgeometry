<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621682476920"><span id="local-6989586621682476921"></span></span><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The AQUA Project, Glasgow University, 1994-1998


UniqFM: Specialised finite maps, for things with @Uniques@.

Basically, the things need to be in class @Uniquable@, and we use the
@getUnique@ method to grab their @Uniques@.

(A similar thing to @UniqSet@, as opposed to @Set@.)

The interface is based on @FiniteMap@s, but the implementation uses
@Data.IntMap@, which is both maintained and faster than the past
implementation (see commit log).

The @UniqFM@ interface maps directly to Data.IntMap, only
``Data.IntMap.union'' is left-biased and ``plusUFM'' right-biased
and ``addToUFM\_C'' and ``Data.IntMap.insertWith'' differ in the order
of arguments of combining function.
-}</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-24"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-25"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall #-}</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Unique-keyed mappings</span></span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier">UniqFM</span></a></span><span class="hs-special">,</span><span>           </span><span class="hs-comment">-- abstract type</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier">NonDetUniqFM</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- wrapper for opting into nondeterminism</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Manipulating those mappings</span></span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier">emptyUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier">unitUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#unitDirectlyUFM"><span class="hs-identifier">unitDirectlyUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#zipToUFM"><span class="hs-identifier">zipToUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-identifier">listToUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_Directly"><span class="hs-identifier">listToUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_C"><span class="hs-identifier">listToUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToIdentityUFM"><span class="hs-identifier">listToIdentityUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier">addToUFM</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_C"><span class="hs-identifier">addToUFM_C</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_Acc"><span class="hs-identifier">addToUFM_Acc</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_L"><span class="hs-identifier">addToUFM_L</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM"><span class="hs-identifier">addListToUFM</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM_C"><span class="hs-identifier">addListToUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_Directly"><span class="hs-identifier">addToUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM_Directly"><span class="hs-identifier">addListToUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#adjustUFM"><span class="hs-identifier">adjustUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier">alterUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#alterUFM_Directly"><span class="hs-identifier">alterUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#adjustUFM_Directly"><span class="hs-identifier">adjustUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#delFromUFM"><span class="hs-identifier">delFromUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#delFromUFM_Directly"><span class="hs-identifier">delFromUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#delListFromUFM"><span class="hs-identifier">delListFromUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#delListFromUFM_Directly"><span class="hs-identifier">delListFromUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier">plusUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_C"><span class="hs-identifier">plusUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_CD"><span class="hs-identifier">plusUFM_CD</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_CD2"><span class="hs-identifier">plusUFM_CD2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mergeUFM"><span class="hs-identifier">mergeUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusMaybeUFM_C"><span class="hs-identifier">plusMaybeUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFMList"><span class="hs-identifier">plusUFMList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFMListWith"><span class="hs-identifier">plusUFMListWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#sequenceUFMList"><span class="hs-identifier">sequenceUFMList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#minusUFM"><span class="hs-identifier">minusUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#minusUFM_C"><span class="hs-identifier">minusUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#intersectUFM"><span class="hs-identifier">intersectUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#intersectUFM_C"><span class="hs-identifier">intersectUFM_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#disjointUFM"><span class="hs-identifier">disjointUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#equalKeysUFM"><span class="hs-identifier">equalKeysUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#diffUFM"><span class="hs-identifier">diffUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM"><span class="hs-identifier">nonDetStrictFoldUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetFoldUFM"><span class="hs-identifier">nonDetFoldUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_DirectlyM"><span class="hs-identifier">nonDetStrictFoldUFM_DirectlyM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetFoldWithKeyUFM"><span class="hs-identifier">nonDetFoldWithKeyUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_Directly"><span class="hs-identifier">nonDetStrictFoldUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#anyUFM"><span class="hs-identifier">anyUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#allUFM"><span class="hs-identifier">allUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#seqEltsUFM"><span class="hs-identifier">seqEltsUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier">mapUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mapUFM_Directly"><span class="hs-identifier">mapUFM_Directly</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#strictMapUFM"><span class="hs-identifier">strictMapUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeUFM"><span class="hs-identifier">mapMaybeUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeUFM_sameUnique"><span class="hs-identifier">mapMaybeUFM_sameUnique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeWithKeyUFM"><span class="hs-identifier">mapMaybeWithKeyUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-identifier">elemUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#elemUFM_Directly"><span class="hs-identifier">elemUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#filterUFM"><span class="hs-identifier">filterUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#filterUFM_Directly"><span class="hs-identifier">filterUFM_Directly</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#partitionUFM"><span class="hs-identifier">partitionUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#sizeUFM"><span class="hs-identifier">sizeUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier">isNullUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier">lookupUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM_Directly"><span class="hs-identifier">lookupUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM"><span class="hs-identifier">lookupWithDefaultUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM_Directly"><span class="hs-identifier">lookupWithDefaultUFM_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier">nonDetEltsUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetKeysUFM"><span class="hs-identifier">nonDetKeysUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#ufmToSet_Directly"><span class="hs-identifier">ufmToSet_Directly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier">nonDetUFMToList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#ufmToIntMap"><span class="hs-identifier">ufmToIntMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#unsafeIntMapToUFM"><span class="hs-identifier">unsafeIntMapToUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#unsafeCastUFMKey"><span class="hs-identifier">unsafeCastUFMKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUniqFM"><span class="hs-identifier">pprUniqFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUFM"><span class="hs-identifier">pprUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUFMWithKeys"><span class="hs-identifier">pprUFMWithKeys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#pluralUFM"><span class="hs-identifier">pluralUFM</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier">Uniquable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier">Unique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier">getKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier">mkUniqueGrimily</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.Word64Map.html"><span class="hs-identifier">GHC.Data.Word64Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.Word64Map.Strict.html"><span class="hs-identifier">GHC.Data.Word64Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MS</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.Word64Set.html"><span class="hs-identifier">GHC.Data.Word64Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semi</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Functor.Classes.html"><span class="hs-identifier">Data.Functor.Classes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Functor.Classes.html#Eq1"><span class="hs-identifier">Eq1</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Coerce.html"><span class="hs-identifier">Data.Coerce</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | A finite map from @uniques@ of one type to</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- elements in another type.</span><span>
</span><span id="line-103"></span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- The key is just here to keep us honest. It's always safe</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- to use a single type as key.</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- If two types don't overlap in their uniques it's also safe</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- to index the same map at multiple key types. But this is</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- very much discouraged.</span><span>
</span><span id="line-109"></span><span class="hs-keyword">newtype</span><span> </span><span id="UniqFM"><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-var">UniqFM</span></a></span></span><span> </span><span id="local-6989586621682476270"><span class="annot"><a href="#local-6989586621682476270"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span id="local-6989586621682476269"><span class="annot"><a href="#local-6989586621682476269"><span class="hs-identifier hs-type">ele</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UFM"><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.Word64Map.Internal.html#Word64Map"><span class="hs-identifier hs-type">M.Word64Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476269"><span class="hs-identifier hs-type">ele</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477009"><span id="local-6989586621682477013"><span id="local-6989586621682477016"><span id="local-6989586621682477018"><span id="local-6989586621682477020"><span id="local-6989586621682477026"><span id="local-6989586621682477031"><span id="local-6989586621682477034"><span id="local-6989586621682477037"><span id="local-6989586621682477040"><span id="local-6989586621682477043"><span id="local-6989586621682477046"><span id="local-6989586621682477051"><span id="local-6989586621682477056"><span class="annot"><span class="annottext">Typeable (UniqFM key ele)
Typeable (UniqFM key ele) =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; UniqFM key ele -&gt; c (UniqFM key ele))
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (UniqFM key ele))
-&gt; (UniqFM key ele -&gt; Constr)
-&gt; (UniqFM key ele -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (UniqFM key ele)))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c (UniqFM key ele)))
-&gt; ((forall b. Data b =&gt; b -&gt; b)
    -&gt; UniqFM key ele -&gt; UniqFM key ele)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r)
-&gt; (forall u.
    (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; UniqFM key ele -&gt; m (UniqFM key ele))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; UniqFM key ele -&gt; m (UniqFM key ele))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; UniqFM key ele -&gt; m (UniqFM key ele))
-&gt; Data (UniqFM key ele)
UniqFM key ele -&gt; Constr
UniqFM key ele -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; UniqFM key ele -&gt; UniqFM key ele
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; [u]
forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
Typeable (UniqFM key ele)
forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
UniqFM key ele -&gt; Constr
forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
UniqFM key ele -&gt; DataType
forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; UniqFM key ele -&gt; UniqFM key ele
forall k (key :: k) ele u.
(Typeable key, Typeable k, Data ele) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; u
forall k (key :: k) ele u.
(Typeable key, Typeable k, Data ele) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; [u]
forall k (key :: k) ele r r'.
(Typeable key, Typeable k, Data ele) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
forall k (key :: k) ele r r'.
(Typeable key, Typeable k, Data ele) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
forall k (key :: k) ele (m :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
forall k (key :: k) ele (m :: * -&gt; *).
(Typeable key, Typeable k, Data ele, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
forall k (key :: k) ele (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (UniqFM key ele)
forall k (key :: k) ele (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; UniqFM key ele -&gt; c (UniqFM key ele)
forall k (key :: k) ele (t :: * -&gt; *) (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (UniqFM key ele))
forall k (key :: k) ele (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (UniqFM key ele))
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (UniqFM key ele)
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; UniqFM key ele -&gt; c (UniqFM key ele)
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (UniqFM key ele))
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (UniqFM key ele))
$cgfoldl :: forall k (key :: k) ele (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; UniqFM key ele -&gt; c (UniqFM key ele)
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; UniqFM key ele -&gt; c (UniqFM key ele)
$cgunfold :: forall k (key :: k) ele (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (UniqFM key ele)
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (UniqFM key ele)
$ctoConstr :: forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
UniqFM key ele -&gt; Constr
toConstr :: UniqFM key ele -&gt; Constr
$cdataTypeOf :: forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
UniqFM key ele -&gt; DataType
dataTypeOf :: UniqFM key ele -&gt; DataType
$cdataCast1 :: forall k (key :: k) ele (t :: * -&gt; *) (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (UniqFM key ele))
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (UniqFM key ele))
$cdataCast2 :: forall k (key :: k) ele (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (UniqFM key ele))
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (UniqFM key ele))
$cgmapT :: forall k (key :: k) ele.
(Typeable key, Typeable k, Data ele) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; UniqFM key ele -&gt; UniqFM key ele
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; UniqFM key ele -&gt; UniqFM key ele
$cgmapQl :: forall k (key :: k) ele r r'.
(Typeable key, Typeable k, Data ele) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
$cgmapQr :: forall k (key :: k) ele r r'.
(Typeable key, Typeable k, Data ele) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; UniqFM key ele -&gt; r
$cgmapQ :: forall k (key :: k) ele u.
(Typeable key, Typeable k, Data ele) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; [u]
$cgmapQi :: forall k (key :: k) ele u.
(Typeable key, Typeable k, Data ele) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; u
gmapQi :: forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; UniqFM key ele -&gt; u
$cgmapM :: forall k (key :: k) ele (m :: * -&gt; *).
(Typeable key, Typeable k, Data ele, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
$cgmapMp :: forall k (key :: k) ele (m :: * -&gt; *).
(Typeable key, Typeable k, Data ele, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
$cgmapMo :: forall k (key :: k) ele (m :: * -&gt; *).
(Typeable key, Typeable k, Data ele, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; UniqFM key ele -&gt; m (UniqFM key ele)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477069"><span id="local-6989586621682477074"><span class="annot"><span class="annottext">UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
(UniqFM key ele -&gt; UniqFM key ele -&gt; Bool)
-&gt; (UniqFM key ele -&gt; UniqFM key ele -&gt; Bool)
-&gt; Eq (UniqFM key ele)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall k (key :: k) ele.
Eq ele =&gt;
UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
$c== :: forall k (key :: k) ele.
Eq ele =&gt;
UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
== :: UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
$c/= :: forall k (key :: k) ele.
Eq ele =&gt;
UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
/= :: UniqFM key ele -&gt; UniqFM key ele -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477081"><span id="local-6989586621682477086"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; UniqFM key a -&gt; UniqFM key b)
-&gt; (forall a b. a -&gt; UniqFM key b -&gt; UniqFM key a)
-&gt; Functor (UniqFM key)
forall k (key :: k) a b. a -&gt; UniqFM key b -&gt; UniqFM key a
forall k (key :: k) a b. (a -&gt; b) -&gt; UniqFM key a -&gt; UniqFM key b
forall a b. a -&gt; UniqFM key b -&gt; UniqFM key a
forall a b. (a -&gt; b) -&gt; UniqFM key a -&gt; UniqFM key b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall k (key :: k) a b. (a -&gt; b) -&gt; UniqFM key a -&gt; UniqFM key b
fmap :: forall a b. (a -&gt; b) -&gt; UniqFM key a -&gt; UniqFM key b
$c&lt;$ :: forall k (key :: k) a b. a -&gt; UniqFM key b -&gt; UniqFM key a
&lt;$ :: forall a b. a -&gt; UniqFM key b -&gt; UniqFM key a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-comment">-- Nondeterministic Foldable and Traversable instances are accessible through</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-comment">-- use of the 'NonDetUniqFM' wrapper.</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-comment">-- See Note [Deterministic UniqFM] in GHC.Types.Unique.DFM to learn about determinism.</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span id="local-6989586621682476263"><span id="local-6989586621682476264"><span class="annot"><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-type">emptyUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476263"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476264"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-116"></span><span id="emptyUFM"><span class="annot"><span class="annottext">emptyUFM :: forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var hs-var">emptyUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
forall a. Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span id="local-6989586621682476273"><span id="local-6989586621682476274"><span class="annot"><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-type">isNullUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476273"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476274"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-119"></span><span id="isNullUFM"><span class="annot"><span class="annottext">isNullUFM :: forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var hs-var">isNullUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477093"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477093"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; Bool
forall a. Word64Map a -&gt; Bool
</span><a href="GHC.Data.Word64Map.Internal.html#null"><span class="hs-identifier hs-var">M.null</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477093"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span id="local-6989586621682476279"><span id="local-6989586621682476281"><span class="annot"><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-type">unitUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476279"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476279"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476281"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476279"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476281"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-122"></span><span id="unitUFM"><span class="annot"><span class="annottext">unitUFM :: forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var hs-var">unitUFM</span></a></span></span><span> </span><span id="local-6989586621682477097"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477097"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477098"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477098"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; Word64Map elt
forall a. Key -&gt; a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#singleton"><span class="hs-identifier hs-var">M.singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477097"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477098"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- when you've got the Unique already</span><span>
</span><span id="line-125"></span><span id="local-6989586621682476293"><span id="local-6989586621682476294"><span class="annot"><a href="GHC.Types.Unique.FM.html#unitDirectlyUFM"><span class="hs-identifier hs-type">unitDirectlyUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476293"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476294"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476293"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-126"></span><span id="unitDirectlyUFM"><span class="annot"><span class="annottext">unitDirectlyUFM :: forall {k} elt (key :: k). Unique -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitDirectlyUFM"><span class="hs-identifier hs-var hs-var">unitDirectlyUFM</span></a></span></span><span> </span><span id="local-6989586621682477101"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477101"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682477102"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477102"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; Word64Map elt
forall a. Key -&gt; a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#singleton"><span class="hs-identifier hs-var">M.singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477101"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477102"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- zipToUFM ks vs = listToUFM (zip ks vs)</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- This function exists because it's a common case (#18535), and</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- it's inefficient to first build a list of pairs, and then immediately</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- take it apart. Astonishingly, fusing this one list away reduces total</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- compiler allocation by more than 10% (in T12545, see !3935)</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- Note that listToUFM (zip ks vs) performs similarly, but</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- the explicit recursion avoids relying too much on fusion.</span><span>
</span><span id="line-135"></span><span id="local-6989586621682476298"><span id="local-6989586621682476299"><span class="annot"><a href="GHC.Types.Unique.FM.html#zipToUFM"><span class="hs-identifier hs-type">zipToUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476298"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476298"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476299"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476298"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476299"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-136"></span><span id="zipToUFM"><span class="annot"><span class="annottext">zipToUFM :: forall key elt. Uniquable key =&gt; [key] -&gt; [elt] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#zipToUFM"><span class="hs-identifier hs-var hs-var">zipToUFM</span></a></span></span><span> </span><span id="local-6989586621682477112"><span class="annot"><span class="annottext">[key]
</span><a href="#local-6989586621682477112"><span class="hs-identifier hs-var">ks</span></a></span></span><span> </span><span id="local-6989586621682477113"><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477113"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; (UniqFM key elt -&gt; [key] -&gt; [elt] -&gt; UniqFM key elt)
-&gt; UniqFM key elt
-&gt; [key]
-&gt; [elt]
-&gt; UniqFM key elt
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[key] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[key]
</span><a href="#local-6989586621682477112"><span class="hs-identifier hs-var">ks</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[elt] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477113"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; [key] -&gt; [elt] -&gt; UniqFM key elt
forall {key} {elt}.
Uniquable key =&gt;
UniqFM key elt -&gt; [key] -&gt; [elt] -&gt; UniqFM key elt
</span><a href="#local-6989586621682477116"><span class="hs-identifier hs-var">innerZip</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span> </span><span class="annot"><span class="annottext">[key]
</span><a href="#local-6989586621682477112"><span class="hs-identifier hs-var">ks</span></a></span><span> </span><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477113"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621682477116"><span class="annot"><span class="annottext">innerZip :: UniqFM key elt -&gt; [key] -&gt; [elt] -&gt; UniqFM key elt
</span><a href="#local-6989586621682477116"><span class="hs-identifier hs-var hs-var">innerZip</span></a></span></span><span> </span><span id="local-6989586621682477119"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477119"><span class="hs-identifier hs-var">ufm</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477120"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477120"><span class="hs-identifier hs-var">k</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682477121"><span class="annot"><span class="annottext">[key]
</span><a href="#local-6989586621682477121"><span class="hs-identifier hs-var">kList</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477122"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477122"><span class="hs-identifier hs-var">v</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682477123"><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477123"><span class="hs-identifier hs-var">vList</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; [key] -&gt; [elt] -&gt; UniqFM key elt
</span><a href="#local-6989586621682477116"><span class="hs-identifier hs-var">innerZip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477119"><span class="hs-identifier hs-var">ufm</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477120"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477122"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[key]
</span><a href="#local-6989586621682477121"><span class="hs-identifier hs-var">kList</span></a></span><span> </span><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477123"><span class="hs-identifier hs-var">vList</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="#local-6989586621682477116"><span class="hs-identifier hs-var">innerZip</span></a></span><span> </span><span id="local-6989586621682477124"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477124"><span class="hs-identifier hs-var">ufm</span></a></span></span><span> </span><span class="annot"><span class="annottext">[key]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[elt]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477124"><span class="hs-identifier hs-var">ufm</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span id="local-6989586621682476310"><span id="local-6989586621682476311"><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-identifier hs-type">listToUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476310"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476310"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682476311"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476310"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476311"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-142"></span><span id="listToUFM"><span class="annot"><span class="annottext">listToUFM :: forall key elt. Uniquable key =&gt; [(key, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-identifier hs-var hs-var">listToUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (key, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477129"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477129"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477130"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477130"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477131"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477131"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477129"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477130"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477131"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-143"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM"><span class="hs-pragma hs-type">listToUFM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span id="local-6989586621682476317"><span id="local-6989586621682476318"><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_Directly"><span class="hs-identifier hs-type">listToUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682476317"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476318"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476317"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-146"></span><span id="listToUFM_Directly"><span class="annot"><span class="annottext">listToUFM_Directly :: forall {k} elt (key :: k). [(Unique, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#listToUFM_Directly"><span class="hs-identifier hs-var hs-var">listToUFM_Directly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (Unique, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(Unique, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477133"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477133"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477134"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477134"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477135"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477135"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; Unique -&gt; elt -&gt; UniqFM key elt
forall {k} (key :: k) elt.
UniqFM key elt -&gt; Unique -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_Directly"><span class="hs-identifier hs-var">addToUFM_Directly</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477133"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477134"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477135"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-147"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_Directly"><span class="hs-pragma hs-type">listToUFM_Directly</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span id="local-6989586621682476325"><span class="annot"><a href="GHC.Types.Unique.FM.html#listToIdentityUFM"><span class="hs-identifier hs-type">listToIdentityUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476325"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476325"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476325"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476325"><span class="hs-identifier hs-type">key</span></a></span></span><span>
</span><span id="line-150"></span><span id="listToIdentityUFM"><span class="annot"><span class="annottext">listToIdentityUFM :: forall key. Uniquable key =&gt; [key] -&gt; UniqFM key key
</span><a href="GHC.Types.Unique.FM.html#listToIdentityUFM"><span class="hs-identifier hs-var hs-var">listToIdentityUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key key -&gt; key -&gt; UniqFM key key)
-&gt; UniqFM key key -&gt; [key] -&gt; UniqFM key key
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477139"><span class="annot"><span class="annottext">UniqFM key key
</span><a href="#local-6989586621682477139"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621682477140"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477140"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM key key -&gt; key -&gt; key -&gt; UniqFM key key
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key key
</span><a href="#local-6989586621682477139"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477140"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477140"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key key
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span id="local-6989586621682476327"><span id="local-6989586621682476328"><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_C"><span class="hs-identifier hs-type">listToUFM_C</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476327"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476328"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476328"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476328"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476327"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682476328"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476327"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476328"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-157"></span><span id="listToUFM_C"><span class="annot"><span class="annottext">listToUFM_C :: forall key elt.
Uniquable key =&gt;
(elt -&gt; elt -&gt; elt) -&gt; [(key, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#listToUFM_C"><span class="hs-identifier hs-var hs-var">listToUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477144"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477144"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (key, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477145"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477145"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477146"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477146"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477147"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477147"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_C"><span class="hs-identifier hs-var">addToUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477144"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477145"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477146"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477147"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-158"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#listToUFM_C"><span class="hs-pragma hs-type">listToUFM_C</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span id="local-6989586621682476308"><span id="local-6989586621682476309"><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-type">addToUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476308"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476308"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476309"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476308"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476309"><span class="hs-identifier hs-type">elt</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476308"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476309"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-161"></span><span id="addToUFM"><span class="annot"><span class="annottext">addToUFM :: forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var hs-var">addToUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477150"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477150"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477151"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477151"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477152"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477152"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; Word64Map elt -&gt; Word64Map elt
forall a. Key -&gt; a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477151"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477152"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477150"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span id="local-6989586621682476336"><span id="local-6989586621682476337"><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM"><span class="hs-identifier hs-type">addListToUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476336"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476336"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476337"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476336"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682476337"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476336"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476337"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-164"></span><span id="addListToUFM"><span class="annot"><span class="annottext">addListToUFM :: forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addListToUFM"><span class="hs-identifier hs-var hs-var">addListToUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (key, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477157"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477157"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477158"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477158"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477159"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477159"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477157"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477158"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477159"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span id="local-6989586621682476341"><span id="local-6989586621682476342"><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM_Directly"><span class="hs-identifier hs-type">addListToUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476341"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476342"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682476342"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476341"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476342"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-167"></span><span id="addListToUFM_Directly"><span class="annot"><span class="annottext">addListToUFM_Directly :: forall {k} (key :: k) elt.
UniqFM key elt -&gt; [(Unique, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addListToUFM_Directly"><span class="hs-identifier hs-var hs-var">addListToUFM_Directly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (Unique, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(Unique, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477161"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477161"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477162"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477162"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477163"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477163"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; Unique -&gt; elt -&gt; UniqFM key elt
forall {k} (key :: k) elt.
UniqFM key elt -&gt; Unique -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_Directly"><span class="hs-identifier hs-var">addToUFM_Directly</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477161"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477162"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477163"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621682476323"><span id="local-6989586621682476324"><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_Directly"><span class="hs-identifier hs-type">addToUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476323"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476324"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476324"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476323"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476324"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-170"></span><span id="addToUFM_Directly"><span class="annot"><span class="annottext">addToUFM_Directly :: forall {k} (key :: k) elt.
UniqFM key elt -&gt; Unique -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_Directly"><span class="hs-identifier hs-var hs-var">addToUFM_Directly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477164"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477164"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477165"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477165"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682477166"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477166"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; Word64Map elt -&gt; Word64Map elt
forall a. Key -&gt; a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477165"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477166"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477164"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span id="local-6989586621682476331"><span id="local-6989586621682476332"><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_C"><span class="hs-identifier hs-type">addToUFM_C</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476331"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ old -&gt; new -&gt; result</span></span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476331"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ old</span></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476331"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ new</span></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476331"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476332"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>       </span><span class="hs-comment">-- ^ result</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- Arguments of combining function of M.insertWith and addToUFM_C are flipped.</span><span>
</span><span id="line-179"></span><span id="addToUFM_C"><span class="annot"><span class="annottext">addToUFM_C :: forall key elt.
Uniquable key =&gt;
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_C"><span class="hs-identifier hs-var hs-var">addToUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477169"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477169"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477170"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477170"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477171"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477171"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477172"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477172"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt) -&gt; Key -&gt; elt -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (a -&gt; a -&gt; a) -&gt; Key -&gt; a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt) -&gt; elt -&gt; elt -&gt; elt
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477169"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477171"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477172"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477170"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span id="local-6989586621682476356"><span id="local-6989586621682476357"><span id="local-6989586621682476358"><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_Acc"><span class="hs-identifier hs-type">addToUFM_Acc</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476356"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476357"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476358"><span class="hs-identifier hs-type">elts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476358"><span class="hs-identifier hs-type">elts</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Add to existing</span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476357"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476358"><span class="hs-identifier hs-type">elts</span></a></span><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- New element</span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476356"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476358"><span class="hs-identifier hs-type">elts</span></a></span><span>        </span><span class="hs-comment">-- old</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476356"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476357"><span class="hs-identifier hs-type">elt</span></a></span><span>             </span><span class="hs-comment">-- new</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476356"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476358"><span class="hs-identifier hs-type">elts</span></a></span></span></span></span><span>        </span><span class="hs-comment">-- result</span><span>
</span><span id="line-189"></span><span id="addToUFM_Acc"><span class="annot"><span class="annottext">addToUFM_Acc :: forall key elt elts.
Uniquable key =&gt;
(elt -&gt; elts -&gt; elts)
-&gt; (elt -&gt; elts)
-&gt; UniqFM key elts
-&gt; key
-&gt; elt
-&gt; UniqFM key elts
</span><a href="GHC.Types.Unique.FM.html#addToUFM_Acc"><span class="hs-identifier hs-var hs-var">addToUFM_Acc</span></a></span></span><span> </span><span id="local-6989586621682477177"><span class="annot"><span class="annottext">elt -&gt; elts -&gt; elts
</span><a href="#local-6989586621682477177"><span class="hs-identifier hs-var">exi</span></a></span></span><span> </span><span id="local-6989586621682477178"><span class="annot"><span class="annottext">elt -&gt; elts
</span><a href="#local-6989586621682477178"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477179"><span class="annot"><span class="annottext">Word64Map elts
</span><a href="#local-6989586621682477179"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477180"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477180"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477181"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477181"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><span class="annottext">Word64Map elts -&gt; UniqFM key elts
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elts -&gt; elts -&gt; elts)
-&gt; Key -&gt; elts -&gt; Word64Map elts -&gt; Word64Map elts
forall a. (a -&gt; a -&gt; a) -&gt; Key -&gt; a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477182"><span class="annot"><span class="annottext">elts
</span><a href="#local-6989586621682477182"><span class="hs-identifier hs-var">_new</span></a></span></span><span> </span><span id="local-6989586621682477183"><span class="annot"><span class="annottext">elts
</span><a href="#local-6989586621682477183"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elt -&gt; elts -&gt; elts
</span><a href="#local-6989586621682477177"><span class="hs-identifier hs-var">exi</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477181"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">elts
</span><a href="#local-6989586621682477183"><span class="hs-identifier hs-var">old</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477180"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">elt -&gt; elts
</span><a href="#local-6989586621682477178"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477181"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elts
</span><a href="#local-6989586621682477179"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | Add an element, returns previous lookup result and new map. If</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- old element doesn't exist, add the passed element directly,</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- otherwise compute the element to add using the passed function.</span><span>
</span><span id="line-195"></span><span id="local-6989586621682476362"><span id="local-6989586621682476363"><span class="annot"><a href="GHC.Types.Unique.FM.html#addToUFM_L"><span class="hs-identifier hs-type">addToUFM_L</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476362"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476362"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ key,old,new</span></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476362"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-comment">-- new</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476362"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476362"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476363"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ old, result</span></span><span>
</span><span id="line-202"></span><span id="addToUFM_L"><span class="annot"><span class="annottext">addToUFM_L :: forall key elt.
Uniquable key =&gt;
(key -&gt; elt -&gt; elt -&gt; elt)
-&gt; key -&gt; elt -&gt; UniqFM key elt -&gt; (Maybe elt, UniqFM key elt)
</span><a href="GHC.Types.Unique.FM.html#addToUFM_L"><span class="hs-identifier hs-var hs-var">addToUFM_L</span></a></span></span><span> </span><span id="local-6989586621682477187"><span class="annot"><span class="annottext">key -&gt; elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477187"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477188"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477188"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477189"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477189"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477190"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477190"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><span class="annottext">(Maybe elt, Word64Map elt) -&gt; (Maybe elt, UniqFM key elt)
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">((Maybe elt, Word64Map elt) -&gt; (Maybe elt, UniqFM key elt))
-&gt; (Maybe elt, Word64Map elt) -&gt; (Maybe elt, UniqFM key elt)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><span class="annottext">(Key -&gt; elt -&gt; elt -&gt; elt)
-&gt; Key -&gt; elt -&gt; Word64Map elt -&gt; (Maybe elt, Word64Map elt)
forall a.
(Key -&gt; a -&gt; a -&gt; a)
-&gt; Key -&gt; a -&gt; Word64Map a -&gt; (Maybe a, Word64Map a)
</span><a href="GHC.Data.Word64Map.Internal.html#insertLookupWithKey"><span class="hs-identifier hs-var">M.insertLookupWithKey</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682477192"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477192"><span class="hs-identifier hs-var">_n</span></a></span></span><span> </span><span id="local-6989586621682477193"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477193"><span class="hs-identifier hs-var">_o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">key -&gt; elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477187"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477188"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477193"><span class="hs-identifier hs-var">_o</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477192"><span class="hs-identifier hs-var">_n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477188"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477189"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477190"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span id="local-6989586621682476367"><span id="local-6989586621682476368"><span class="annot"><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier hs-type">alterUFM</span></a></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476367"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476368"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476368"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ How to adjust</span></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476367"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476368"><span class="hs-identifier hs-type">elt</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ old</span></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476367"><span class="hs-identifier hs-type">key</span></a></span><span>                       </span><span class="annot"><span class="hs-comment">-- ^ new</span></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476367"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476368"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ result</span></span><span>
</span><span id="line-216"></span><span id="alterUFM"><span class="annot"><span class="annottext">alterUFM :: forall key elt.
Uniquable key =&gt;
(Maybe elt -&gt; Maybe elt) -&gt; UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier hs-var hs-var">alterUFM</span></a></span></span><span> </span><span id="local-6989586621682477196"><span class="annot"><span class="annottext">Maybe elt -&gt; Maybe elt
</span><a href="#local-6989586621682477196"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477197"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477197"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477198"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477198"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe elt -&gt; Maybe elt) -&gt; Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (Maybe a -&gt; Maybe a) -&gt; Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#alter"><span class="hs-identifier hs-var">M.alter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elt -&gt; Maybe elt
</span><a href="#local-6989586621682477196"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477198"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477197"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span id="local-6989586621682476373"><span id="local-6989586621682476374"><span class="annot"><a href="GHC.Types.Unique.FM.html#alterUFM_Directly"><span class="hs-identifier hs-type">alterUFM_Directly</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476373"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476373"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ How to adjust</span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476374"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476373"><span class="hs-identifier hs-type">elt</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ old</span></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span>                    </span><span class="annot"><span class="hs-comment">-- ^ new</span></span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476374"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476373"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ result</span></span><span>
</span><span id="line-223"></span><span id="alterUFM_Directly"><span class="annot"><span class="annottext">alterUFM_Directly :: forall {k} elt (key :: k).
(Maybe elt -&gt; Maybe elt)
-&gt; UniqFM key elt -&gt; Unique -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#alterUFM_Directly"><span class="hs-identifier hs-var hs-var">alterUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477200"><span class="annot"><span class="annottext">Maybe elt -&gt; Maybe elt
</span><a href="#local-6989586621682477200"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477201"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477201"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477202"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477202"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe elt -&gt; Maybe elt) -&gt; Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (Maybe a -&gt; Maybe a) -&gt; Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#alter"><span class="hs-identifier hs-var">M.alter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elt -&gt; Maybe elt
</span><a href="#local-6989586621682477200"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477202"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477201"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">-- | Add elements to the map, combining existing values with inserted ones using</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- the given function.</span><span>
</span><span id="line-227"></span><span id="local-6989586621682476378"><span id="local-6989586621682476379"><span class="annot"><a href="GHC.Types.Unique.FM.html#addListToUFM_C"><span class="hs-identifier hs-type">addListToUFM_C</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476378"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476378"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476378"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476378"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476379"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-232"></span><span id="addListToUFM_C"><span class="annot"><span class="annottext">addListToUFM_C :: forall key elt.
Uniquable key =&gt;
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addListToUFM_C"><span class="hs-identifier hs-var hs-var">addListToUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477206"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477206"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; (key, elt) -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [(key, elt)] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477207"><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477207"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477208"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477208"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477209"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477209"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM_C"><span class="hs-identifier hs-var">addToUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477206"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
</span><a href="#local-6989586621682477207"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477208"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477209"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span id="local-6989586621682476382"><span id="local-6989586621682476383"><span class="annot"><a href="GHC.Types.Unique.FM.html#adjustUFM"><span class="hs-identifier hs-type">adjustUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476382"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476383"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476383"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476382"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476383"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476382"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476382"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476383"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-235"></span><span id="adjustUFM"><span class="annot"><span class="annottext">adjustUFM :: forall key elt.
Uniquable key =&gt;
(elt -&gt; elt) -&gt; UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#adjustUFM"><span class="hs-identifier hs-var hs-var">adjustUFM</span></a></span></span><span> </span><span id="local-6989586621682477212"><span class="annot"><span class="annottext">elt -&gt; elt
</span><a href="#local-6989586621682477212"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477213"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477213"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477214"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477214"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; elt) -&gt; Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (a -&gt; a) -&gt; Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#adjust"><span class="hs-identifier hs-var">M.adjust</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt
</span><a href="#local-6989586621682477212"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477214"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477213"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span id="local-6989586621682476388"><span id="local-6989586621682476389"><span class="annot"><a href="GHC.Types.Unique.FM.html#adjustUFM_Directly"><span class="hs-identifier hs-type">adjustUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476388"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476388"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476389"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476388"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476389"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476388"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-238"></span><span id="adjustUFM_Directly"><span class="annot"><span class="annottext">adjustUFM_Directly :: forall {k} elt (key :: k).
(elt -&gt; elt) -&gt; UniqFM key elt -&gt; Unique -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#adjustUFM_Directly"><span class="hs-identifier hs-var hs-var">adjustUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477216"><span class="annot"><span class="annottext">elt -&gt; elt
</span><a href="#local-6989586621682477216"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477217"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477217"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477218"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477218"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; elt) -&gt; Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (a -&gt; a) -&gt; Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#adjust"><span class="hs-identifier hs-var">M.adjust</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt
</span><a href="#local-6989586621682477216"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477218"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477217"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span id="local-6989586621682476393"><span id="local-6989586621682476394"><span class="annot"><a href="GHC.Types.Unique.FM.html#delFromUFM"><span class="hs-identifier hs-type">delFromUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476393"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476393"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476394"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476393"><span class="hs-identifier hs-type">key</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476393"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476394"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-241"></span><span id="delFromUFM"><span class="annot"><span class="annottext">delFromUFM :: forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delFromUFM"><span class="hs-identifier hs-var hs-var">delFromUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477221"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477221"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477222"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477222"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#delete"><span class="hs-identifier hs-var">M.delete</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477222"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477221"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span id="local-6989586621682476398"><span id="local-6989586621682476399"><span class="annot"><a href="GHC.Types.Unique.FM.html#delListFromUFM"><span class="hs-identifier hs-type">delListFromUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476398"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476398"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476399"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476398"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476398"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476399"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-244"></span><span id="delListFromUFM"><span class="annot"><span class="annottext">delListFromUFM :: forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; [key] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delListFromUFM"><span class="hs-identifier hs-var hs-var">delListFromUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; key -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [key] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; key -&gt; UniqFM key elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delFromUFM"><span class="hs-identifier hs-var">delFromUFM</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span id="local-6989586621682476403"><span id="local-6989586621682476404"><span class="annot"><a href="GHC.Types.Unique.FM.html#delListFromUFM_Directly"><span class="hs-identifier hs-type">delListFromUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476403"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476404"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476403"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476404"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-247"></span><span id="delListFromUFM_Directly"><span class="annot"><span class="annottext">delListFromUFM_Directly :: forall {k} (key :: k) elt.
UniqFM key elt -&gt; [Unique] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delListFromUFM_Directly"><span class="hs-identifier hs-var hs-var">delListFromUFM_Directly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; Unique -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [Unique] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; Unique -&gt; UniqFM key elt
forall {k} (key :: k) elt.
UniqFM key elt -&gt; Unique -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delFromUFM_Directly"><span class="hs-identifier hs-var">delFromUFM_Directly</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span id="local-6989586621682476409"><span id="local-6989586621682476410"><span class="annot"><a href="GHC.Types.Unique.FM.html#delFromUFM_Directly"><span class="hs-identifier hs-type">delFromUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476409"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476410"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476409"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476410"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-250"></span><span id="delFromUFM_Directly"><span class="annot"><span class="annottext">delFromUFM_Directly :: forall {k} (key :: k) elt.
UniqFM key elt -&gt; Unique -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delFromUFM_Directly"><span class="hs-identifier hs-var hs-var">delFromUFM_Directly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477228"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477228"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477229"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477229"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Word64Map elt
forall a. Key -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#delete"><span class="hs-identifier hs-var">M.delete</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477229"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477228"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">-- Bindings in right argument shadow those in the left</span><span>
</span><span id="line-253"></span><span id="local-6989586621682476415"><span id="local-6989586621682476416"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-type">plusUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476415"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476416"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476415"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476416"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476415"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476416"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- M.union is left-biased, plusUFM should be right-biased.</span><span>
</span><span id="line-255"></span><span id="plusUFM"><span class="annot"><span class="annottext">plusUFM :: forall {k} (key :: k) elt.
UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-var hs-var">plusUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477230"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477230"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477231"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477231"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64Map elt -&gt; Word64Map elt -&gt; Word64Map elt
forall a. Word64Map a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#union"><span class="hs-identifier hs-var">M.union</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477231"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477230"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>     </span><span class="hs-comment">-- Note (M.union y x), with arguments flipped</span><span>
</span><span id="line-257"></span><span>     </span><span class="hs-comment">-- M.union is left-biased, plusUFM should be right-biased.</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span id="local-6989586621682476422"><span id="local-6989586621682476423"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_C"><span class="hs-identifier hs-type">plusUFM_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476423"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476423"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476423"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476422"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-260"></span><span id="plusUFM_C"><span class="annot"><span class="annottext">plusUFM_C :: forall {k} elt (key :: k).
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM_C"><span class="hs-identifier hs-var hs-var">plusUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477233"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477233"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477234"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477234"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477235"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477235"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt)
-&gt; Word64Map elt -&gt; Word64Map elt -&gt; Word64Map elt
forall a.
(a -&gt; a -&gt; a) -&gt; Word64Map a -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#unionWith"><span class="hs-identifier hs-var">M.unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477234"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477235"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- | `plusUFM_CD f m1 d1 m2 d2` merges the maps using `f` as the</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- combinding function and `d1` resp. `d2` as the default value if</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- there is no entry in `m1` reps. `m2`. The domain is the union of</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- the domains of `m1` and `m2`.</span><span>
</span><span id="line-266"></span><span class="hs-comment">--</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- IMPORTANT NOTE: This function strictly applies the modification function</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- and forces the result unlike most the other functions in this module.</span><span>
</span><span id="line-269"></span><span class="hs-comment">--</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- Representative example:</span><span>
</span><span id="line-271"></span><span class="hs-comment">--</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- plusUFM_CD f {A: 1, B: 2} 23 {B: 3, C: 4} 42</span><span>
</span><span id="line-274"></span><span class="hs-comment">--    == {A: f 1 42, B: f 2 3, C: f 23 4 }</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-276"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_CD"><span class="hs-pragma hs-type">plusUFM_CD</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-277"></span><span id="local-6989586621682476429"><span id="local-6989586621682476430"><span id="local-6989586621682476431"><span id="local-6989586621682476432"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_CD"><span class="hs-identifier hs-type">plusUFM_CD</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476429"><span class="hs-identifier hs-type">elta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476430"><span class="hs-identifier hs-type">eltb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476431"><span class="hs-identifier hs-type">eltc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476432"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476429"><span class="hs-identifier hs-type">elta</span></a></span><span>  </span><span class="hs-comment">-- map X</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476429"><span class="hs-identifier hs-type">elta</span></a></span><span>         </span><span class="hs-comment">-- default for X</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476432"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476430"><span class="hs-identifier hs-type">eltb</span></a></span><span>  </span><span class="hs-comment">-- map Y</span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476430"><span class="hs-identifier hs-type">eltb</span></a></span><span>         </span><span class="hs-comment">-- default for Y</span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476432"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476431"><span class="hs-identifier hs-type">eltc</span></a></span></span></span></span></span><span>
</span><span id="line-284"></span><span id="plusUFM_CD"><span class="annot"><span class="annottext">plusUFM_CD :: forall {k} elta eltb eltc (key :: k).
(elta -&gt; eltb -&gt; eltc)
-&gt; UniqFM key elta
-&gt; elta
-&gt; UniqFM key eltb
-&gt; eltb
-&gt; UniqFM key eltc
</span><a href="GHC.Types.Unique.FM.html#plusUFM_CD"><span class="hs-identifier hs-var hs-var">plusUFM_CD</span></a></span></span><span> </span><span id="local-6989586621682477237"><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; eltc
</span><a href="#local-6989586621682477237"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477238"><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477238"><span class="hs-identifier hs-var">xm</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477239"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477239"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477240"><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477240"><span class="hs-identifier hs-var">ym</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477241"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477241"><span class="hs-identifier hs-var">dy</span></a></span></span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map eltc -&gt; UniqFM key eltc
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map eltc -&gt; UniqFM key eltc)
-&gt; Word64Map eltc -&gt; UniqFM key eltc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elta -&gt; eltb -&gt; Maybe eltc)
-&gt; (Word64Map elta -&gt; Word64Map eltc)
-&gt; (Word64Map eltb -&gt; Word64Map eltc)
-&gt; Word64Map elta
-&gt; Word64Map eltb
-&gt; Word64Map eltc
forall a b c.
(Key -&gt; a -&gt; b -&gt; Maybe c)
-&gt; (Word64Map a -&gt; Word64Map c)
-&gt; (Word64Map b -&gt; Word64Map c)
-&gt; Word64Map a
-&gt; Word64Map b
-&gt; Word64Map c
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#mergeWithKey"><span class="hs-identifier hs-var">MS.mergeWithKey</span></a></span><span>
</span><span id="line-286"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682477243"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477243"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477244"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477244"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">eltc -&gt; Maybe eltc
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477243"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; eltc
</span><a href="#local-6989586621682477237"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477244"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elta -&gt; eltc) -&gt; Word64Map elta -&gt; Word64Map eltc
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">MS.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477246"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477246"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477246"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; eltc
</span><a href="#local-6989586621682477237"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477241"><span class="hs-identifier hs-var">dy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(eltb -&gt; eltc) -&gt; Word64Map eltb -&gt; Word64Map eltc
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">MS.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477247"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477247"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477239"><span class="hs-identifier hs-var">dx</span></a></span><span> </span><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; eltc
</span><a href="#local-6989586621682477237"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477247"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>      </span><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477238"><span class="hs-identifier hs-var">xm</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477240"><span class="hs-identifier hs-var">ym</span></a></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-comment">-- | `plusUFM_CD2 f m1 m2` merges the maps using `f` as the combining</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- function. Unlike `plusUFM_CD`, a missing value is not defaulted: it is</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- instead passed as `Nothing` to `f`. `f` can never have both its arguments</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- be `Nothing`.</span><span>
</span><span id="line-295"></span><span class="hs-comment">--</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- IMPORTANT NOTE: This function strictly applies the modification function</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- and forces the result.</span><span>
</span><span id="line-298"></span><span class="hs-comment">--</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- `plusUFM_CD2 f m1 m2` is the same as `plusUFM_CD f (mapUFM Just m1) Nothing</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- (mapUFM Just m2) Nothing`.</span><span>
</span><span id="line-301"></span><span id="local-6989586621682476444"><span id="local-6989586621682476445"><span id="local-6989586621682476446"><span id="local-6989586621682476447"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFM_CD2"><span class="hs-identifier hs-type">plusUFM_CD2</span></a></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476444"><span class="hs-identifier hs-type">elta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476445"><span class="hs-identifier hs-type">eltb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476446"><span class="hs-identifier hs-type">eltc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476447"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476444"><span class="hs-identifier hs-type">elta</span></a></span><span>  </span><span class="hs-comment">-- map X</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476447"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476445"><span class="hs-identifier hs-type">eltb</span></a></span><span>  </span><span class="hs-comment">-- map Y</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476447"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476446"><span class="hs-identifier hs-type">eltc</span></a></span></span></span></span></span><span>
</span><span id="line-306"></span><span id="plusUFM_CD2"><span class="annot"><span class="annottext">plusUFM_CD2 :: forall {k} elta eltb eltc (key :: k).
(Maybe elta -&gt; Maybe eltb -&gt; eltc)
-&gt; UniqFM key elta -&gt; UniqFM key eltb -&gt; UniqFM key eltc
</span><a href="GHC.Types.Unique.FM.html#plusUFM_CD2"><span class="hs-identifier hs-var hs-var">plusUFM_CD2</span></a></span></span><span> </span><span id="local-6989586621682477248"><span class="annot"><span class="annottext">Maybe elta -&gt; Maybe eltb -&gt; eltc
</span><a href="#local-6989586621682477248"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477249"><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477249"><span class="hs-identifier hs-var">xm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477250"><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477250"><span class="hs-identifier hs-var">ym</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map eltc -&gt; UniqFM key eltc
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map eltc -&gt; UniqFM key eltc)
-&gt; Word64Map eltc -&gt; UniqFM key eltc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elta -&gt; eltb -&gt; Maybe eltc)
-&gt; (Word64Map elta -&gt; Word64Map eltc)
-&gt; (Word64Map eltb -&gt; Word64Map eltc)
-&gt; Word64Map elta
-&gt; Word64Map eltb
-&gt; Word64Map eltc
forall a b c.
(Key -&gt; a -&gt; b -&gt; Maybe c)
-&gt; (Word64Map a -&gt; Word64Map c)
-&gt; (Word64Map b -&gt; Word64Map c)
-&gt; Word64Map a
-&gt; Word64Map b
-&gt; Word64Map c
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#mergeWithKey"><span class="hs-identifier hs-var">MS.mergeWithKey</span></a></span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682477251"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477251"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477252"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477252"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">eltc -&gt; Maybe eltc
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">elta -&gt; Maybe elta
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477251"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elta -&gt; Maybe eltb -&gt; eltc
</span><a href="#local-6989586621682477248"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb -&gt; Maybe eltb
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477252"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elta -&gt; eltc) -&gt; Word64Map elta -&gt; Word64Map eltc
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">MS.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477253"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477253"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elta -&gt; Maybe elta
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477253"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elta -&gt; Maybe eltb -&gt; eltc
</span><a href="#local-6989586621682477248"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe eltb
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(eltb -&gt; eltc) -&gt; Word64Map eltb -&gt; Word64Map eltc
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">MS.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477254"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477254"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe elta
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe elta -&gt; Maybe eltb -&gt; eltc
</span><a href="#local-6989586621682477248"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb -&gt; Maybe eltb
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477254"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>      </span><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477249"><span class="hs-identifier hs-var">xm</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477250"><span class="hs-identifier hs-var">ym</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span id="local-6989586621682476454"><span id="local-6989586621682476455"><span id="local-6989586621682476456"><span id="local-6989586621682476457"><span class="annot"><a href="GHC.Types.Unique.FM.html#mergeUFM"><span class="hs-identifier hs-type">mergeUFM</span></a></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476454"><span class="hs-identifier hs-type">elta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476455"><span class="hs-identifier hs-type">eltb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476456"><span class="hs-identifier hs-type">eltc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476454"><span class="hs-identifier hs-type">elta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476456"><span class="hs-identifier hs-type">eltc</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- map X</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476455"><span class="hs-identifier hs-type">eltb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476456"><span class="hs-identifier hs-type">eltc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- map Y</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476454"><span class="hs-identifier hs-type">elta</span></a></span><span>
</span><span id="line-318"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476455"><span class="hs-identifier hs-type">eltb</span></a></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476457"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476456"><span class="hs-identifier hs-type">eltc</span></a></span></span></span></span></span><span>
</span><span id="line-320"></span><span id="mergeUFM"><span class="annot"><span class="annottext">mergeUFM :: forall {k} elta eltb eltc (key :: k).
(elta -&gt; eltb -&gt; Maybe eltc)
-&gt; (UniqFM key elta -&gt; UniqFM key eltc)
-&gt; (UniqFM key eltb -&gt; UniqFM key eltc)
-&gt; UniqFM key elta
-&gt; UniqFM key eltb
-&gt; UniqFM key eltc
</span><a href="GHC.Types.Unique.FM.html#mergeUFM"><span class="hs-identifier hs-var hs-var">mergeUFM</span></a></span></span><span> </span><span id="local-6989586621682477257"><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; Maybe eltc
</span><a href="#local-6989586621682477257"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477258"><span class="annot"><span class="annottext">UniqFM key elta -&gt; UniqFM key eltc
</span><a href="#local-6989586621682477258"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621682477259"><span class="annot"><span class="annottext">UniqFM key eltb -&gt; UniqFM key eltc
</span><a href="#local-6989586621682477259"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477260"><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477260"><span class="hs-identifier hs-var">xm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477261"><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477261"><span class="hs-identifier hs-var">ym</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map eltc -&gt; UniqFM key eltc
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map eltc -&gt; UniqFM key eltc)
-&gt; Word64Map eltc -&gt; UniqFM key eltc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elta -&gt; eltb -&gt; Maybe eltc)
-&gt; (Word64Map elta -&gt; Word64Map eltc)
-&gt; (Word64Map eltb -&gt; Word64Map eltc)
-&gt; Word64Map elta
-&gt; Word64Map eltb
-&gt; Word64Map eltc
forall a b c.
(Key -&gt; a -&gt; b -&gt; Maybe c)
-&gt; (Word64Map a -&gt; Word64Map c)
-&gt; (Word64Map b -&gt; Word64Map c)
-&gt; Word64Map a
-&gt; Word64Map b
-&gt; Word64Map c
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#mergeWithKey"><span class="hs-identifier hs-var">MS.mergeWithKey</span></a></span><span>
</span><span id="line-322"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682477262"><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477262"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477263"><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477263"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">elta
</span><a href="#local-6989586621682477262"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">elta -&gt; eltb -&gt; Maybe eltc
</span><a href="#local-6989586621682477257"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">eltb
</span><a href="#local-6989586621682477263"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UniqFM key elta -&gt; UniqFM key eltc)
-&gt; Word64Map elta -&gt; Word64Map eltc
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key elta -&gt; UniqFM key eltc
</span><a href="#local-6989586621682477258"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UniqFM key eltb -&gt; UniqFM key eltc)
-&gt; Word64Map eltb -&gt; Word64Map eltc
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key eltb -&gt; UniqFM key eltc
</span><a href="#local-6989586621682477259"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><span class="annottext">Word64Map elta
</span><a href="#local-6989586621682477260"><span class="hs-identifier hs-var">xm</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map eltb
</span><a href="#local-6989586621682477261"><span class="hs-identifier hs-var">ym</span></a></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span id="local-6989586621682476464"><span id="local-6989586621682476465"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusMaybeUFM_C"><span class="hs-identifier hs-type">plusMaybeUFM_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476465"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476465"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476465"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476464"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-329"></span><span id="plusMaybeUFM_C"><span class="annot"><span class="annottext">plusMaybeUFM_C :: forall {k} elt (key :: k).
(elt -&gt; elt -&gt; Maybe elt)
-&gt; UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusMaybeUFM_C"><span class="hs-identifier hs-var hs-var">plusMaybeUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477264"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; Maybe elt
</span><a href="#local-6989586621682477264"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477265"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477265"><span class="hs-identifier hs-var">xm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477266"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477266"><span class="hs-identifier hs-var">ym</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map elt -&gt; UniqFM key elt)
-&gt; Word64Map elt -&gt; UniqFM key elt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elt -&gt; elt -&gt; Maybe elt)
-&gt; (Word64Map elt -&gt; Word64Map elt)
-&gt; (Word64Map elt -&gt; Word64Map elt)
-&gt; Word64Map elt
-&gt; Word64Map elt
-&gt; Word64Map elt
forall a b c.
(Key -&gt; a -&gt; b -&gt; Maybe c)
-&gt; (Word64Map a -&gt; Word64Map c)
-&gt; (Word64Map b -&gt; Word64Map c)
-&gt; Word64Map a
-&gt; Word64Map b
-&gt; Word64Map c
</span><a href="GHC.Data.Word64Map.Internal.html#mergeWithKey"><span class="hs-identifier hs-var">M.mergeWithKey</span></a></span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682477268"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477268"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477269"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477269"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477268"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; Maybe elt
</span><a href="#local-6989586621682477264"><span class="hs-operator hs-var">`f`</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477269"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">Word64Map elt -&gt; Word64Map elt
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-333"></span><span>        </span><span class="annot"><span class="annottext">Word64Map elt -&gt; Word64Map elt
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477265"><span class="hs-identifier hs-var">xm</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477266"><span class="hs-identifier hs-var">ym</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span id="local-6989586621682476471"><span id="local-6989586621682476472"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFMList"><span class="hs-identifier hs-type">plusUFMList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476471"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476472"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476471"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476472"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-337"></span><span id="plusUFMList"><span class="annot"><span class="annottext">plusUFMList :: forall {k} (key :: k) elt. [UniqFM key elt] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFMList"><span class="hs-identifier hs-var hs-var">plusUFMList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt)
-&gt; UniqFM key elt -&gt; [UniqFM key elt] -&gt; UniqFM key elt
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
forall {k} (key :: k) elt.
UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-var">plusUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span id="local-6989586621682476477"><span id="local-6989586621682476478"><span class="annot"><a href="GHC.Types.Unique.FM.html#plusUFMListWith"><span class="hs-identifier hs-type">plusUFMListWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476477"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476477"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476477"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476478"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476477"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476478"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476477"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-340"></span><span id="plusUFMListWith"><span class="annot"><span class="annottext">plusUFMListWith :: forall {k} elt (key :: k).
(elt -&gt; elt -&gt; elt) -&gt; [UniqFM key elt] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFMListWith"><span class="hs-identifier hs-var hs-var">plusUFMListWith</span></a></span></span><span> </span><span id="local-6989586621682477273"><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477273"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477274"><span class="annot"><span class="annottext">[UniqFM key elt]
</span><a href="#local-6989586621682477274"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} elt (key :: k). Word64Map elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unsafeIntMapToUFM"><span class="hs-identifier hs-var">unsafeIntMapToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map elt -&gt; UniqFM key elt)
-&gt; Word64Map elt -&gt; UniqFM key elt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(elt -&gt; elt -&gt; elt) -&gt; [Word64Map elt] -&gt; Word64Map elt
forall (f :: * -&gt; *) a.
Foldable f =&gt;
(a -&gt; a -&gt; a) -&gt; f (Word64Map a) -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#unionsWith"><span class="hs-identifier hs-var">M.unionsWith</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; elt -&gt; elt
</span><a href="#local-6989586621682477273"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; Word64Map elt)
-&gt; [UniqFM key elt] -&gt; [Word64Map elt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">UniqFM key elt -&gt; Word64Map elt
forall {k} (key :: k) elt. UniqFM key elt -&gt; Word64Map elt
</span><a href="GHC.Types.Unique.FM.html#ufmToIntMap"><span class="hs-identifier hs-var">ufmToIntMap</span></a></span><span> </span><span class="annot"><span class="annottext">[UniqFM key elt]
</span><a href="#local-6989586621682477274"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="annot"><a href="GHC.Types.Unique.FM.html#sequenceUFMList"><span class="hs-identifier hs-type">sequenceUFMList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682476493"><span class="annot"><a href="#local-6989586621682476493"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span id="local-6989586621682476494"><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476493"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476493"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-343"></span><span id="sequenceUFMList"><span class="annot"><span class="annottext">sequenceUFMList :: forall {k} (key :: k) elt. [UniqFM key elt] -&gt; UniqFM key [elt]
</span><a href="GHC.Types.Unique.FM.html#sequenceUFMList"><span class="hs-identifier hs-var hs-var">sequenceUFMList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM key elt -&gt; UniqFM key [elt] -&gt; UniqFM key [elt])
-&gt; UniqFM key [elt] -&gt; [UniqFM key elt] -&gt; UniqFM key [elt]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe elt -&gt; Maybe [elt] -&gt; [elt])
-&gt; UniqFM key elt -&gt; UniqFM key [elt] -&gt; UniqFM key [elt]
forall {k} elta eltb eltc (key :: k).
(Maybe elta -&gt; Maybe eltb -&gt; eltc)
-&gt; UniqFM key elta -&gt; UniqFM key eltb -&gt; UniqFM key eltc
</span><a href="GHC.Types.Unique.FM.html#plusUFM_CD2"><span class="hs-identifier hs-var">plusUFM_CD2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elt -&gt; Maybe [elt] -&gt; [elt]
</span><a href="#local-6989586621682477278"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM key [elt]
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><a href="#local-6989586621682477278"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476494"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-346"></span><span>    </span><span id="local-6989586621682477278"><span class="annot"><span class="annottext">cons :: Maybe elt -&gt; Maybe [elt] -&gt; [elt]
</span><a href="#local-6989586621682477278"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682477279"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477279"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682477280"><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477280"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477279"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; [elt] -&gt; [elt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477280"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-347"></span><span>    </span><span class="annot"><a href="#local-6989586621682477278"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elt
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682477281"><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477281"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[elt]
</span><a href="#local-6989586621682477281"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><a href="#local-6989586621682477278"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682477282"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477282"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [elt]
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477282"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><a href="#local-6989586621682477278"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe elt
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="annot"><span class="annottext">Maybe [elt]
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span id="local-6989586621682476501"><span id="local-6989586621682476502"><span id="local-6989586621682476503"><span class="annot"><a href="GHC.Types.Unique.FM.html#minusUFM"><span class="hs-identifier hs-type">minusUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476501"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476502"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476501"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476503"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476501"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476502"><span class="hs-identifier hs-type">elt1</span></a></span></span></span></span><span>
</span><span id="line-352"></span><span id="minusUFM"><span class="annot"><span class="annottext">minusUFM :: forall {k} (key :: k) elt1 elt2.
UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#minusUFM"><span class="hs-identifier hs-var hs-var">minusUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477283"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477283"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477284"><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477284"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; UniqFM key elt1
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; Word64Map elt2 -&gt; Word64Map elt1
forall a b. Word64Map a -&gt; Word64Map b -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#difference"><span class="hs-identifier hs-var">M.difference</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477283"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477284"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-comment">-- | @minusUFC_C f map1 map2@ returns @map1@, except that every mapping @key</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- |-&gt; value1@ in @map1@ that shares a key with a mapping @key |-&gt; value2@ in</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- @map2@ is altered by @f@: @value1@ is replaced by @f value1 value2@, where</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- 'Just' means that the new value is used and 'Nothing' means that the mapping</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- is deleted.</span><span>
</span><span id="line-359"></span><span id="local-6989586621682476511"><span id="local-6989586621682476512"><span id="local-6989586621682476513"><span class="annot"><a href="GHC.Types.Unique.FM.html#minusUFM_C"><span class="hs-identifier hs-type">minusUFM_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476511"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476512"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476511"><span class="hs-identifier hs-type">elt1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476513"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476511"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476513"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476512"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476513"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476511"><span class="hs-identifier hs-type">elt1</span></a></span></span></span></span><span>
</span><span id="line-360"></span><span id="minusUFM_C"><span class="annot"><span class="annottext">minusUFM_C :: forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2 -&gt; Maybe elt1)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#minusUFM_C"><span class="hs-identifier hs-var hs-var">minusUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477286"><span class="annot"><span class="annottext">elt1 -&gt; elt2 -&gt; Maybe elt1
</span><a href="#local-6989586621682477286"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477287"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477287"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477288"><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477288"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; UniqFM key elt1
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt1 -&gt; elt2 -&gt; Maybe elt1)
-&gt; Word64Map elt1 -&gt; Word64Map elt2 -&gt; Word64Map elt1
forall a b.
(a -&gt; b -&gt; Maybe a) -&gt; Word64Map a -&gt; Word64Map b -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#differenceWith"><span class="hs-identifier hs-var">M.differenceWith</span></a></span><span> </span><span class="annot"><span class="annottext">elt1 -&gt; elt2 -&gt; Maybe elt1
</span><a href="#local-6989586621682477286"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477287"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477288"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span id="local-6989586621682477290"><span id="local-6989586621682477291"><span id="local-6989586621682477292"><span class="annot"><a href="GHC.Types.Unique.FM.html#intersectUFM"><span class="hs-identifier hs-type">intersectUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477290"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477291"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477290"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477292"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477290"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477291"><span class="hs-identifier hs-type">elt1</span></a></span></span></span></span><span>
</span><span id="line-363"></span><span id="intersectUFM"><span class="annot"><span class="annottext">intersectUFM :: forall {k} (key :: k) elt1 elt2.
UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#intersectUFM"><span class="hs-identifier hs-var hs-var">intersectUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477293"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477293"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477294"><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477294"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; UniqFM key elt1
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; Word64Map elt2 -&gt; Word64Map elt1
forall a b. Word64Map a -&gt; Word64Map b -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#intersection"><span class="hs-identifier hs-var">M.intersection</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477293"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477294"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span id="local-6989586621682476525"><span id="local-6989586621682476526"><span id="local-6989586621682476527"><span id="local-6989586621682476528"><span class="annot"><a href="GHC.Types.Unique.FM.html#intersectUFM_C"><span class="hs-identifier hs-type">intersectUFM_C</span></a></span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476525"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476526"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476527"><span class="hs-identifier hs-type">elt3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476528"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476525"><span class="hs-identifier hs-type">elt1</span></a></span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476528"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476526"><span class="hs-identifier hs-type">elt2</span></a></span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476528"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476527"><span class="hs-identifier hs-type">elt3</span></a></span></span></span></span></span><span>
</span><span id="line-370"></span><span id="intersectUFM_C"><span class="annot"><span class="annottext">intersectUFM_C :: forall {k} elt1 elt2 elt3 (key :: k).
(elt1 -&gt; elt2 -&gt; elt3)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt3
</span><a href="GHC.Types.Unique.FM.html#intersectUFM_C"><span class="hs-identifier hs-var hs-var">intersectUFM_C</span></a></span></span><span> </span><span id="local-6989586621682477296"><span class="annot"><span class="annottext">elt1 -&gt; elt2 -&gt; elt3
</span><a href="#local-6989586621682477296"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477297"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477297"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477298"><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477298"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt3 -&gt; UniqFM key elt3
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt1 -&gt; elt2 -&gt; elt3)
-&gt; Word64Map elt1 -&gt; Word64Map elt2 -&gt; Word64Map elt3
forall a b c.
(a -&gt; b -&gt; c) -&gt; Word64Map a -&gt; Word64Map b -&gt; Word64Map c
</span><a href="GHC.Data.Word64Map.Internal.html#intersectionWith"><span class="hs-identifier hs-var">M.intersectionWith</span></a></span><span> </span><span class="annot"><span class="annottext">elt1 -&gt; elt2 -&gt; elt3
</span><a href="#local-6989586621682477296"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477297"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477298"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621682476538"><span id="local-6989586621682476539"><span id="local-6989586621682476540"><span class="annot"><a href="GHC.Types.Unique.FM.html#disjointUFM"><span class="hs-identifier hs-type">disjointUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476538"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476539"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476538"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476540"><span class="hs-identifier hs-type">elt2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-373"></span><span id="disjointUFM"><span class="annot"><span class="annottext">disjointUFM :: forall {k} (key :: k) elt1 elt2.
UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#disjointUFM"><span class="hs-identifier hs-var hs-var">disjointUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477300"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477300"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477301"><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477301"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1 -&gt; Word64Map elt2 -&gt; Bool
forall a b. Word64Map a -&gt; Word64Map b -&gt; Bool
</span><a href="GHC.Data.Word64Map.Internal.html#disjoint"><span class="hs-identifier hs-var">M.disjoint</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477300"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt2
</span><a href="#local-6989586621682477301"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">-- | Fold over a 'UniqFM'.</span><span>
</span><span id="line-376"></span><span class="hs-comment">--</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- Non-deterministic, unless the folding function is commutative</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- (i.e. @a1 `f` ( a2 `f` b ) == a2 `f` ( a1 `f` b )@ for all @a1@, @a2@, @b@).</span><span>
</span><span id="line-379"></span><span id="local-6989586621682476548"><span id="local-6989586621682476549"><span id="local-6989586621682476550"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetFoldUFM"><span class="hs-identifier hs-type">nonDetFoldUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476548"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476549"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476549"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476549"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476550"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476548"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476549"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-380"></span><span id="nonDetFoldUFM"><span class="annot"><span class="annottext">nonDetFoldUFM :: forall {k} elt a (key :: k).
(elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetFoldUFM"><span class="hs-identifier hs-var hs-var">nonDetFoldUFM</span></a></span></span><span> </span><span id="local-6989586621682477303"><span class="annot"><span class="annottext">elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477303"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477304"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477304"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477305"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477305"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; a -&gt; a) -&gt; a -&gt; Word64Map elt -&gt; a
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
</span><a href="GHC.Data.Word64Map.Internal.html#foldr"><span class="hs-identifier hs-var">M.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477303"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477304"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477305"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="annot"><span class="hs-comment">-- | Like 'nonDetFoldUFM', but with the 'Unique' key as well.</span></span><span>
</span><span id="line-383"></span><span id="local-6989586621682476558"><span id="local-6989586621682476559"><span id="local-6989586621682476560"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetFoldWithKeyUFM"><span class="hs-identifier hs-type">nonDetFoldWithKeyUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476558"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476559"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476559"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476559"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476560"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476558"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476559"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-384"></span><span id="nonDetFoldWithKeyUFM"><span class="annot"><span class="annottext">nonDetFoldWithKeyUFM :: forall {k} elt a (key :: k).
(Unique -&gt; elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetFoldWithKeyUFM"><span class="hs-identifier hs-var hs-var">nonDetFoldWithKeyUFM</span></a></span></span><span> </span><span id="local-6989586621682477307"><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477307"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477308"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477308"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477309"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477309"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elt -&gt; a -&gt; a) -&gt; a -&gt; Word64Map elt -&gt; a
forall a b. (Key -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
</span><a href="GHC.Data.Word64Map.Internal.html#foldrWithKey"><span class="hs-identifier hs-var">M.foldrWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477311"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477308"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477309"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621682477311"><span class="annot"><span class="annottext">f' :: Key -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477311"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621682477312"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477312"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477313"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477313"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682477314"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477314"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477307"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477312"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477313"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477314"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span id="local-6989586621682476568"><span id="local-6989586621682476569"><span id="local-6989586621682476570"><span class="annot"><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier hs-type">mapUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476568"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476569"><span class="hs-identifier hs-type">elt2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476570"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476568"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476570"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476569"><span class="hs-identifier hs-type">elt2</span></a></span></span></span></span><span>
</span><span id="line-389"></span><span id="mapUFM"><span class="annot"><span class="annottext">mapUFM :: forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier hs-var hs-var">mapUFM</span></a></span></span><span> </span><span id="local-6989586621682477315"><span class="annot"><span class="annottext">elt1 -&gt; elt2
</span><a href="#local-6989586621682477315"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477316"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477316"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt2 -&gt; UniqFM key elt2
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt1 -&gt; elt2) -&gt; Word64Map elt1 -&gt; Word64Map elt2
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Internal.html#map"><span class="hs-identifier hs-var">M.map</span></a></span><span> </span><span class="annot"><span class="annottext">elt1 -&gt; elt2
</span><a href="#local-6989586621682477315"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477316"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span id="local-6989586621682476576"><span id="local-6989586621682476577"><span id="local-6989586621682476578"><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeUFM"><span class="hs-identifier hs-type">mapMaybeUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476576"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476577"><span class="hs-identifier hs-type">elt2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476578"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476576"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476578"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476577"><span class="hs-identifier hs-type">elt2</span></a></span></span></span></span><span>
</span><span id="line-392"></span><span id="mapMaybeUFM"><span class="annot"><span class="annottext">mapMaybeUFM :: forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; Maybe elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeUFM"><span class="hs-identifier hs-var hs-var">mapMaybeUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(elt1 -&gt; Maybe elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
forall {k} {k} elt1 elt2 (key1 :: k) (key2 :: k).
(elt1 -&gt; Maybe elt2) -&gt; UniqFM key1 elt1 -&gt; UniqFM key2 elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeUFM_sameUnique"><span class="hs-identifier hs-var">mapMaybeUFM_sameUnique</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-comment">-- | Like 'Data.Map.mapMaybe', but you must ensure the passed-in function does</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- not modify the unique.</span><span>
</span><span id="line-396"></span><span id="local-6989586621682476585"><span id="local-6989586621682476586"><span id="local-6989586621682476587"><span id="local-6989586621682476588"><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeUFM_sameUnique"><span class="hs-identifier hs-type">mapMaybeUFM_sameUnique</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476585"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476586"><span class="hs-identifier hs-type">elt2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476587"><span class="hs-identifier hs-type">key1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476585"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476588"><span class="hs-identifier hs-type">key2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476586"><span class="hs-identifier hs-type">elt2</span></a></span></span></span></span></span><span>
</span><span id="line-397"></span><span id="mapMaybeUFM_sameUnique"><span class="annot"><span class="annottext">mapMaybeUFM_sameUnique :: forall {k} {k} elt1 elt2 (key1 :: k) (key2 :: k).
(elt1 -&gt; Maybe elt2) -&gt; UniqFM key1 elt1 -&gt; UniqFM key2 elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeUFM_sameUnique"><span class="hs-identifier hs-var hs-var">mapMaybeUFM_sameUnique</span></a></span></span><span> </span><span id="local-6989586621682477318"><span class="annot"><span class="annottext">elt1 -&gt; Maybe elt2
</span><a href="#local-6989586621682477318"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477319"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477319"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt2 -&gt; UniqFM key2 elt2
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt1 -&gt; Maybe elt2) -&gt; Word64Map elt1 -&gt; Word64Map elt2
forall a b. (a -&gt; Maybe b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Internal.html#mapMaybe"><span class="hs-identifier hs-var">M.mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">elt1 -&gt; Maybe elt2
</span><a href="#local-6989586621682477318"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477319"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span id="local-6989586621682476598"><span id="local-6989586621682476599"><span id="local-6989586621682476600"><span class="annot"><a href="GHC.Types.Unique.FM.html#mapMaybeWithKeyUFM"><span class="hs-identifier hs-type">mapMaybeWithKeyUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476598"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476599"><span class="hs-identifier hs-type">elt2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476600"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476598"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476600"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476599"><span class="hs-identifier hs-type">elt2</span></a></span></span></span></span><span>
</span><span id="line-400"></span><span id="mapMaybeWithKeyUFM"><span class="annot"><span class="annottext">mapMaybeWithKeyUFM :: forall {k} elt1 elt2 (key :: k).
(Unique -&gt; elt1 -&gt; Maybe elt2)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeWithKeyUFM"><span class="hs-identifier hs-var hs-var">mapMaybeWithKeyUFM</span></a></span></span><span> </span><span id="local-6989586621682477321"><span class="annot"><span class="annottext">Unique -&gt; elt1 -&gt; Maybe elt2
</span><a href="#local-6989586621682477321"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477322"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477322"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt2 -&gt; UniqFM key elt2
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Key -&gt; elt1 -&gt; Maybe elt2) -&gt; Word64Map elt1 -&gt; Word64Map elt2
forall a b. (Key -&gt; a -&gt; Maybe b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Internal.html#mapMaybeWithKey"><span class="hs-identifier hs-var">M.mapMaybeWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; elt1 -&gt; Maybe elt2
</span><a href="#local-6989586621682477321"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; elt1 -&gt; Maybe elt2)
-&gt; (Key -&gt; Unique) -&gt; Key -&gt; elt1 -&gt; Maybe elt2
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477322"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span id="local-6989586621682476611"><span id="local-6989586621682476612"><span id="local-6989586621682476613"><span class="annot"><a href="GHC.Types.Unique.FM.html#mapUFM_Directly"><span class="hs-identifier hs-type">mapUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476611"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476612"><span class="hs-identifier hs-type">elt2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476613"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476611"><span class="hs-identifier hs-type">elt1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476613"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476612"><span class="hs-identifier hs-type">elt2</span></a></span></span></span></span><span>
</span><span id="line-403"></span><span id="mapUFM_Directly"><span class="annot"><span class="annottext">mapUFM_Directly :: forall {k} elt1 elt2 (key :: k).
(Unique -&gt; elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapUFM_Directly"><span class="hs-identifier hs-var hs-var">mapUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477325"><span class="annot"><span class="annottext">Unique -&gt; elt1 -&gt; elt2
</span><a href="#local-6989586621682477325"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477326"><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477326"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt2 -&gt; UniqFM key elt2
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Key -&gt; elt1 -&gt; elt2) -&gt; Word64Map elt1 -&gt; Word64Map elt2
forall a b. (Key -&gt; a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Internal.html#mapWithKey"><span class="hs-identifier hs-var">M.mapWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; elt1 -&gt; elt2
</span><a href="#local-6989586621682477325"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; elt1 -&gt; elt2) -&gt; (Key -&gt; Unique) -&gt; Key -&gt; elt1 -&gt; elt2
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt1
</span><a href="#local-6989586621682477326"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span id="local-6989586621682477328"><span id="local-6989586621682477329"><span id="local-6989586621682477330"><span class="annot"><a href="GHC.Types.Unique.FM.html#strictMapUFM"><span class="hs-identifier hs-type">strictMapUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682477328"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477329"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477330"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477328"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477330"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477329"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-406"></span><span id="strictMapUFM"><span class="annot"><span class="annottext">strictMapUFM :: forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#strictMapUFM"><span class="hs-identifier hs-var hs-var">strictMapUFM</span></a></span></span><span> </span><span id="local-6989586621682477331"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682477331"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477332"><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477332"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map b -&gt; UniqFM k b
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map b -&gt; UniqFM k b) -&gt; Word64Map b -&gt; UniqFM k b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
forall a b. (a -&gt; b) -&gt; Word64Map a -&gt; Word64Map b
</span><a href="GHC.Data.Word64Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">MS.map</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682477331"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477332"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span id="local-6989586621682476625"><span id="local-6989586621682476626"><span class="annot"><a href="GHC.Types.Unique.FM.html#filterUFM"><span class="hs-identifier hs-type">filterUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476625"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476626"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476625"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476626"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476625"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-409"></span><span id="filterUFM"><span class="annot"><span class="annottext">filterUFM :: forall {k} elt (key :: k).
(elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#filterUFM"><span class="hs-identifier hs-var hs-var">filterUFM</span></a></span></span><span> </span><span id="local-6989586621682477333"><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477333"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477334"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477334"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; Bool) -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (a -&gt; Bool) -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#filter"><span class="hs-identifier hs-var">M.filter</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477333"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477334"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span id="local-6989586621682476632"><span id="local-6989586621682476633"><span class="annot"><a href="GHC.Types.Unique.FM.html#filterUFM_Directly"><span class="hs-identifier hs-type">filterUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476632"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476633"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476632"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476633"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476632"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-412"></span><span id="filterUFM_Directly"><span class="annot"><span class="annottext">filterUFM_Directly :: forall {k} elt (key :: k).
(Unique -&gt; elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#filterUFM_Directly"><span class="hs-identifier hs-var hs-var">filterUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477336"><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; Bool
</span><a href="#local-6989586621682477336"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477337"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477337"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Key -&gt; elt -&gt; Bool) -&gt; Word64Map elt -&gt; Word64Map elt
forall a. (Key -&gt; a -&gt; Bool) -&gt; Word64Map a -&gt; Word64Map a
</span><a href="GHC.Data.Word64Map.Internal.html#filterWithKey"><span class="hs-identifier hs-var">M.filterWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; Bool
</span><a href="#local-6989586621682477336"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; elt -&gt; Bool) -&gt; (Key -&gt; Unique) -&gt; Key -&gt; elt -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477337"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span id="local-6989586621682476639"><span id="local-6989586621682476640"><span class="annot"><a href="GHC.Types.Unique.FM.html#partitionUFM"><span class="hs-identifier hs-type">partitionUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476639"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476640"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476639"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476640"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476639"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476640"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476639"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-415"></span><span id="partitionUFM"><span class="annot"><span class="annottext">partitionUFM :: forall {k} elt (key :: k).
(elt -&gt; Bool) -&gt; UniqFM key elt -&gt; (UniqFM key elt, UniqFM key elt)
</span><a href="GHC.Types.Unique.FM.html#partitionUFM"><span class="hs-identifier hs-var hs-var">partitionUFM</span></a></span></span><span> </span><span id="local-6989586621682477339"><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477339"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477340"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477340"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; Bool) -&gt; Word64Map elt -&gt; (Word64Map elt, Word64Map elt)
forall a. (a -&gt; Bool) -&gt; Word64Map a -&gt; (Word64Map a, Word64Map a)
</span><a href="GHC.Data.Word64Map.Internal.html#partition"><span class="hs-identifier hs-var">M.partition</span></a></span><span> </span><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477339"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477340"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682477342"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477342"><span class="hs-identifier hs-var">left</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477343"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477343"><span class="hs-identifier hs-var">right</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477342"><span class="hs-identifier hs-var">left</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477343"><span class="hs-identifier hs-var">right</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span id="local-6989586621682476646"><span id="local-6989586621682476647"><span class="annot"><a href="GHC.Types.Unique.FM.html#sizeUFM"><span class="hs-identifier hs-type">sizeUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476646"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476647"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span></span><span>
</span><span id="line-420"></span><span id="sizeUFM"><span class="annot"><span class="annottext">sizeUFM :: forall {k} (key :: k) elt. UniqFM key elt -&gt; Int
</span><a href="GHC.Types.Unique.FM.html#sizeUFM"><span class="hs-identifier hs-var hs-var">sizeUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477344"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477344"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; Int
forall a. Word64Map a -&gt; Int
</span><a href="GHC.Data.Word64Map.Internal.html#size"><span class="hs-identifier hs-var">M.size</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477344"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span id="local-6989586621682476652"><span id="local-6989586621682476653"><span class="annot"><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-identifier hs-type">elemUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476652"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476652"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476652"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476653"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-423"></span><span id="elemUFM"><span class="annot"><span class="annottext">elemUFM :: forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-identifier hs-var hs-var">elemUFM</span></a></span></span><span> </span><span id="local-6989586621682477348"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477348"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477349"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477349"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Bool
forall a. Key -&gt; Word64Map a -&gt; Bool
</span><a href="GHC.Data.Word64Map.Internal.html#member"><span class="hs-identifier hs-var">M.member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477348"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477349"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span id="local-6989586621682476658"><span id="local-6989586621682476659"><span class="annot"><a href="GHC.Types.Unique.FM.html#elemUFM_Directly"><span class="hs-identifier hs-type">elemUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476658"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476659"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-426"></span><span id="elemUFM_Directly"><span class="annot"><span class="annottext">elemUFM_Directly :: forall {k} (key :: k) elt. Unique -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM_Directly"><span class="hs-identifier hs-var hs-var">elemUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477351"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477351"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477352"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477352"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Bool
forall a. Key -&gt; Word64Map a -&gt; Bool
</span><a href="GHC.Data.Word64Map.Internal.html#member"><span class="hs-identifier hs-var">M.member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477351"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477352"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span id="local-6989586621682476663"><span id="local-6989586621682476664"><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-type">lookupUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476663"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476663"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476664"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476663"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476664"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-429"></span><span id="lookupUFM"><span class="annot"><span class="annottext">lookupUFM :: forall key elt. Uniquable key =&gt; UniqFM key elt -&gt; key -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-var hs-var">lookupUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477355"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477355"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477356"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477356"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Maybe elt
forall a. Key -&gt; Word64Map a -&gt; Maybe a
</span><a href="GHC.Data.Word64Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477356"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477355"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-comment">-- when you've got the Unique already</span><span>
</span><span id="line-432"></span><span id="local-6989586621682476669"><span id="local-6989586621682476670"><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM_Directly"><span class="hs-identifier hs-type">lookupUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476669"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476670"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682476670"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-433"></span><span id="lookupUFM_Directly"><span class="annot"><span class="annottext">lookupUFM_Directly :: forall {k} (key :: k) elt. UniqFM key elt -&gt; Unique -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM_Directly"><span class="hs-identifier hs-var hs-var">lookupUFM_Directly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477358"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477358"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477359"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477359"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word64Map elt -&gt; Maybe elt
forall a. Key -&gt; Word64Map a -&gt; Maybe a
</span><a href="GHC.Data.Word64Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477359"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477358"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span id="local-6989586621682476674"><span id="local-6989586621682476675"><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM"><span class="hs-identifier hs-type">lookupWithDefaultUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476674"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476674"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476675"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476675"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476674"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476675"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-436"></span><span id="lookupWithDefaultUFM"><span class="annot"><span class="annottext">lookupWithDefaultUFM :: forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; elt -&gt; key -&gt; elt
</span><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM"><span class="hs-identifier hs-var hs-var">lookupWithDefaultUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477362"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477362"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477363"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477363"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682477364"><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477364"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">elt -&gt; Key -&gt; Word64Map elt -&gt; elt
forall a. a -&gt; Key -&gt; Word64Map a -&gt; a
</span><a href="GHC.Data.Word64Map.Internal.html#findWithDefault"><span class="hs-identifier hs-var">M.findWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477363"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Key) -&gt; Unique -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">key -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">key
</span><a href="#local-6989586621682477364"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477362"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span id="local-6989586621682476680"><span id="local-6989586621682476681"><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM_Directly"><span class="hs-identifier hs-type">lookupWithDefaultUFM_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476680"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476681"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476681"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476681"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-439"></span><span id="lookupWithDefaultUFM_Directly"><span class="annot"><span class="annottext">lookupWithDefaultUFM_Directly :: forall {k} (key :: k) elt. UniqFM key elt -&gt; elt -&gt; Unique -&gt; elt
</span><a href="GHC.Types.Unique.FM.html#lookupWithDefaultUFM_Directly"><span class="hs-identifier hs-var hs-var">lookupWithDefaultUFM_Directly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477366"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477366"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682477367"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477367"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682477368"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477368"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">elt -&gt; Key -&gt; Word64Map elt -&gt; elt
forall a. a -&gt; Key -&gt; Word64Map a -&gt; a
</span><a href="GHC.Data.Word64Map.Internal.html#findWithDefault"><span class="hs-identifier hs-var">M.findWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477367"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; Key
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477368"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477366"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span id="local-6989586621682476686"><span id="local-6989586621682476687"><span class="annot"><a href="GHC.Types.Unique.FM.html#ufmToSet_Directly"><span class="hs-identifier hs-type">ufmToSet_Directly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476686"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476687"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Word64Set.Internal.html#Word64Set"><span class="hs-identifier hs-type">S.Word64Set</span></a></span></span></span><span>
</span><span id="line-442"></span><span id="ufmToSet_Directly"><span class="annot"><span class="annottext">ufmToSet_Directly :: forall {k} (key :: k) elt. UniqFM key elt -&gt; Word64Set
</span><a href="GHC.Types.Unique.FM.html#ufmToSet_Directly"><span class="hs-identifier hs-var hs-var">ufmToSet_Directly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477369"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477369"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; Word64Set
forall a. Word64Map a -&gt; Word64Set
</span><a href="GHC.Data.Word64Map.Internal.html#keysSet"><span class="hs-identifier hs-var">M.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477369"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span id="local-6989586621682476694"><span id="local-6989586621682476695"><span class="annot"><a href="GHC.Types.Unique.FM.html#anyUFM"><span class="hs-identifier hs-type">anyUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476694"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476695"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476694"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-445"></span><span id="anyUFM"><span class="annot"><span class="annottext">anyUFM :: forall {k} elt (key :: k). (elt -&gt; Bool) -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#anyUFM"><span class="hs-identifier hs-var hs-var">anyUFM</span></a></span></span><span> </span><span id="local-6989586621682477371"><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477371"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477372"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477372"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; Bool -&gt; Bool) -&gt; Bool -&gt; Word64Map elt -&gt; Bool
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
</span><a href="GHC.Data.Word64Map.Internal.html#foldr"><span class="hs-identifier hs-var">M.foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">(||)</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool -&gt; Bool) -&gt; (elt -&gt; Bool) -&gt; elt -&gt; Bool -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477371"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477372"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span id="local-6989586621682477374"><span id="local-6989586621682477375"><span class="annot"><a href="GHC.Types.Unique.FM.html#allUFM"><span class="hs-identifier hs-type">allUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682477374"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477375"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477374"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-448"></span><span id="allUFM"><span class="annot"><span class="annottext">allUFM :: forall {k} elt (key :: k). (elt -&gt; Bool) -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#allUFM"><span class="hs-identifier hs-var hs-var">allUFM</span></a></span></span><span> </span><span id="local-6989586621682477376"><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477376"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477377"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477377"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; Bool -&gt; Bool) -&gt; Bool -&gt; Word64Map elt -&gt; Bool
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
</span><a href="GHC.Data.Word64Map.Internal.html#foldr"><span class="hs-identifier hs-var">M.foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">(&amp;&amp;)</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool -&gt; Bool) -&gt; (elt -&gt; Bool) -&gt; elt -&gt; Bool -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">elt -&gt; Bool
</span><a href="#local-6989586621682477376"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477377"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span id="local-6989586621682476703"><span id="local-6989586621682476704"><span class="annot"><a href="GHC.Types.Unique.FM.html#seqEltsUFM"><span class="hs-identifier hs-type">seqEltsUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476703"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476704"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476703"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-451"></span><span id="seqEltsUFM"><span class="annot"><span class="annottext">seqEltsUFM :: forall {k} elt (key :: k). (elt -&gt; ()) -&gt; UniqFM key elt -&gt; ()
</span><a href="GHC.Types.Unique.FM.html#seqEltsUFM"><span class="hs-identifier hs-var hs-var">seqEltsUFM</span></a></span></span><span> </span><span id="local-6989586621682477379"><span class="annot"><span class="annottext">elt -&gt; ()
</span><a href="#local-6989586621682477379"><span class="hs-identifier hs-var">seqElt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(elt -&gt; () -&gt; ()) -&gt; () -&gt; UniqFM key elt -&gt; ()
forall {k} elt a (key :: k).
(elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetFoldUFM"><span class="hs-identifier hs-var">nonDetFoldUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477380"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477380"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682477381"><span class="annot"><span class="annottext">()
</span><a href="#local-6989586621682477381"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">elt -&gt; ()
</span><a href="#local-6989586621682477379"><span class="hs-identifier hs-var">seqElt</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477380"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">()
</span><a href="#local-6989586621682477381"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] to learn about nondeterminism.</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-456"></span><span id="local-6989586621682476710"><span id="local-6989586621682476711"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-type">nonDetEltsUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476710"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476711"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476711"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-457"></span><span id="nonDetEltsUFM"><span class="annot"><span class="annottext">nonDetEltsUFM :: forall {k} (key :: k) elt. UniqFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-var hs-var">nonDetEltsUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477382"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477382"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; [elt]
forall a. Word64Map a -&gt; [a]
</span><a href="GHC.Data.Word64Map.Internal.html#elems"><span class="hs-identifier hs-var">M.elems</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477382"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] to learn about nondeterminism.</span><span>
</span><span id="line-460"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-462"></span><span id="local-6989586621682476717"><span id="local-6989586621682476718"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetKeysUFM"><span class="hs-identifier hs-type">nonDetKeysUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476717"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476718"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-463"></span><span id="nonDetKeysUFM"><span class="annot"><span class="annottext">nonDetKeysUFM :: forall {k} (key :: k) elt. UniqFM key elt -&gt; [Unique]
</span><a href="GHC.Types.Unique.FM.html#nonDetKeysUFM"><span class="hs-identifier hs-var hs-var">nonDetKeysUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477384"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477384"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Unique) -&gt; [Key] -&gt; [Unique]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">([Key] -&gt; [Unique]) -&gt; [Key] -&gt; [Unique]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; [Key]
forall a. Word64Map a -&gt; [Key]
</span><a href="GHC.Data.Word64Map.Internal.html#keys"><span class="hs-identifier hs-var">M.keys</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477384"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] to learn about nondeterminism.</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-468"></span><span id="local-6989586621682477386"><span id="local-6989586621682477387"><span id="local-6989586621682477388"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM"><span class="hs-identifier hs-type">nonDetStrictFoldUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682477386"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477387"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477387"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477387"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477388"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477386"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477387"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-469"></span><span id="nonDetStrictFoldUFM"><span class="annot"><span class="annottext">nonDetStrictFoldUFM :: forall {k} elt a (key :: k).
(elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM"><span class="hs-identifier hs-var hs-var">nonDetStrictFoldUFM</span></a></span></span><span> </span><span id="local-6989586621682477389"><span class="annot"><span class="annottext">elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477389"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477390"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477390"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477391"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477391"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; elt -&gt; a) -&gt; a -&gt; Word64Map elt -&gt; a
forall a b. (a -&gt; b -&gt; a) -&gt; a -&gt; Word64Map b -&gt; a
</span><a href="GHC.Data.Word64Map.Internal.html#foldl%27"><span class="hs-identifier hs-var">M.foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(elt -&gt; a -&gt; a) -&gt; a -&gt; elt -&gt; a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477389"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477390"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477391"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-470"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM"><span class="hs-pragma hs-type">nonDetStrictFoldUFM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="hs-comment">-- | In essence foldM</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] to learn about nondeterminism.</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-476"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_DirectlyM"><span class="hs-pragma hs-type">nonDetStrictFoldUFM_DirectlyM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-comment">-- Allow specialization</span><span>
</span><span id="line-477"></span><span id="local-6989586621682476730"><span id="local-6989586621682476731"><span id="local-6989586621682476732"><span id="local-6989586621682476733"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_DirectlyM"><span class="hs-identifier hs-type">nonDetStrictFoldUFM_DirectlyM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682476730"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476731"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476732"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476730"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476731"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476731"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476733"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476732"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682476730"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476731"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-478"></span><span id="nonDetStrictFoldUFM_DirectlyM"><span class="annot"><span class="annottext">nonDetStrictFoldUFM_DirectlyM :: forall {k} (m :: * -&gt; *) b elt (key :: k).
Monad m =&gt;
(Unique -&gt; b -&gt; elt -&gt; m b) -&gt; b -&gt; UniqFM key elt -&gt; m b
</span><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_DirectlyM"><span class="hs-identifier hs-var hs-var">nonDetStrictFoldUFM_DirectlyM</span></a></span></span><span> </span><span id="local-6989586621682477396"><span class="annot"><span class="annottext">Unique -&gt; b -&gt; elt -&gt; m b
</span><a href="#local-6989586621682477396"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477397"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477397"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477398"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477398"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key -&gt; elt -&gt; (b -&gt; m b) -&gt; b -&gt; m b)
-&gt; (b -&gt; m b) -&gt; Word64Map elt -&gt; b -&gt; m b
forall a b. (Key -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
</span><a href="GHC.Data.Word64Map.Internal.html#foldrWithKey"><span class="hs-identifier hs-var">M.foldrWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; elt -&gt; (b -&gt; m b) -&gt; b -&gt; m b
</span><a href="#local-6989586621682477399"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477398"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477397"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-comment">-- See Note [List fusion and continuations in 'c']</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682477399"><span class="annot"><span class="annottext">c :: Key -&gt; elt -&gt; (b -&gt; m b) -&gt; b -&gt; m b
</span><a href="#local-6989586621682477399"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682477400"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477400"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682477401"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477401"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477402"><span class="annot"><span class="annottext">b -&gt; m b
</span><a href="#local-6989586621682477402"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477403"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477403"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; b -&gt; elt -&gt; m b
</span><a href="#local-6989586621682477396"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477400"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477403"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477401"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m b -&gt; (b -&gt; m b) -&gt; m b
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
</span><a href="#local-6989586621682477402"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-481"></span><span>        </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="#local-6989586621682477399"><span class="hs-pragma hs-type">c</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span id="local-6989586621682477404"><span id="local-6989586621682477405"><span id="local-6989586621682477406"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_Directly"><span class="hs-identifier hs-type">nonDetStrictFoldUFM_Directly</span></a></span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477404"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477405"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477405"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477405"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477406"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477404"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682477405"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-484"></span><span id="nonDetStrictFoldUFM_Directly"><span class="annot"><span class="annottext">nonDetStrictFoldUFM_Directly :: forall {k} elt a (key :: k).
(Unique -&gt; elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_Directly"><span class="hs-identifier hs-var hs-var">nonDetStrictFoldUFM_Directly</span></a></span></span><span> </span><span id="local-6989586621682477407"><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477407"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621682477408"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477408"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477409"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477409"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Key -&gt; elt -&gt; a) -&gt; a -&gt; Word64Map elt -&gt; a
forall a b. (a -&gt; Key -&gt; b -&gt; a) -&gt; a -&gt; Word64Map b -&gt; a
</span><a href="GHC.Data.Word64Map.Internal.html#foldlWithKey%27"><span class="hs-identifier hs-var">M.foldlWithKey'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682477411"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477411"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span id="local-6989586621682477412"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477412"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682477413"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477413"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; elt -&gt; a -&gt; a
</span><a href="#local-6989586621682477407"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477412"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477413"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477411"><span class="hs-identifier hs-var">z'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477408"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477409"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-485"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetStrictFoldUFM_Directly"><span class="hs-pragma hs-type">nonDetStrictFoldUFM_Directly</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] to learn about nondeterminism.</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-490"></span><span id="local-6989586621682476750"><span id="local-6989586621682476751"><span class="annot"><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier hs-type">nonDetUFMToList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476750"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476751"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682476751"><span class="hs-identifier hs-type">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-491"></span><span id="nonDetUFMToList"><span class="annot"><span class="annottext">nonDetUFMToList :: forall {k} (key :: k) elt. UniqFM key elt -&gt; [(Unique, elt)]
</span><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier hs-var hs-var">nonDetUFMToList</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477414"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477414"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Key, elt) -&gt; (Unique, elt)) -&gt; [(Key, elt)] -&gt; [(Unique, elt)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682477415"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477415"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477416"><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477416"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUniqueGrimily"><span class="hs-identifier hs-var">mkUniqueGrimily</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682477415"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">elt
</span><a href="#local-6989586621682477416"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Key, elt)] -&gt; [(Unique, elt)])
-&gt; [(Key, elt)] -&gt; [(Unique, elt)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; [(Key, elt)]
forall a. Word64Map a -&gt; [(Key, a)]
</span><a href="GHC.Data.Word64Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477414"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="hs-comment">-- | A wrapper around 'UniqFM' with the sole purpose of informing call sites</span><span>
</span><span id="line-494"></span><span class="hs-comment">-- that the provided 'Foldable' and 'Traversable' instances are</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- nondeterministic.</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] in &quot;GHC.Types.Unique.DFM&quot; to learn about determinism.</span><span>
</span><span id="line-499"></span><span class="hs-keyword">newtype</span><span> </span><span id="NonDetUniqFM"><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-var">NonDetUniqFM</span></a></span></span><span> </span><span id="local-6989586621682476757"><span class="annot"><a href="#local-6989586621682476757"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span id="local-6989586621682476758"><span class="annot"><a href="#local-6989586621682476758"><span class="hs-identifier hs-type">ele</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NonDetUniqFM"><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-var">NonDetUniqFM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getNonDet"><span class="annot"><span class="annottext">forall {k} (key :: k) ele. NonDetUniqFM key ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#getNonDet"><span class="hs-identifier hs-var hs-var">getNonDet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476757"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476758"><span class="hs-identifier hs-type">ele</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477421"><span id="local-6989586621682477425"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; NonDetUniqFM key a -&gt; NonDetUniqFM key b)
-&gt; (forall a b. a -&gt; NonDetUniqFM key b -&gt; NonDetUniqFM key a)
-&gt; Functor (NonDetUniqFM key)
forall k (key :: k) a b.
a -&gt; NonDetUniqFM key b -&gt; NonDetUniqFM key a
forall k (key :: k) a b.
(a -&gt; b) -&gt; NonDetUniqFM key a -&gt; NonDetUniqFM key b
forall a b. a -&gt; NonDetUniqFM key b -&gt; NonDetUniqFM key a
forall a b. (a -&gt; b) -&gt; NonDetUniqFM key a -&gt; NonDetUniqFM key b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall k (key :: k) a b.
(a -&gt; b) -&gt; NonDetUniqFM key a -&gt; NonDetUniqFM key b
fmap :: forall a b. (a -&gt; b) -&gt; NonDetUniqFM key a -&gt; NonDetUniqFM key b
$c&lt;$ :: forall k (key :: k) a b.
a -&gt; NonDetUniqFM key b -&gt; NonDetUniqFM key a
&lt;$ :: forall a b. a -&gt; NonDetUniqFM key b -&gt; NonDetUniqFM key a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span class="hs-comment">-- | Inherently nondeterministic.</span><span>
</span><span id="line-503"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] in &quot;GHC.Types.Unique.DFM&quot; to learn about determinism.</span><span>
</span><span id="line-506"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682477430"><span id="local-6989586621682477436"><span id="local-6989586621682477441"><span id="local-6989586621682477447"><span id="local-6989586621682477450"><span id="local-6989586621682477453"><span id="local-6989586621682477456"><span id="local-6989586621682477459"><span id="local-6989586621682477462"><span id="local-6989586621682477465"><span id="local-6989586621682477468"><span id="local-6989586621682477471"><span id="local-6989586621682477476"><span id="local-6989586621682477481"><span id="local-6989586621682477486"><span id="local-6989586621682477491"><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682476793"><span class="annot"><a href="#local-6989586621682476793"><span class="hs-identifier hs-type">key</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-type">NonDetUniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476793"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>  </span><span id="local-6989586621682477498"><span class="annot"><span class="annottext">foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; NonDetUniqFM key a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var">foldr</span></span></span><span> </span><span id="local-6989586621682477499"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682477499"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682477500"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477500"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-type">NonDetUniqFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477501"><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477501"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Word64Map a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682477499"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682477500"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477501"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-comment">-- | Inherently nondeterministic.</span><span>
</span><span id="line-510"></span><span class="hs-comment">-- If you use this please provide a justification why it doesn't introduce</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- nondeterminism.</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- See Note [Deterministic UniqFM] in &quot;GHC.Types.Unique.DFM&quot; to learn about determinism.</span><span>
</span><span id="line-513"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682477508"><span id="local-6989586621682477514"><span id="local-6989586621682477519"><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682476813"><span class="annot"><a href="#local-6989586621682476813"><span class="hs-identifier hs-type">key</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-type">NonDetUniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476813"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-514"></span><span>  </span><span id="local-6989586621682477531"><span class="annot"><span class="annottext">traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonDetUniqFM key a -&gt; f (NonDetUniqFM key b)
</span><a href="#local-6989586621682477531"><span class="hs-identifier hs-var hs-var hs-var">traverse</span></a></span></span><span> </span><span id="local-6989586621682477533"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621682477533"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-type">NonDetUniqFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477534"><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477534"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key b -&gt; NonDetUniqFM key b
forall {k} (key :: k) ele. UniqFM key ele -&gt; NonDetUniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#NonDetUniqFM"><span class="hs-identifier hs-var">NonDetUniqFM</span></a></span><span> </span><span class="annot"><span class="annottext">(UniqFM key b -&gt; NonDetUniqFM key b)
-&gt; (Word64Map b -&gt; UniqFM key b)
-&gt; Word64Map b
-&gt; NonDetUniqFM key b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64Map b -&gt; UniqFM key b
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64Map b -&gt; NonDetUniqFM key b)
-&gt; f (Word64Map b) -&gt; f (NonDetUniqFM key b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Word64Map a -&gt; f (Word64Map b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Word64Map a -&gt; f (Word64Map b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621682477533"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477534"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span id="local-6989586621682476490"><span id="local-6989586621682476491"><span class="annot"><a href="GHC.Types.Unique.FM.html#ufmToIntMap"><span class="hs-identifier hs-type">ufmToIntMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476490"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476491"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Word64Map.Internal.html#Word64Map"><span class="hs-identifier hs-type">M.Word64Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476491"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-517"></span><span id="ufmToIntMap"><span class="annot"><span class="annottext">ufmToIntMap :: forall {k} (key :: k) elt. UniqFM key elt -&gt; Word64Map elt
</span><a href="GHC.Types.Unique.FM.html#ufmToIntMap"><span class="hs-identifier hs-var hs-var">ufmToIntMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477536"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477536"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477536"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span id="local-6989586621682476483"><span id="local-6989586621682476484"><span class="annot"><a href="GHC.Types.Unique.FM.html#unsafeIntMapToUFM"><span class="hs-identifier hs-type">unsafeIntMapToUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Word64Map.Internal.html#Word64Map"><span class="hs-identifier hs-type">M.Word64Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476483"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476484"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476483"><span class="hs-identifier hs-type">elt</span></a></span></span></span><span>
</span><span id="line-520"></span><span id="unsafeIntMapToUFM"><span class="annot"><span class="annottext">unsafeIntMapToUFM :: forall {k} elt (key :: k). Word64Map elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unsafeIntMapToUFM"><span class="hs-identifier hs-var hs-var">unsafeIntMapToUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-comment">-- | Cast the key domain of a UniqFM.</span><span>
</span><span id="line-523"></span><span class="hs-comment">--</span><span>
</span><span id="line-524"></span><span class="hs-comment">-- As long as the domains don't overlap in their uniques</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- this is safe.</span><span>
</span><span id="line-526"></span><span id="local-6989586621682476829"><span id="local-6989586621682476830"><span id="local-6989586621682476831"><span class="annot"><a href="GHC.Types.Unique.FM.html#unsafeCastUFMKey"><span class="hs-identifier hs-type">unsafeCastUFMKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476829"><span class="hs-identifier hs-type">key1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476830"><span class="hs-identifier hs-type">elt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476831"><span class="hs-identifier hs-type">key2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476830"><span class="hs-identifier hs-type">elt</span></a></span></span></span></span><span>
</span><span id="line-527"></span><span id="unsafeCastUFMKey"><span class="annot"><span class="annottext">unsafeCastUFMKey :: forall {k} {k} (key1 :: k) elt (key2 :: k).
UniqFM key1 elt -&gt; UniqFM key2 elt
</span><a href="GHC.Types.Unique.FM.html#unsafeCastUFMKey"><span class="hs-identifier hs-var hs-var">unsafeCastUFMKey</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477537"><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477537"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64Map elt -&gt; UniqFM key2 elt
forall {k} (key :: k) ele. Word64Map ele -&gt; UniqFM key ele
</span><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-var">UFM</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map elt
</span><a href="#local-6989586621682477537"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="hs-comment">-- Determines whether two 'UniqFM's contain the same keys.</span><span>
</span><span id="line-530"></span><span id="local-6989586621682477538"><span id="local-6989586621682477539"><span id="local-6989586621682477540"><span class="annot"><a href="GHC.Types.Unique.FM.html#equalKeysUFM"><span class="hs-identifier hs-type">equalKeysUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477538"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477539"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477538"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682477540"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-531"></span><span id="equalKeysUFM"><span class="annot"><span class="annottext">equalKeysUFM :: forall {k} (key :: k) elt1 elt2.
UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#equalKeysUFM"><span class="hs-identifier hs-var hs-var">equalKeysUFM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477543"><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477543"><span class="hs-identifier hs-var">m1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UFM"><span class="hs-identifier hs-type">UFM</span></a></span><span> </span><span id="local-6989586621682477544"><span class="annot"><span class="annottext">Word64Map b
</span><a href="#local-6989586621682477544"><span class="hs-identifier hs-var">m2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; Bool) -&gt; Word64Map a -&gt; Word64Map b -&gt; Bool
forall a b. (a -&gt; b -&gt; Bool) -&gt; Word64Map a -&gt; Word64Map b -&gt; Bool
forall (f :: * -&gt; *) a b.
Eq1 f =&gt;
(a -&gt; b -&gt; Bool) -&gt; f a -&gt; f b -&gt; Bool
</span><a href="../../base-4.21.0.0-ae91/src/Data.Functor.Classes.html#liftEq"><span class="hs-identifier hs-var">liftEq</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64Map a
</span><a href="#local-6989586621682477543"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Word64Map b
</span><a href="#local-6989586621682477544"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-comment">-- | An edit on type @a@, relating an element of a container (like an entry in a</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- map or a line in a file) before and after.</span><span>
</span><span id="line-535"></span><span class="hs-keyword">data</span><span> </span><span id="Edit"><span class="annot"><a href="GHC.Types.Unique.FM.html#Edit"><span class="hs-identifier hs-var">Edit</span></a></span></span><span> </span><span id="local-6989586621682476864"><span class="annot"><a href="#local-6989586621682476864"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-536"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Removed"><span class="annot"><a href="GHC.Types.Unique.FM.html#Removed"><span class="hs-identifier hs-var">Removed</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621682476864"><span class="hs-identifier hs-type">a</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Element was removed from the container</span></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Added"><span class="annot"><a href="GHC.Types.Unique.FM.html#Added"><span class="hs-identifier hs-var">Added</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621682476864"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Element was added to the container</span></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Changed"><span class="annot"><a href="GHC.Types.Unique.FM.html#Changed"><span class="hs-identifier hs-var">Changed</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621682476864"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621682476864"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Element was changed. Carries the values before and after</span></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682477551"><span id="local-6989586621682477560"><span class="annot"><span class="annottext">Edit a -&gt; Edit a -&gt; Bool
(Edit a -&gt; Edit a -&gt; Bool)
-&gt; (Edit a -&gt; Edit a -&gt; Bool) -&gt; Eq (Edit a)
forall a. Eq a =&gt; Edit a -&gt; Edit a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a. Eq a =&gt; Edit a -&gt; Edit a -&gt; Bool
== :: Edit a -&gt; Edit a -&gt; Bool
$c/= :: forall a. Eq a =&gt; Edit a -&gt; Edit a -&gt; Bool
/= :: Edit a -&gt; Edit a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682476854"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476854"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#Edit"><span class="hs-identifier hs-type">Edit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476854"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-542"></span><span>  </span><span id="local-6989586621682477579"><span class="annot"><span class="annottext">ppr :: Edit a -&gt; SDoc
</span><a href="#local-6989586621682477579"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#Removed"><span class="hs-identifier hs-type">Removed</span></a></span><span> </span><span id="local-6989586621682477581"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477581"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477581"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-543"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#Added"><span class="hs-identifier hs-type">Added</span></a></span><span> </span><span id="local-6989586621682477584"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477584"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477584"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#Changed"><span class="hs-identifier hs-type">Changed</span></a></span><span> </span><span id="local-6989586621682477585"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477585"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682477586"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477586"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477585"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477586"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span class="hs-comment">-- A very convient function to have for debugging:</span><span>
</span><span id="line-547"></span><span class="hs-comment">-- | Computes the diff of two 'UniqFM's in terms of 'Edit's.</span><span>
</span><span id="line-548"></span><span class="hs-comment">-- Equal points will not be present in the result map at all.</span><span>
</span><span id="line-549"></span><span id="local-6989586621682476858"><span id="local-6989586621682476859"><span class="annot"><a href="GHC.Types.Unique.FM.html#diffUFM"><span class="hs-identifier hs-type">diffUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621682476858"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476859"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476858"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476859"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476858"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476859"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#Edit"><span class="hs-identifier hs-type">Edit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476858"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-550"></span><span id="diffUFM"><span class="annot"><span class="annottext">diffUFM :: forall {k} a (key :: k).
Eq a =&gt;
UniqFM key a -&gt; UniqFM key a -&gt; UniqFM key (Edit a)
</span><a href="GHC.Types.Unique.FM.html#diffUFM"><span class="hs-identifier hs-var hs-var">diffUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Maybe (Edit a))
-&gt; (UniqFM key a -&gt; UniqFM key (Edit a))
-&gt; (UniqFM key a -&gt; UniqFM key (Edit a))
-&gt; UniqFM key a
-&gt; UniqFM key a
-&gt; UniqFM key (Edit a)
forall {k} elta eltb eltc (key :: k).
(elta -&gt; eltb -&gt; Maybe eltc)
-&gt; (UniqFM key elta -&gt; UniqFM key eltc)
-&gt; (UniqFM key eltb -&gt; UniqFM key eltc)
-&gt; UniqFM key elta
-&gt; UniqFM key eltb
-&gt; UniqFM key eltc
</span><a href="GHC.Types.Unique.FM.html#mergeUFM"><span class="hs-identifier hs-var">mergeUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Maybe (Edit a)
forall {a}. Eq a =&gt; a -&gt; a -&gt; Maybe (Edit a)
</span><a href="#local-6989586621682477589"><span class="hs-identifier hs-var">both</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Edit a) -&gt; UniqFM key a -&gt; UniqFM key (Edit a)
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier hs-var">mapUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Edit a
forall a. a -&gt; Edit a
</span><a href="GHC.Types.Unique.FM.html#Removed"><span class="hs-identifier hs-var">Removed</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Edit a) -&gt; UniqFM key a -&gt; UniqFM key (Edit a)
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier hs-var">mapUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Edit a
forall a. a -&gt; Edit a
</span><a href="GHC.Types.Unique.FM.html#Added"><span class="hs-identifier hs-var">Added</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-552"></span><span>    </span><span id="local-6989586621682477589"><span class="annot"><span class="annottext">both :: a -&gt; a -&gt; Maybe (Edit a)
</span><a href="#local-6989586621682477589"><span class="hs-identifier hs-var hs-var">both</span></a></span></span><span> </span><span id="local-6989586621682477592"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477592"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682477593"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477593"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477592"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477593"><span class="hs-identifier hs-var">y</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Edit a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-553"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Edit a -&gt; Maybe (Edit a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Edit a -&gt; Maybe (Edit a)) -&gt; Edit a -&gt; Maybe (Edit a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Edit a
forall a. a -&gt; a -&gt; Edit a
</span><a href="GHC.Types.Unique.FM.html#Changed"><span class="hs-identifier hs-var">Changed</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477592"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477593"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="hs-comment">-- Instances</span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682476875"><span id="local-6989586621682476876"><span id="local-6989586621682477597"><span id="local-6989586621682477601"><span class="annot"><span class="hs-identifier hs-type">Semi.Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476875"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476876"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-558"></span><span>  </span><span id="local-6989586621682477606"><span class="annot"><span class="annottext">&lt;&gt; :: UniqFM key a -&gt; UniqFM key a -&gt; UniqFM key a
</span><span class="hs-operator hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key a -&gt; UniqFM key a -&gt; UniqFM key a
forall {k} (key :: k) elt.
UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-var">plusUFM</span></a></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682476882"><span id="local-6989586621682476883"><span id="local-6989586621682477612"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476882"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476883"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-561"></span><span>    </span><span id="local-6989586621682477616"><span class="annot"><span class="annottext">mempty :: UniqFM key a
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key a
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-562"></span><span>    </span><span id="local-6989586621682477618"><span class="annot"><span class="annottext">mappend :: UniqFM key a -&gt; UniqFM key a -&gt; UniqFM key a
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM key a -&gt; UniqFM key a -&gt; UniqFM key a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(Semi.&lt;&gt;)</span></span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="hs-comment">-- Output-ery</span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682476888"><span id="local-6989586621682476889"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476889"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476888"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-567"></span><span>    </span><span id="local-6989586621682477623"><span class="annot"><span class="annottext">ppr :: UniqFM key a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682477624"><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477624"><span class="hs-identifier hs-var">ufm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; SDoc) -&gt; UniqFM key a -&gt; SDoc
forall {k} a (key :: k). (a -&gt; SDoc) -&gt; UniqFM key a -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pprUniqFM"><span class="hs-identifier hs-var">pprUniqFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477624"><span class="hs-identifier hs-var">ufm</span></a></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span id="local-6989586621682476891"><span id="local-6989586621682476892"><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUniqFM"><span class="hs-identifier hs-type">pprUniqFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682476891"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476892"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476891"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span></span><span>
</span><span id="line-570"></span><span id="pprUniqFM"><span class="annot"><span class="annottext">pprUniqFM :: forall {k} a (key :: k). (a -&gt; SDoc) -&gt; UniqFM key a -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pprUniqFM"><span class="hs-identifier hs-var hs-var">pprUniqFM</span></a></span></span><span> </span><span id="local-6989586621682477634"><span class="annot"><span class="annottext">a -&gt; SDoc
</span><a href="#local-6989586621682477634"><span class="hs-identifier hs-var">ppr_elt</span></a></span></span><span> </span><span id="local-6989586621682477635"><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477635"><span class="hs-identifier hs-var">ufm</span></a></span></span><span>
</span><span id="line-571"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall doc. IsLine doc =&gt; doc -&gt; [doc] -&gt; [doc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477640"><span class="hs-identifier hs-var">uq</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
</span><a href="#local-6989586621682477634"><span class="hs-identifier hs-var">ppr_elt</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477642"><span class="hs-identifier hs-var">elt</span></a></span><span>
</span><span id="line-573"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682477640"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682477640"><span class="hs-identifier hs-var">uq</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682477642"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682477642"><span class="hs-identifier hs-var">elt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqFM key a -&gt; [(Unique, a)]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [(Unique, elt)]
</span><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier hs-var">nonDetUFMToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477635"><span class="hs-identifier hs-var">ufm</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-574"></span><span>  </span><span class="hs-comment">-- It's OK to use nonDetUFMToList here because we only use it for</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-comment">-- pretty-printing.</span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span class="hs-comment">-- | Pretty-print a non-deterministic set.</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- The order of variables is non-deterministic and for pretty-printing that</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- shouldn't be a problem.</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- Having this function helps contain the non-determinism created with</span><span>
</span><span id="line-581"></span><span class="hs-comment">-- nonDetEltsUFM.</span><span>
</span><span id="line-582"></span><span id="local-6989586621682476900"><span id="local-6989586621682476901"><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUFM"><span class="hs-identifier hs-type">pprUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476900"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476901"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ The things to be pretty printed</span></span><span>
</span><span id="line-583"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682476901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ The pretty printing function to use on the elements</span></span><span>
</span><span id="line-584"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span></span><span>          </span><span class="hs-comment">-- ^ 'SDoc' where the things have been pretty</span><span>
</span><span id="line-585"></span><span>                        </span><span class="hs-comment">-- printed</span><span>
</span><span id="line-586"></span><span id="pprUFM"><span class="annot"><span class="annottext">pprUFM :: forall {k} (key :: k) a. UniqFM key a -&gt; ([a] -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pprUFM"><span class="hs-identifier hs-var hs-var">pprUFM</span></a></span></span><span> </span><span id="local-6989586621682477643"><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477643"><span class="hs-identifier hs-var">ufm</span></a></span></span><span> </span><span id="local-6989586621682477644"><span class="annot"><span class="annottext">[a] -&gt; SDoc
</span><a href="#local-6989586621682477644"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; SDoc
</span><a href="#local-6989586621682477644"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqFM key a -&gt; [a]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-var">nonDetEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477643"><span class="hs-identifier hs-var">ufm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span class="hs-comment">-- | Pretty-print a non-deterministic set.</span><span>
</span><span id="line-589"></span><span class="hs-comment">-- The order of variables is non-deterministic and for pretty-printing that</span><span>
</span><span id="line-590"></span><span class="hs-comment">-- shouldn't be a problem.</span><span>
</span><span id="line-591"></span><span class="hs-comment">-- Having this function helps contain the non-determinism created with</span><span>
</span><span id="line-592"></span><span class="hs-comment">-- nonDetUFMToList.</span><span>
</span><span id="line-593"></span><span id="local-6989586621682476906"><span id="local-6989586621682476907"><span class="annot"><a href="GHC.Types.Unique.FM.html#pprUFMWithKeys"><span class="hs-identifier hs-type">pprUFMWithKeys</span></a></span><span>
</span><span id="line-594"></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476906"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476907"><span class="hs-identifier hs-type">a</span></a></span><span>                </span><span class="annot"><span class="hs-comment">-- ^ The things to be pretty printed</span></span><span>
</span><span id="line-595"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682476907"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ The pretty printing function to use on the elements</span></span><span>
</span><span id="line-596"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span></span><span>                    </span><span class="hs-comment">-- ^ 'SDoc' where the things have been pretty</span><span>
</span><span id="line-597"></span><span>                                  </span><span class="hs-comment">-- printed</span><span>
</span><span id="line-598"></span><span id="pprUFMWithKeys"><span class="annot"><span class="annottext">pprUFMWithKeys :: forall {k} (key :: k) a.
UniqFM key a -&gt; ([(Unique, a)] -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pprUFMWithKeys"><span class="hs-identifier hs-var hs-var">pprUFMWithKeys</span></a></span></span><span> </span><span id="local-6989586621682477645"><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477645"><span class="hs-identifier hs-var">ufm</span></a></span></span><span> </span><span id="local-6989586621682477646"><span class="annot"><span class="annottext">[(Unique, a)] -&gt; SDoc
</span><a href="#local-6989586621682477646"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Unique, a)] -&gt; SDoc
</span><a href="#local-6989586621682477646"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqFM key a -&gt; [(Unique, a)]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [(Unique, elt)]
</span><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier hs-var">nonDetUFMToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477645"><span class="hs-identifier hs-var">ufm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- | Determines the pluralisation suffix appropriate for the length of a set</span><span>
</span><span id="line-601"></span><span class="hs-comment">-- in the same way that plural from Outputable does for lists.</span><span>
</span><span id="line-602"></span><span id="local-6989586621682476912"><span id="local-6989586621682476913"><span class="annot"><a href="GHC.Types.Unique.FM.html#pluralUFM"><span class="hs-identifier hs-type">pluralUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476912"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682476913"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span></span><span>
</span><span id="line-603"></span><span id="pluralUFM"><span class="annot"><span class="annottext">pluralUFM :: forall {k} (key :: k) a. UniqFM key a -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pluralUFM"><span class="hs-identifier hs-var hs-var">pluralUFM</span></a></span></span><span> </span><span id="local-6989586621682477653"><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477653"><span class="hs-identifier hs-var">ufm</span></a></span></span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">UniqFM key a -&gt; Int
forall {k} (key :: k) elt. UniqFM key elt -&gt; Int
</span><a href="GHC.Types.Unique.FM.html#sizeUFM"><span class="hs-identifier hs-var">sizeUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM key a
</span><a href="#local-6989586621682477653"><span class="hs-identifier hs-var">ufm</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-605"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'s'</span></span><span>
</span><span id="line-606"></span></pre></body></html>