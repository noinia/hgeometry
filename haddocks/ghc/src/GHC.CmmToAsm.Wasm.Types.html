<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE Strict #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilyDependencies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UnboxedTuples #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html"><span class="hs-identifier">GHC.CmmToAsm.Wasm.Types</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier">WasmType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier">WasmTypeTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier">SomeWasmType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier">TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#someWasmTypesFromTypeList"><span class="hs-identifier">someWasmTypesFromTypeList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier">WasmFunctionType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier">SymName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymVisibility"><span class="hs-identifier">SymVisibility</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymKind"><span class="hs-identifier">SymKind</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionKind"><span class="hs-identifier">DataSectionKind</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionContent"><span class="hs-identifier">DataSectionContent</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSection"><span class="hs-identifier">DataSection</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#GlobalInfo"><span class="hs-identifier">GlobalInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#LocalInfo"><span class="hs-identifier">LocalInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier">FuncBody</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier">Signage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier">WasmInstr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier">WasmExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier">SomeWasmExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier">WasmStatements</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier">WasmControl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#BrTableInterval"><span class="hs-identifier">BrTableInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmControlCast"><span class="hs-identifier">wasmControlCast</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#initialWasmCodeGenState"><span class="hs-identifier">initialWasmCodeGenState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier">WasmCodeGenM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier">wasmGetsM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier">wasmPlatformM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier">wasmWordTypeM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier">wasmWordCmmTypeM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier">wasmStateM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier">wasmModifyM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmExecM"><span class="hs-identifier">wasmExecM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmRunM"><span class="hs-identifier">wasmRunM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAsmConfig"><span class="hs-identifier">WasmAsmConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#defaultWasmAsmConfig"><span class="hs-identifier">defaultWasmAsmConfig</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">where</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Coerce.html"><span class="hs-identifier">Data.Coerce</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Functor.html"><span class="hs-identifier">Data.Functor</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.String.html"><span class="hs-identifier">Data.String</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Type.Equality.html"><span class="hs-identifier">Data.Type.Equality</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.html"><span class="hs-identifier">GHC.Cmm</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.Float.html"><span class="hs-identifier">GHC.Float</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html"><span class="hs-identifier">GHC.Types.Unique.Map</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html"><span class="hs-identifier">GHC.Types.Unique.DSM</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Monad.State.Strict.html"><span class="hs-identifier">GHC.Utils.Monad.State.Strict</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator">(&lt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Unsafe.Coerce.html"><span class="hs-identifier">Unsafe.Coerce</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | WebAssembly type of a WebAssembly value that WebAssembly code</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- could either expect on the evaluation stack or leave on the</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- evaluation stack.</span><span>
</span><span id="line-80"></span><span class="hs-keyword">data</span><span> </span><span id="WasmType"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-var">WasmType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="I32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-var">I32</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="I64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-var">I64</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="F32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F32"><span class="hs-identifier hs-var">F32</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="F64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F64"><span class="hs-identifier hs-var">F64</span></a></span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Singleton type useful for programming with `WasmType` at the type</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- level.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="WasmTypeTag"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-var">WasmTypeTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>  </span><span id="TagI32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span id="TagI64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span id="TagF32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F32"><span class="hs-identifier hs-type">F32</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span id="TagF64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F64"><span class="hs-identifier hs-type">F64</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span id="local-6989586621682808374"><span id="local-6989586621682808617"><span id="local-6989586621682808619"><span id="local-6989586621682808623"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808374"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TestEquality</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span id="local-6989586621682808631"><span class="annot"><span class="annottext">testEquality :: forall (a :: WasmType) (b :: WasmType).
WasmTypeTag a -&gt; WasmTypeTag b -&gt; Maybe (a :~: b)
</span><a href="#local-6989586621682808631"><span class="hs-operator hs-var hs-var hs-var">`testEquality`</span></a></span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: b) -&gt; Maybe (a :~: b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
a :~: b
forall {k} (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">`testEquality`</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: b) -&gt; Maybe (a :~: b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
a :~: b
forall {k} (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">`testEquality`</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: b) -&gt; Maybe (a :~: b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
a :~: b
forall {k} (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">`testEquality`</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: b) -&gt; Maybe (a :~: b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
a :~: b
forall {k} (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">`testEquality`</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">data</span><span> </span><span id="SomeWasmType"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>  </span><span id="local-6989586621682808641"><span id="SomeWasmType"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808641"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682808645"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682808649"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808649"><span class="hs-identifier hs-var">ty0</span></a></span></span><span> </span><span id="local-6989586621682808650"><span class="annot"><span class="annottext">== :: SomeWasmType -&gt; SomeWasmType -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682808652"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808652"><span class="hs-identifier hs-var">ty1</span></a></span></span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: t
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808649"><span class="hs-identifier hs-var">ty0</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmTypeTag t -&gt; Maybe (t :~: t)
forall {k} (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
forall (a :: WasmType) (b :: WasmType).
WasmTypeTag a -&gt; WasmTypeTag b -&gt; Maybe (a :~: b)
</span><span class="hs-operator hs-var">`testEquality`</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808652"><span class="hs-identifier hs-var">ty1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | List of WebAssembly types used to describe the sequence of</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- WebAssembly values that a block of code may expect on the stack or</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- leave on the stack.</span><span>
</span><span id="line-110"></span><span class="hs-keyword">data</span><span> </span><span id="TypeList"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-var">TypeList</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="TypeListNil"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListNil"><span class="hs-identifier hs-var">TypeListNil</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621682808655"><span id="local-6989586621682808656"><span id="TypeListCons"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListCons"><span class="hs-identifier hs-var">TypeListCons</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808655"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808656"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808655"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808656"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span id="local-6989586621682808390"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#someWasmTypesFromTypeList"><span class="hs-identifier hs-type">someWasmTypesFromTypeList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808390"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-115"></span><span id="someWasmTypesFromTypeList"><span class="annot"><span class="annottext">someWasmTypesFromTypeList :: forall (ts :: [WasmType]). TypeList ts -&gt; [SomeWasmType]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#someWasmTypesFromTypeList"><span class="hs-identifier hs-var hs-var">someWasmTypesFromTypeList</span></a></span></span><span> </span><span class="annot"><span class="annottext">TypeList ts
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListNil"><span class="hs-identifier hs-var">TypeListNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#someWasmTypesFromTypeList"><span class="hs-identifier hs-var">someWasmTypesFromTypeList</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682808660"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808660"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListCons"><span class="hs-operator hs-type">`TypeListCons`</span></a></span><span> </span><span id="local-6989586621682808661"><span class="annot"><span class="annottext">TypeList ts
</span><a href="#local-6989586621682808661"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682808660"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">SomeWasmType -&gt; [SomeWasmType] -&gt; [SomeWasmType]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">TypeList ts -&gt; [SomeWasmType]
forall (ts :: [WasmType]). TypeList ts -&gt; [SomeWasmType]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#someWasmTypesFromTypeList"><span class="hs-identifier hs-var">someWasmTypesFromTypeList</span></a></span><span> </span><span class="annot"><span class="annottext">TypeList ts
</span><a href="#local-6989586621682808661"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">-- | The type of a WebAssembly function, loop, block, or conditional.</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- This type says what values the code expects to pop off the stack</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- and what values it promises to push.  The WebAssembly standard</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- requires that this type appear explicitly in the code.</span><span>
</span><span id="line-123"></span><span class="hs-keyword">data</span><span> </span><span id="WasmFunctionType"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier hs-var">WasmFunctionType</span></a></span></span><span> </span><span id="local-6989586621682808396"><span class="annot"><a href="#local-6989586621682808396"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682808397"><span class="annot"><a href="#local-6989586621682808397"><span class="hs-identifier hs-type">post</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmFunctionType"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier hs-var">WasmFunctionType</span></a></span></span><span> </span><span class="hs-special">{</span><span id="ft_pops"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (post :: [WasmType]).
WasmFunctionType pre post -&gt; TypeList pre
</span><a href="GHC.CmmToAsm.Wasm.Types.html#ft_pops"><span class="hs-identifier hs-var hs-var">ft_pops</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808396"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">,</span><span> </span><span id="ft_pushes"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (post :: [WasmType]).
WasmFunctionType pre post -&gt; TypeList post
</span><a href="GHC.CmmToAsm.Wasm.Types.html#ft_pushes"><span class="hs-identifier hs-var hs-var">ft_pushes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808397"><span class="hs-identifier hs-type">post</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | For simplicity, we record other metadata in 'WasmCodeGenState' by</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- need, instead of carrying them along with 'SymName'.</span><span>
</span><span id="line-127"></span><span class="hs-keyword">newtype</span><span> </span><span id="SymName"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-var">SymName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SymName"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-var">SymName</span></a></span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682808668"><span id="local-6989586621682808673"><span class="annot"><span class="annottext">SymName -&gt; SymName -&gt; Bool
(SymName -&gt; SymName -&gt; Bool)
-&gt; (SymName -&gt; SymName -&gt; Bool) -&gt; Eq SymName
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SymName -&gt; SymName -&gt; Bool
== :: SymName -&gt; SymName -&gt; Bool
$c/= :: SymName -&gt; SymName -&gt; Bool
/= :: SymName -&gt; SymName -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682808679"><span class="annot"><span class="annottext">String -&gt; SymName
(String -&gt; SymName) -&gt; IsString SymName
forall a. (String -&gt; a) -&gt; IsString a
$cfromString :: String -&gt; SymName
fromString :: String -&gt; SymName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">IsString</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682808686"><span id="local-6989586621682808691"><span id="local-6989586621682808695"><span class="annot"><span class="annottext">Int -&gt; SymName -&gt; ShowS
[SymName] -&gt; ShowS
SymName -&gt; String
(Int -&gt; SymName -&gt; ShowS)
-&gt; (SymName -&gt; String) -&gt; ([SymName] -&gt; ShowS) -&gt; Show SymName
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SymName -&gt; ShowS
showsPrec :: Int -&gt; SymName -&gt; ShowS
$cshow :: SymName -&gt; String
show :: SymName -&gt; String
$cshowList :: [SymName] -&gt; ShowS
showList :: [SymName] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682808702"><span class="annot"><span class="annottext">SymName -&gt; Unique
(SymName -&gt; Unique) -&gt; Uniquable SymName
forall a. (a -&gt; Unique) -&gt; Uniquable a
$cgetUnique :: SymName -&gt; Unique
getUnique :: SymName -&gt; Unique
</span><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-var hs-var hs-var hs-var">Uniquable</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682808712"><span id="local-6989586621682808717"><span id="local-6989586621682808721"><span id="local-6989586621682808725"><span id="local-6989586621682808729"><span id="local-6989586621682808733"><span id="local-6989586621682808737"><span class="annot"><span class="annottext">Eq SymName
Eq SymName =&gt;
(SymName -&gt; SymName -&gt; Ordering)
-&gt; (SymName -&gt; SymName -&gt; Bool)
-&gt; (SymName -&gt; SymName -&gt; Bool)
-&gt; (SymName -&gt; SymName -&gt; Bool)
-&gt; (SymName -&gt; SymName -&gt; Bool)
-&gt; (SymName -&gt; SymName -&gt; SymName)
-&gt; (SymName -&gt; SymName -&gt; SymName)
-&gt; Ord SymName
SymName -&gt; SymName -&gt; Bool
SymName -&gt; SymName -&gt; Ordering
SymName -&gt; SymName -&gt; SymName
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SymName -&gt; SymName -&gt; Ordering
compare :: SymName -&gt; SymName -&gt; Ordering
$c&lt; :: SymName -&gt; SymName -&gt; Bool
&lt; :: SymName -&gt; SymName -&gt; Bool
$c&lt;= :: SymName -&gt; SymName -&gt; Bool
&lt;= :: SymName -&gt; SymName -&gt; Bool
$c&gt; :: SymName -&gt; SymName -&gt; Bool
&gt; :: SymName -&gt; SymName -&gt; Bool
$c&gt;= :: SymName -&gt; SymName -&gt; Bool
&gt;= :: SymName -&gt; SymName -&gt; Bool
$cmax :: SymName -&gt; SymName -&gt; SymName
max :: SymName -&gt; SymName -&gt; SymName
$cmin :: SymName -&gt; SymName -&gt; SymName
min :: SymName -&gt; SymName -&gt; SymName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#LexicalFastString"><span class="hs-identifier hs-type">LexicalFastString</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">data</span><span> </span><span id="SymVisibility"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymVisibility"><span class="hs-identifier hs-var">SymVisibility</span></a></span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | Not defined in the current compilation unit.</span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- @[ undefined binding=global vis=default ]@</span><span>
</span><span id="line-135"></span><span>    </span><span id="SymUndefined"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymUndefined"><span class="hs-identifier hs-var">SymUndefined</span></a></span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Defined, not visible to other compilation units.</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-comment">-- @[ binding=local vis=default ]@</span><span>
</span><span id="line-139"></span><span>    </span><span id="SymStatic"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymStatic"><span class="hs-identifier hs-var">SymStatic</span></a></span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Defined, visible to other compilation units.</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- Adds @.globl@ directives in the output assembly. Also adds</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- @.hidden@ when not generating PIC code, similar to</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-comment">-- -fvisibility=hidden in clang.</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-comment">-- @[ binding=global vis=hidden ]@</span><span>
</span><span id="line-147"></span><span>    </span><span id="SymDefault"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymDefault"><span class="hs-identifier hs-var">SymDefault</span></a></span></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | Represents whether a symbol is a data symbol or a function</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- symbol. Unlike linkers for other targets, @wasm-ld@ does panic at</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- link-time if it finds symbol kind inconsistency between the</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- definition site and other use sites.</span><span>
</span><span id="line-153"></span><span class="hs-comment">--</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- Currently we solely rely on 'isCFunctionLabel' to determine a</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- symbol's kind, but it does take extra effort to make it work. The</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- main source of inconsistency arises from hand-written Cmm sources,</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- where it's possible to refer to external entities like @xxx_info@</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- and @xxx_closure@ without explicit @import CLOSURE@ declarations.</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- The Cmm parser will implicitly assume those are foreign function</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- labels, and then this will break the WebAssembly backend. #22368</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- provides more context on this issue.</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- tl;dr for any GHC contributor that accidentally triggers @wasm-ld@</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- errors when hacking Cmm: whatever data symbols are used in new</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- code, just add the corresponding @import CLOSURE@ declarations at</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- the top of that Cmm file.</span><span>
</span><span id="line-167"></span><span class="hs-keyword">data</span><span> </span><span id="SymKind"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymKind"><span class="hs-identifier hs-var">SymKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SymData"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymData"><span class="hs-identifier hs-var">SymData</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SymFunc"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymFunc"><span class="hs-identifier hs-var">SymFunc</span></a></span></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682808754"><span id="local-6989586621682808759"><span class="annot"><span class="annottext">SymKind -&gt; SymKind -&gt; Bool
(SymKind -&gt; SymKind -&gt; Bool)
-&gt; (SymKind -&gt; SymKind -&gt; Bool) -&gt; Eq SymKind
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SymKind -&gt; SymKind -&gt; Bool
== :: SymKind -&gt; SymKind -&gt; Bool
$c/= :: SymKind -&gt; SymKind -&gt; Bool
/= :: SymKind -&gt; SymKind -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- | WebAssembly doesn't really have proper read-only memory regions</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- yet. Neverthless we add the .rodata logic here, wasm-ld will</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- aggregate all .rodata sections into a single one, which adds</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- possibility for runtime checks later, either via a customized</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- runtime, or via code instrumentation. See</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- &lt;https://github.com/llvm/llvm-project/blob/b296aed8ae239c20ebdd7969e978f8d2a3b9c178/lld/wasm/Writer.cpp#L856&gt;</span><span>
</span><span id="line-176"></span><span class="hs-keyword">data</span><span> </span><span id="DataSectionKind"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionKind"><span class="hs-identifier hs-var">DataSectionKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SectionData"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SectionData"><span class="hs-identifier hs-var">SectionData</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SectionROData"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SectionROData"><span class="hs-identifier hs-var">SectionROData</span></a></span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- | Neither Cmm or Wasm type system takes integer signedness into</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- account, therefore we always round up a 'CmmLit' to the right width</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- and handle it as an untyped integer.</span><span>
</span><span id="line-181"></span><span class="hs-keyword">data</span><span> </span><span id="DataSectionContent"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionContent"><span class="hs-identifier hs-var">DataSectionContent</span></a></span></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DataI8"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataI8"><span class="hs-identifier hs-var">DataI8</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataI16"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataI16"><span class="hs-identifier hs-var">DataI16</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataI32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataI32"><span class="hs-identifier hs-var">DataI32</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataI64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataI64"><span class="hs-identifier hs-var">DataI64</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataF32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataF32"><span class="hs-identifier hs-var">DataF32</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataF64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataF64"><span class="hs-identifier hs-var">DataF64</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataSym"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSym"><span class="hs-identifier hs-var">DataSym</span></a></span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataSkip"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSkip"><span class="hs-identifier hs-var">DataSkip</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataASCII"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataASCII"><span class="hs-identifier hs-var">DataASCII</span></a></span></span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataIncBin"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataIncBin"><span class="hs-identifier hs-var">DataIncBin</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">data</span><span> </span><span id="DataSection"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSection"><span class="hs-identifier hs-var">DataSection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DataSection"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSection"><span class="hs-identifier hs-var">DataSection</span></a></span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dataSectionKind"><span class="annot"><span class="annottext">DataSection -&gt; DataSectionKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#dataSectionKind"><span class="hs-identifier hs-var hs-var">dataSectionKind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionKind"><span class="hs-identifier hs-type">DataSectionKind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-195"></span><span>    </span><span id="dataSectionAlignment"><span class="annot"><span class="annottext">DataSection -&gt; Alignment
</span><a href="GHC.CmmToAsm.Wasm.Types.html#dataSectionAlignment"><span class="hs-identifier hs-var hs-var">dataSectionAlignment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-197"></span><span>    </span><span id="dataSectionContents"><span class="annot"><span class="annottext">DataSection -&gt; [DataSectionContent]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#dataSectionContents"><span class="hs-identifier hs-var hs-var">dataSectionContents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionContent"><span class="hs-identifier hs-type">DataSectionContent</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-comment">-- | We need to remember the symbols. Determinism is achieved by</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- sorting symbols before writing the assembly.</span><span>
</span><span id="line-202"></span><span class="hs-keyword">type</span><span> </span><span id="SymMap"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymMap"><span class="hs-identifier hs-var">SymMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="annot"><span class="hs-comment">-- | No need to remember the symbols.</span></span><span>
</span><span id="line-205"></span><span class="hs-keyword">type</span><span> </span><span id="SymSet"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymSet"><span class="hs-identifier hs-var">SymSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html#UniqueSet"><span class="hs-identifier hs-type">UniqueSet</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">type</span><span> </span><span id="GlobalInfo"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#GlobalInfo"><span class="hs-identifier hs-var">GlobalInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">type</span><span> </span><span id="LocalInfo"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#LocalInfo"><span class="hs-identifier hs-var">LocalInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-keyword">data</span><span> </span><span id="FuncBody"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier hs-var">FuncBody</span></a></span></span><span> </span><span id="local-6989586621682808420"><span class="annot"><a href="#local-6989586621682808420"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FuncBody"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier hs-var">FuncBody</span></a></span></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="funcLocals"><span class="annot"><span class="annottext">forall (w :: WasmType). FuncBody w -&gt; [SomeWasmType]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcLocals"><span class="hs-identifier hs-var hs-var">funcLocals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-comment">-- | Most are Cmm functions, but may also contain synthesized</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-comment">-- function of other types, sigh.</span><span>
</span><span id="line-215"></span><span>    </span><span id="funcBody"><span class="annot"><span class="annottext">forall (w :: WasmType).
FuncBody w
-&gt; WasmControl (WasmStatements w) (WasmExpr w w) '[] '[w]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcBody"><span class="hs-identifier hs-var hs-var">funcBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808420"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808420"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808420"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682808420"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">data</span><span> </span><span id="Signage"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-var">Signage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Signed"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Unsigned"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | The @w@ type variable in the Wasm IR stands for &quot;platform word</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- type&quot;, so 'TagI32' on wasm32, and 'TagI64' on wasm64. This way, we</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- can make the codegen logic work on both wasm32/wasm64 in a</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- type-safe manner.</span><span>
</span><span id="line-224"></span><span class="hs-keyword">data</span><span> </span><span id="WasmInstr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-var">WasmInstr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621682808787"><span id="local-6989586621682808788"><span id="WasmComment"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmComment"><span class="hs-identifier hs-var">WasmComment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808787"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808788"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808788"><span class="hs-identifier hs-type">pre</span></a></span></span></span><span>
</span><span id="line-226"></span><span>  </span><span id="local-6989586621682808790"><span id="local-6989586621682808791"><span id="WasmNop"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808790"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808791"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808791"><span class="hs-identifier hs-type">pre</span></a></span></span></span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621682808793"><span id="local-6989586621682808794"><span id="local-6989586621682808795"><span id="WasmDrop"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmDrop"><span class="hs-identifier hs-var">WasmDrop</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808793"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808794"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808795"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682808795"><span class="hs-identifier hs-type">pre</span></a></span></span></span></span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621682808797"><span id="local-6989586621682808798"><span id="local-6989586621682808799"><span id="WasmUnreachable"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmUnreachable"><span class="hs-identifier hs-var">WasmUnreachable</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808797"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808798"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808799"><span class="hs-identifier hs-type">post</span></a></span></span></span></span><span>
</span><span id="line-229"></span><span>  </span><span id="local-6989586621682808801"><span id="local-6989586621682808802"><span id="local-6989586621682808803"><span id="WasmConst"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808801"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808802"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808803"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808801"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808803"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621682808805"><span id="local-6989586621682808806"><span id="WasmSymConst"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808805"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808806"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808805"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808806"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-231"></span><span>  </span><span id="local-6989586621682808808"><span id="local-6989586621682808809"><span id="local-6989586621682808810"><span id="WasmLoad"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-var">WasmLoad</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808808"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808809"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808809"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808810"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808808"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808810"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621682808813"><span id="local-6989586621682808814"><span id="local-6989586621682808815"><span id="WasmStore"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStore"><span class="hs-identifier hs-var">WasmStore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808813"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="#local-6989586621682808814"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-245"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808813"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808814"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808815"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><a href="#local-6989586621682808815"><span class="hs-identifier hs-type">pre</span></a></span></span></span></span><span>
</span><span id="line-247"></span><span>  </span><span id="local-6989586621682808817"><span id="local-6989586621682808818"><span id="local-6989586621682808819"><span id="WasmGlobalGet"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGlobalGet"><span class="hs-identifier hs-var">WasmGlobalGet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808817"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808818"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808819"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808817"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808819"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621682808821"><span id="local-6989586621682808822"><span id="local-6989586621682808823"><span id="WasmGlobalSet"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGlobalSet"><span class="hs-identifier hs-var">WasmGlobalSet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808821"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808822"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808821"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808823"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682808823"><span class="hs-identifier hs-type">pre</span></a></span></span></span></span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621682808825"><span id="local-6989586621682808826"><span id="local-6989586621682808827"><span id="WasmLocalGet"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalGet"><span class="hs-identifier hs-var">WasmLocalGet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808825"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808826"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808827"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808825"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808827"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621682808829"><span id="local-6989586621682808830"><span id="local-6989586621682808831"><span id="WasmLocalSet"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-var">WasmLocalSet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808829"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808830"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808829"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808831"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682808831"><span class="hs-identifier hs-type">pre</span></a></span></span></span></span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621682808833"><span id="local-6989586621682808834"><span id="local-6989586621682808835"><span id="WasmLocalTee"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalTee"><span class="hs-identifier hs-var">WasmLocalTee</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808833"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808834"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808833"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808835"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808833"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808835"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621682808837"><span id="local-6989586621682808838"><span id="local-6989586621682808839"><span id="WasmCCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCall"><span class="hs-identifier hs-var">WasmCCall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808837"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808838"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808839"><span class="hs-identifier hs-type">post</span></a></span></span></span></span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621682808841"><span id="local-6989586621682808842"><span id="local-6989586621682808843"><span id="local-6989586621682808844"><span id="local-6989586621682808845"><span id="WasmCCallIndirect"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCallIndirect"><span class="hs-identifier hs-var">WasmCCallIndirect</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808841"><span class="hs-identifier hs-type">arg_tys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808842"><span class="hs-identifier hs-type">ret_tys</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><a href="#local-6989586621682808843"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808843"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808844"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><a href="#local-6989586621682808845"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span></span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621682808847"><span id="local-6989586621682808848"><span id="local-6989586621682808849"><span id="local-6989586621682808850"><span id="WasmConcat"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-identifier hs-var">WasmConcat</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808847"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808848"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808849"><span class="hs-identifier hs-type">mid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808847"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808849"><span class="hs-identifier hs-type">mid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808850"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808847"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808848"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808850"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621682808852"><span id="local-6989586621682808853"><span id="local-6989586621682808854"><span id="local-6989586621682808855"><span id="WasmReinterpret"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmReinterpret"><span class="hs-identifier hs-var">WasmReinterpret</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808852"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808853"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-268"></span><span>      </span><span class="annot"><a href="#local-6989586621682808854"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-269"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808852"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808855"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808853"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808855"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-271"></span><span>  </span><span id="local-6989586621682808857"><span id="local-6989586621682808858"><span id="local-6989586621682808859"><span id="local-6989586621682808860"><span id="WasmTruncSat"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTruncSat"><span class="hs-identifier hs-var">WasmTruncSat</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808857"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-274"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808858"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span class="annot"><a href="#local-6989586621682808859"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808857"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808860"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808858"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808860"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621682808862"><span id="local-6989586621682808863"><span id="local-6989586621682808864"><span id="local-6989586621682808865"><span id="WasmConvert"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConvert"><span class="hs-identifier hs-var">WasmConvert</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808862"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808863"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><a href="#local-6989586621682808864"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808862"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808865"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808863"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808865"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621682808867"><span id="local-6989586621682808868"><span id="local-6989586621682808869"><span id="WasmAdd"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAdd"><span class="hs-identifier hs-var">WasmAdd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808868"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808869"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808869"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-288"></span><span>  </span><span id="local-6989586621682808871"><span id="local-6989586621682808872"><span id="local-6989586621682808873"><span id="WasmSub"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSub"><span class="hs-identifier hs-var">WasmSub</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808871"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808872"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808871"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808871"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808873"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808871"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808873"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-289"></span><span>  </span><span id="local-6989586621682808875"><span id="local-6989586621682808876"><span id="local-6989586621682808877"><span id="WasmMul"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmMul"><span class="hs-identifier hs-var">WasmMul</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808875"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808876"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808875"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808875"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808877"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808875"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808877"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621682808879"><span id="local-6989586621682808880"><span id="local-6989586621682808881"><span id="WasmDiv"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmDiv"><span class="hs-identifier hs-var">WasmDiv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808879"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808880"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808879"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808879"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808881"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808879"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808881"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-291"></span><span>  </span><span id="local-6989586621682808883"><span id="local-6989586621682808884"><span id="local-6989586621682808885"><span id="WasmRem"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmRem"><span class="hs-identifier hs-var">WasmRem</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808884"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808885"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808885"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621682808887"><span id="local-6989586621682808888"><span id="local-6989586621682808889"><span id="WasmAnd"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808887"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808888"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808887"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808887"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808889"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808887"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808889"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621682808891"><span id="local-6989586621682808892"><span id="local-6989586621682808893"><span id="WasmOr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmOr"><span class="hs-identifier hs-var">WasmOr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808891"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808892"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808891"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808891"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808893"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808891"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808893"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-294"></span><span>  </span><span id="local-6989586621682808895"><span id="local-6989586621682808896"><span id="local-6989586621682808897"><span id="WasmXor"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmXor"><span class="hs-identifier hs-var">WasmXor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808895"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808896"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808895"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808895"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808897"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808895"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808897"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621682808899"><span id="local-6989586621682808900"><span id="local-6989586621682808901"><span id="WasmEq"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmEq"><span class="hs-identifier hs-var">WasmEq</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808899"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808900"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808899"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808899"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808901"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808900"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808901"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-296"></span><span>  </span><span id="local-6989586621682808903"><span id="local-6989586621682808904"><span id="local-6989586621682808905"><span id="WasmNe"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNe"><span class="hs-identifier hs-var">WasmNe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808903"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808904"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808903"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808903"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808905"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808904"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808905"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-297"></span><span>  </span><span id="local-6989586621682808907"><span id="local-6989586621682808908"><span id="local-6989586621682808909"><span id="WasmLt"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLt"><span class="hs-identifier hs-var">WasmLt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808907"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808908"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808907"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808907"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808909"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808908"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808909"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621682808911"><span id="local-6989586621682808912"><span id="local-6989586621682808913"><span id="WasmGt"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGt"><span class="hs-identifier hs-var">WasmGt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808911"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808912"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808911"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808911"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808913"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808912"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808913"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621682808915"><span id="local-6989586621682808916"><span id="local-6989586621682808917"><span id="WasmLe"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLe"><span class="hs-identifier hs-var">WasmLe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808915"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808916"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808915"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808915"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808917"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808916"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808917"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-300"></span><span>  </span><span id="local-6989586621682808919"><span id="local-6989586621682808920"><span id="local-6989586621682808921"><span id="WasmGe"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGe"><span class="hs-identifier hs-var">WasmGe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808919"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808920"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808919"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808919"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808921"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808920"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808921"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621682808923"><span id="local-6989586621682808924"><span id="local-6989586621682808925"><span id="WasmShl"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmShl"><span class="hs-identifier hs-var">WasmShl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808924"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808925"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808925"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-302"></span><span>  </span><span id="local-6989586621682808927"><span id="local-6989586621682808928"><span id="local-6989586621682808929"><span id="WasmShr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmShr"><span class="hs-identifier hs-var">WasmShr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808927"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808928"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808927"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808927"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808929"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808927"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808929"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-303"></span><span>  </span><span id="local-6989586621682808931"><span id="local-6989586621682808932"><span id="WasmI32Extend8S"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32Extend8S"><span class="hs-identifier hs-var">WasmI32Extend8S</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808931"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808932"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808932"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-304"></span><span>  </span><span id="local-6989586621682808934"><span id="local-6989586621682808935"><span id="WasmI32Extend16S"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32Extend16S"><span class="hs-identifier hs-var">WasmI32Extend16S</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808934"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808935"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808935"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621682808937"><span id="local-6989586621682808938"><span id="WasmI64Extend8S"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend8S"><span class="hs-identifier hs-var">WasmI64Extend8S</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808937"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808938"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808938"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-306"></span><span>  </span><span id="local-6989586621682808940"><span id="local-6989586621682808941"><span id="WasmI64Extend16S"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend16S"><span class="hs-identifier hs-var">WasmI64Extend16S</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808940"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808941"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808941"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-307"></span><span>  </span><span id="local-6989586621682808943"><span id="local-6989586621682808944"><span id="WasmI64Extend32S"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend32S"><span class="hs-identifier hs-var">WasmI64Extend32S</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808943"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808944"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808944"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621682808946"><span id="local-6989586621682808947"><span id="WasmI64ExtendI32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64ExtendI32"><span class="hs-identifier hs-var">WasmI64ExtendI32</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signage"><span class="hs-identifier hs-type">Signage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808946"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808947"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808947"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-309"></span><span>  </span><span id="local-6989586621682808949"><span id="local-6989586621682808950"><span id="WasmI32WrapI64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32WrapI64"><span class="hs-identifier hs-var">WasmI32WrapI64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808949"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808950"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808950"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-310"></span><span>  </span><span id="local-6989586621682808952"><span id="local-6989586621682808953"><span id="WasmF32DemoteF64"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmF32DemoteF64"><span class="hs-identifier hs-var">WasmF32DemoteF64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808952"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F64"><span class="hs-identifier hs-type">F64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808953"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F32"><span class="hs-identifier hs-type">F32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808953"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621682808955"><span id="local-6989586621682808956"><span id="WasmF64PromoteF32"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmF64PromoteF32"><span class="hs-identifier hs-var">WasmF64PromoteF32</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808955"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F32"><span class="hs-identifier hs-type">F32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808956"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#F64"><span class="hs-identifier hs-type">F64</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808956"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-312"></span><span>  </span><span id="local-6989586621682808958"><span id="local-6989586621682808959"><span id="local-6989586621682808960"><span id="WasmAbs"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAbs"><span class="hs-identifier hs-var">WasmAbs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808958"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808959"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808958"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808960"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808958"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808960"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-313"></span><span>  </span><span id="local-6989586621682808962"><span id="local-6989586621682808963"><span id="local-6989586621682808964"><span id="WasmNeg"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNeg"><span class="hs-identifier hs-var">WasmNeg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808962"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808963"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808962"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808964"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808962"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808964"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-314"></span><span>  </span><span id="local-6989586621682808966"><span id="local-6989586621682808967"><span id="local-6989586621682808968"><span id="WasmMin"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmMin"><span class="hs-identifier hs-var">WasmMin</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808966"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808967"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808966"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808966"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808968"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808966"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808968"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621682808970"><span id="local-6989586621682808971"><span id="local-6989586621682808972"><span id="WasmMax"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmMax"><span class="hs-identifier hs-var">WasmMax</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808970"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808971"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808970"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808970"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808972"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808970"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808972"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-316"></span><span>  </span><span id="local-6989586621682808974"><span id="local-6989586621682808975"><span id="WasmCond"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCond"><span class="hs-identifier hs-var">WasmCond</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808974"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808975"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808975"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808974"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808974"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808975"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682808975"><span class="hs-identifier hs-type">pre</span></a></span></span></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-keyword">newtype</span><span> </span><span id="WasmExpr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span></span><span> </span><span id="local-6989586621682808977"><span class="annot"><a href="#local-6989586621682808977"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621682808978"><span class="annot"><a href="#local-6989586621682808978"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmExpr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682808980"><span class="annot"><a href="#local-6989586621682808980"><span class="hs-identifier hs-type">pre</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808977"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808980"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808978"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808980"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-keyword">data</span><span> </span><span id="SomeWasmExpr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span></span><span> </span><span id="local-6989586621682808981"><span class="annot"><a href="#local-6989586621682808981"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-321"></span><span>  </span><span id="local-6989586621682808982"><span id="local-6989586621682808983"><span id="SomeWasmExpr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808982"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808983"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808982"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808983"><span class="hs-identifier hs-type">w</span></a></span></span></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-keyword">newtype</span><span> </span><span id="WasmStatements"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span></span><span> </span><span id="local-6989586621682808985"><span class="annot"><a href="#local-6989586621682808985"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmStatements"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682808987"><span class="annot"><a href="#local-6989586621682808987"><span class="hs-identifier hs-type">pre</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808985"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808987"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808987"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">-- | Representation of WebAssembly control flow.</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- Normally written as</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-328"></span><span class="hs-comment">--   WasmControl s e pre post</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- Type parameter `s` is the type of (unspecified) statements.</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- It might be instantiated with an open Cmm block or with a sequence</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- of Wasm instructions.</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- Parameter `e` is the type of expressions.</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- Parameter `pre` represents the values that are expected on the</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- WebAssembly stack when the code runs, and `post` represents</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- the state of the stack on completion.</span><span>
</span><span id="line-337"></span><span class="hs-keyword">data</span><span> </span><span id="WasmControl"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-var">WasmControl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span id="local-6989586621682808988"><span id="local-6989586621682808989"><span id="local-6989586621682808990"><span id="local-6989586621682808991"><span id="WasmPush"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmPush"><span class="hs-identifier hs-var">WasmPush</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808988"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682808989"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808990"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808989"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808991"><span class="hs-identifier hs-type">stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808988"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682808991"><span class="hs-identifier hs-type">stack</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-339"></span><span>  </span><span id="local-6989586621682808993"><span id="local-6989586621682808994"><span id="local-6989586621682808995"><span id="local-6989586621682808996"><span id="WasmBlock"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmBlock"><span class="hs-identifier hs-var">WasmBlock</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier hs-type">WasmFunctionType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808993"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808994"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808995"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808996"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808993"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808994"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808995"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808996"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808993"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808994"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span><span>
</span><span id="line-343"></span><span>  </span><span id="local-6989586621682808998"><span id="local-6989586621682808999"><span id="local-6989586621682809000"><span id="local-6989586621682809001"><span id="WasmLoop"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoop"><span class="hs-identifier hs-var">WasmLoop</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-344"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier hs-type">WasmFunctionType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808998"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808999"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809001"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808998"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808999"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-346"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809001"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808998"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808999"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span><span>
</span><span id="line-347"></span><span>  </span><span id="local-6989586621682809003"><span id="local-6989586621682809004"><span id="local-6989586621682809005"><span id="local-6989586621682809006"><span id="WasmIfTop"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmIfTop"><span class="hs-identifier hs-var">WasmIfTop</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFunctionType"><span class="hs-identifier hs-type">WasmFunctionType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809003"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809004"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809005"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809006"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809003"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809004"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809005"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809006"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809003"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809004"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809005"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809006"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682809003"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682809004"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span><span>
</span><span id="line-352"></span><span>  </span><span id="local-6989586621682809008"><span id="local-6989586621682809009"><span id="local-6989586621682809010"><span id="local-6989586621682809011"><span id="WasmBr"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmBr"><span class="hs-identifier hs-var">WasmBr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809009"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809010"><span class="hs-identifier hs-type">dropped</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809011"><span class="hs-identifier hs-type">destination</span></a></span></span></span></span></span><span> </span><span class="hs-comment">-- not typechecked</span><span>
</span><span id="line-353"></span><span>  </span><span id="local-6989586621682809013"><span id="local-6989586621682809014"><span id="local-6989586621682809015"><span id="local-6989586621682809016"><span id="WasmFallthrough"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmFallthrough"><span class="hs-identifier hs-var">WasmFallthrough</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809013"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809014"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809015"><span class="hs-identifier hs-type">dropped</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809016"><span class="hs-identifier hs-type">destination</span></a></span></span></span></span></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">-- generates no code, but has the same type as a branch</span><span>
</span><span id="line-355"></span><span>  </span><span id="local-6989586621682809018"><span id="local-6989586621682809019"><span id="local-6989586621682809020"><span id="local-6989586621682809021"><span id="WasmBrTable"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmBrTable"><span class="hs-identifier hs-var">WasmBrTable</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="#local-6989586621682809018"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#BrTableInterval"><span class="hs-identifier hs-type">BrTableInterval</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- for testing</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- targets</span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- default target</span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809019"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809018"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809020"><span class="hs-identifier hs-type">dropped</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809021"><span class="hs-identifier hs-type">destination</span></a></span></span></span></span></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-comment">-- invariant: the table interval is contained</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-comment">-- within [0 .. pred (length targets)]</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-comment">-- Note [WasmTailCall]</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-comment">-- This represents the exit point of each CmmGraph: tail calling the</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-comment">-- destination in CmmCall. The STG stack may grow before the call,</span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-comment">-- but it's always a tail call in the sense that the C call stack is</span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-comment">-- guaranteed not to grow.</span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-comment">-- In the wasm backend, WasmTailCall is lowered to different</span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-comment">-- assembly code given whether the wasm tail-call extension is</span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-comment">-- enabled:</span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-comment">-- When tail-call is not enabled (which is the default as of today),</span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-comment">-- a WasmTailCall is lowered to code that pushes the callee function</span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-comment">-- pointer onto the value stack and returns immediately. The actual</span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-comment">-- call is done by the trampoline in StgRun.</span><span>
</span><span id="line-379"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-comment">-- When tail-call is indeed enabled via passing -mtail-call in</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-comment">-- CONF_CC_OPTS_STAGE2 at configure time, a WasmTailCall is lowered</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-comment">-- to return_call/return_call_indirect, thus tail calling into its</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-comment">-- callee without returning to StgRun.</span><span>
</span><span id="line-384"></span><span>  </span><span id="local-6989586621682809023"><span id="local-6989586621682809024"><span id="local-6989586621682809025"><span id="local-6989586621682809026"><span id="WasmTailCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTailCall"><span class="hs-identifier hs-var">WasmTailCall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><a href="#local-6989586621682809023"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809024"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809023"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809025"><span class="hs-identifier hs-type">t1star</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809026"><span class="hs-identifier hs-type">t2star</span></a></span></span></span></span></span><span> </span><span class="hs-comment">-- as per type system</span><span>
</span><span id="line-387"></span><span>  </span><span id="local-6989586621682809028"><span id="local-6989586621682809029"><span id="local-6989586621682809030"><span id="WasmActions"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmActions"><span class="hs-identifier hs-var">WasmActions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><a href="#local-6989586621682809028"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-389"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809028"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809029"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809030"><span class="hs-identifier hs-type">stack</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809030"><span class="hs-identifier hs-type">stack</span></a></span></span></span></span><span> </span><span class="hs-comment">-- basic block: one entry, one exit</span><span>
</span><span id="line-390"></span><span>  </span><span id="local-6989586621682809032"><span id="local-6989586621682809033"><span id="local-6989586621682809034"><span id="local-6989586621682809035"><span id="local-6989586621682809036"><span id="WasmSeq"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSeq"><span class="hs-identifier hs-var">WasmSeq</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809032"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809034"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809035"><span class="hs-identifier hs-type">mid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809032"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809035"><span class="hs-identifier hs-type">mid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809036"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809032"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809034"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809036"><span class="hs-identifier hs-type">post</span></a></span></span></span></span></span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-keyword">data</span><span> </span><span id="BrTableInterval"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#BrTableInterval"><span class="hs-identifier hs-var">BrTableInterval</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BrTableInterval"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#BrTableInterval"><span class="hs-identifier hs-var">BrTableInterval</span></a></span></span><span> </span><span class="hs-special">{</span><span id="bti_lo"><span class="annot"><span class="annottext">BrTableInterval -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Types.html#bti_lo"><span class="hs-identifier hs-var hs-var">bti_lo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span> </span><span id="bti_count"><span class="annot"><span class="annottext">BrTableInterval -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Types.html#bti_count"><span class="hs-identifier hs-var hs-var">bti_count</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">}</span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682809042"><span id="local-6989586621682809049"><span id="local-6989586621682809053"><span class="annot"><span class="annottext">Int -&gt; BrTableInterval -&gt; ShowS
[BrTableInterval] -&gt; ShowS
BrTableInterval -&gt; String
(Int -&gt; BrTableInterval -&gt; ShowS)
-&gt; (BrTableInterval -&gt; String)
-&gt; ([BrTableInterval] -&gt; ShowS)
-&gt; Show BrTableInterval
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; BrTableInterval -&gt; ShowS
showsPrec :: Int -&gt; BrTableInterval -&gt; ShowS
$cshow :: BrTableInterval -&gt; String
show :: BrTableInterval -&gt; String
$cshowList :: [BrTableInterval] -&gt; ShowS
showList :: [BrTableInterval] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#BrTableInterval"><span class="hs-identifier hs-type">BrTableInterval</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-399"></span><span>  </span><span id="local-6989586621682809068"><span class="annot"><span class="annottext">ppr :: BrTableInterval -&gt; SDoc
</span><a href="#local-6989586621682809068"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682809070"><span class="annot"><span class="annottext">BrTableInterval
</span><a href="#local-6989586621682809070"><span class="hs-identifier hs-var">range</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-400"></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-401"></span><span>      </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; SDoc
forall doc. IsLine doc =&gt; Integer -&gt; doc
</span><a href="GHC.Utils.Outputable.html#integer"><span class="hs-identifier hs-var">integer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BrTableInterval -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Types.html#bti_lo"><span class="hs-identifier hs-var">bti_lo</span></a></span><span> </span><span class="annot"><span class="annottext">BrTableInterval
</span><a href="#local-6989586621682809070"><span class="hs-identifier hs-var">range</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; SDoc
forall doc. IsLine doc =&gt; Integer -&gt; doc
</span><a href="GHC.Utils.Outputable.html#integer"><span class="hs-identifier hs-var">integer</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682809075"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-404"></span><span>      </span><span id="local-6989586621682809075"><span class="annot"><span class="annottext">hi :: Integer
</span><a href="#local-6989586621682809075"><span class="hs-identifier hs-var hs-var">hi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BrTableInterval -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Types.html#bti_lo"><span class="hs-identifier hs-var">bti_lo</span></a></span><span> </span><span class="annot"><span class="annottext">BrTableInterval
</span><a href="#local-6989586621682809070"><span class="hs-identifier hs-var">range</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">BrTableInterval -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Types.html#bti_count"><span class="hs-identifier hs-var">bti_count</span></a></span><span> </span><span class="annot"><span class="annottext">BrTableInterval
</span><a href="#local-6989586621682809070"><span class="hs-identifier hs-var">range</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span id="local-6989586621682808440"><span id="local-6989586621682808441"><span id="local-6989586621682808442"><span id="local-6989586621682808443"><span id="local-6989586621682808444"><span id="local-6989586621682808445"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmControlCast"><span class="hs-identifier hs-type">wasmControlCast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808440"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808441"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808442"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808443"><span class="hs-identifier hs-type">post</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmControl"><span class="hs-identifier hs-type">WasmControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808440"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808441"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808444"><span class="hs-identifier hs-type">pre'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808445"><span class="hs-identifier hs-type">post'</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-407"></span><span id="wasmControlCast"><span class="annot"><span class="annottext">wasmControlCast :: forall s e (pre :: [WasmType]) (post :: [WasmType])
       (pre' :: [WasmType]) (post' :: [WasmType]).
WasmControl s e pre post -&gt; WasmControl s e pre' post'
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmControlCast"><span class="hs-identifier hs-var hs-var">wasmControlCast</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmControl s e pre post -&gt; WasmControl s e pre' post'
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-keyword">data</span><span> </span><span id="WasmCodeGenState"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-var">WasmCodeGenState</span></a></span></span><span> </span><span id="local-6989586621682808454"><span class="annot"><a href="#local-6989586621682808454"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmCodeGenState"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-var">WasmCodeGenState</span></a></span></span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="hs-comment">-- | Target platform</span></span><span>
</span><span id="line-411"></span><span>    </span><span id="wasmPlatform"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-identifier hs-var hs-var">wasmPlatform</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Defined symbols with 'SymDefault' visibility.</span></span><span>
</span><span id="line-413"></span><span>    </span><span id="defaultSyms"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#defaultSyms"><span class="hs-identifier hs-var hs-var">defaultSyms</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymSet"><span class="hs-identifier hs-type">SymSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-comment">-- | Function types, defined or not. There may exist a function</span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-comment">-- whose type is unknown (e.g. as a function pointer), in that</span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-comment">-- case we fall back to () -&gt; (), it's imperfect but works with</span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-comment">-- wasm-ld.</span><span>
</span><span id="line-418"></span><span>    </span><span id="funcTypes"><span class="annot"><span class="annottext">forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcTypes"><span class="hs-identifier hs-var hs-var">funcTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymMap"><span class="hs-identifier hs-type">SymMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-419"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Defined function bodies.</span></span><span>
</span><span id="line-420"></span><span>    </span><span id="funcBodies"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcBodies"><span class="hs-identifier hs-var hs-var">funcBodies</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymMap"><span class="hs-identifier hs-type">SymMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier hs-type">FuncBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808454"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Defined data sections.</span></span><span>
</span><span id="line-422"></span><span>    </span><span id="dataSections"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
</span><a href="GHC.CmmToAsm.Wasm.Types.html#dataSections"><span class="hs-identifier hs-var hs-var">dataSections</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymMap"><span class="hs-identifier hs-type">SymMap</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSection"><span class="hs-identifier hs-type">DataSection</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-423"></span><span>    </span><span class="annot"><span class="hs-comment">-- | ctors in the current compilation unit.</span></span><span>
</span><span id="line-424"></span><span>    </span><span id="ctors"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#ctors"><span class="hs-identifier hs-var hs-var">ctors</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-425"></span><span>    </span><span id="localRegs"><span class="annot"><span class="annottext">forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg LocalInfo
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-identifier hs-var hs-var">localRegs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-426"></span><span>      </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#LocalInfo"><span class="hs-identifier hs-type">LocalInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-427"></span><span>    </span><span id="localRegsCount"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; Int
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegsCount"><span class="hs-identifier hs-var hs-var">localRegsCount</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-428"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span>
</span><span id="line-429"></span><span>    </span><span id="wasmDUniqSupply"><span class="annot"><span class="annottext">forall (w :: WasmType). WasmCodeGenState w -&gt; DUniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmDUniqSupply"><span class="hs-identifier hs-var hs-var">wasmDUniqSupply</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html#DUniqSupply"><span class="hs-identifier hs-type">DUniqSupply</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span id="local-6989586621682808472"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#initialWasmCodeGenState"><span class="hs-identifier hs-type">initialWasmCodeGenState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html#DUniqSupply"><span class="hs-identifier hs-type">DUniqSupply</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808472"><span class="hs-identifier hs-type">w</span></a></span></span><span>
</span><span id="line-433"></span><span id="initialWasmCodeGenState"><span class="annot"><span class="annottext">initialWasmCodeGenState :: forall (w :: WasmType).
Platform -&gt; DUniqSupply -&gt; WasmCodeGenState w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#initialWasmCodeGenState"><span class="hs-identifier hs-var hs-var">initialWasmCodeGenState</span></a></span></span><span> </span><span id="local-6989586621682809087"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682809087"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682809088"><span class="annot"><span class="annottext">DUniqSupply
</span><a href="#local-6989586621682809088"><span class="hs-identifier hs-var">us</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">wasmPlatform :: Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-identifier hs-var">wasmPlatform</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-436"></span><span>        </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682809087"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-437"></span><span>      </span><span class="annot"><span class="annottext">defaultSyms :: SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#defaultSyms"><span class="hs-identifier hs-var">defaultSyms</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymSet
</span><a href="GHC.Types.Unique.Set.html#emptyUniqueSet"><span class="hs-identifier hs-var">emptyUniqueSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-438"></span><span>      </span><span class="annot"><span class="annottext">funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcTypes"><span class="hs-identifier hs-var">funcTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymMap ([SomeWasmType], [SomeWasmType])
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-439"></span><span>      </span><span class="annot"><span class="annottext">funcBodies :: SymMap (FuncBody w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#funcBodies"><span class="hs-identifier hs-var">funcBodies</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">SymMap (FuncBody w)
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-441"></span><span>      </span><span class="annot"><span class="annottext">dataSections :: SymMap DataSection
</span><a href="GHC.CmmToAsm.Wasm.Types.html#dataSections"><span class="hs-identifier hs-var">dataSections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymMap DataSection
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-442"></span><span>      </span><span class="annot"><span class="annottext">ctors :: [SymName]
</span><a href="GHC.CmmToAsm.Wasm.Types.html#ctors"><span class="hs-identifier hs-var">ctors</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-443"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-444"></span><span>      </span><span class="annot"><span class="annottext">localRegs :: UniqFM LocalReg LocalInfo
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-identifier hs-var">localRegs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM LocalReg LocalInfo
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">localRegsCount :: Int
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegsCount"><span class="hs-identifier hs-var">localRegsCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span>
</span><span id="line-446"></span><span>      </span><span class="annot"><span class="annottext">wasmDUniqSupply :: DUniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmDUniqSupply"><span class="hs-identifier hs-var">wasmDUniqSupply</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DUniqSupply
</span><a href="#local-6989586621682809088"><span class="hs-identifier hs-var">us</span></a></span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-keyword">newtype</span><span> </span><span id="WasmCodeGenM"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-var">WasmCodeGenM</span></a></span></span><span> </span><span id="local-6989586621682809092"><span class="annot"><a href="#local-6989586621682809092"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621682809093"><span class="annot"><a href="#local-6989586621682809093"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmCodeGenM"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-var">WasmCodeGenM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Monad.State.Strict.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682809092"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682809093"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682809096"><span id="local-6989586621682809101"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b)
-&gt; (forall a b. a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a)
-&gt; Functor (WasmCodeGenM w)
forall a b. a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
forall a b. (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
forall (w :: WasmType) a b.
a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
forall (w :: WasmType) a b.
(a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall (w :: WasmType) a b.
(a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
fmap :: forall a b. (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
$c&lt;$ :: forall (w :: WasmType) a b.
a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
&lt;$ :: forall a b. a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682809110"><span id="local-6989586621682809115"><span id="local-6989586621682809119"><span id="local-6989586621682809123"><span id="local-6989586621682809127"><span class="annot"><span class="annottext">Functor (WasmCodeGenM w)
Functor (WasmCodeGenM w) =&gt;
(forall a. a -&gt; WasmCodeGenM w a)
-&gt; (forall a b.
    WasmCodeGenM w (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c)
    -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w c)
-&gt; (forall a b.
    WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b)
-&gt; (forall a b.
    WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a)
-&gt; Applicative (WasmCodeGenM w)
forall a. a -&gt; WasmCodeGenM w a
forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
forall a b.
WasmCodeGenM w (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
forall a b c.
(a -&gt; b -&gt; c)
-&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w c
forall (w :: WasmType). Functor (WasmCodeGenM w)
forall (w :: WasmType) a. a -&gt; WasmCodeGenM w a
forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
forall (w :: WasmType) a b.
WasmCodeGenM w (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
forall (w :: WasmType) a b c.
(a -&gt; b -&gt; c)
-&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w c
forall (f :: * -&gt; *).
Functor f =&gt;
(forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall (w :: WasmType) a. a -&gt; WasmCodeGenM w a
pure :: forall a. a -&gt; WasmCodeGenM w a
$c&lt;*&gt; :: forall (w :: WasmType) a b.
WasmCodeGenM w (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
&lt;*&gt; :: forall a b.
WasmCodeGenM w (a -&gt; b) -&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b
$cliftA2 :: forall (w :: WasmType) a b c.
(a -&gt; b -&gt; c)
-&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w c
liftA2 :: forall a b c.
(a -&gt; b -&gt; c)
-&gt; WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w c
$c*&gt; :: forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
*&gt; :: forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
$c&lt;* :: forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
&lt;* :: forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682809137"><span id="local-6989586621682809142"><span id="local-6989586621682809146"><span class="annot"><span class="annottext">Applicative (WasmCodeGenM w)
Applicative (WasmCodeGenM w) =&gt;
(forall a b.
 WasmCodeGenM w a -&gt; (a -&gt; WasmCodeGenM w b) -&gt; WasmCodeGenM w b)
-&gt; (forall a b.
    WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b)
-&gt; (forall a. a -&gt; WasmCodeGenM w a)
-&gt; Monad (WasmCodeGenM w)
forall a. a -&gt; WasmCodeGenM w a
forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
forall a b.
WasmCodeGenM w a -&gt; (a -&gt; WasmCodeGenM w b) -&gt; WasmCodeGenM w b
forall (w :: WasmType). Applicative (WasmCodeGenM w)
forall (w :: WasmType) a. a -&gt; WasmCodeGenM w a
forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; (a -&gt; WasmCodeGenM w b) -&gt; WasmCodeGenM w b
forall (m :: * -&gt; *).
Applicative m =&gt;
(forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; (a -&gt; WasmCodeGenM w b) -&gt; WasmCodeGenM w b
&gt;&gt;= :: forall a b.
WasmCodeGenM w a -&gt; (a -&gt; WasmCodeGenM w b) -&gt; WasmCodeGenM w b
$c&gt;&gt; :: forall (w :: WasmType) a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
&gt;&gt; :: forall a b.
WasmCodeGenM w a -&gt; WasmCodeGenM w b -&gt; WasmCodeGenM w b
$creturn :: forall (w :: WasmType) a. a -&gt; WasmCodeGenM w a
return :: forall a. a -&gt; WasmCodeGenM w a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682808537"><span class="annot"><a href="GHC.Types.Unique.DSM.html#MonadUniqDSM"><span class="hs-identifier hs-type">MonadUniqDSM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808537"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-453"></span><span>  </span><span id="local-6989586621682809156"><span class="annot"><span class="annottext">liftUniqDSM :: forall a. UniqDSM a -&gt; WasmCodeGenM w a
</span><a href="#local-6989586621682809156"><span class="hs-identifier hs-var hs-var hs-var">liftUniqDSM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.DSM.html#UDSM"><span class="hs-identifier hs-type">UDSM</span></a></span><span> </span><span id="local-6989586621682809159"><span class="annot"><span class="annottext">DUniqSupply -&gt; DUniqResult a
</span><a href="#local-6989586621682809159"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-var">wasmStateM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
 -&gt; WasmCodeGenM w a)
-&gt; (WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682809160"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809160"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html#DUniqResult"><span class="hs-identifier hs-type">DUniqResult</span></a></span><span> </span><span id="local-6989586621682809162"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682809162"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682809163"><span class="annot"><span class="annottext">DUniqSupply
</span><a href="#local-6989586621682809163"><span class="hs-identifier hs-var">us'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DUniqSupply -&gt; DUniqResult a
</span><a href="#local-6989586621682809159"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WasmCodeGenState w -&gt; DUniqSupply
forall (w :: WasmType). WasmCodeGenState w -&gt; DUniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmDUniqSupply"><span class="hs-identifier hs-var">wasmDUniqSupply</span></a></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809160"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682809162"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809160"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmDUniqSupply"><span class="hs-identifier hs-var">wasmDUniqSupply</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="#local-6989586621682809163"><span class="hs-identifier hs-type">us'</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span id="local-6989586621682808542"><span id="local-6989586621682808543"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier hs-type">wasmGetsM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808542"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682808543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808542"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808543"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-458"></span><span id="wasmGetsM"><span class="annot"><span class="annottext">wasmGetsM :: forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; a) -&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier hs-var hs-var">wasmGetsM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a -&gt; WasmCodeGenM w a
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">(State (WasmCodeGenState w) a -&gt; WasmCodeGenM w a)
-&gt; ((WasmCodeGenState w -&gt; a) -&gt; State (WasmCodeGenState w) a)
-&gt; (WasmCodeGenState w -&gt; a)
-&gt; WasmCodeGenM w a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; a) -&gt; State (WasmCodeGenState w) a
forall s a. (s -&gt; a) -&gt; State s a
</span><a href="GHC.Utils.Monad.State.Strict.html#gets"><span class="hs-identifier hs-var">gets</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span id="local-6989586621682808551"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-type">wasmPlatformM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808551"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span></span><span>
</span><span id="line-461"></span><span id="wasmPlatformM"><span class="annot"><span class="annottext">wasmPlatformM :: forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var hs-var">wasmPlatformM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; Platform) -&gt; WasmCodeGenM w Platform
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; a) -&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier hs-var">wasmGetsM</span></a></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w -&gt; Platform
forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-identifier hs-var">wasmPlatform</span></a></span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span id="local-6989586621682808553"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-type">wasmWordTypeM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808553"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808553"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-464"></span><span id="wasmWordTypeM"><span class="annot"><span class="annottext">wasmWordTypeM :: forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var hs-var">wasmWordTypeM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; WasmTypeTag w)
-&gt; WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; a) -&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier hs-var">wasmGetsM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; WasmTypeTag w)
 -&gt; WasmCodeGenM w (WasmTypeTag w))
-&gt; (WasmCodeGenState w -&gt; WasmTypeTag w)
-&gt; WasmCodeGenM w (WasmTypeTag w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682809167"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809167"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#target32Bit"><span class="hs-identifier hs-var">target32Bit</span></a></span><span> </span><span class="annot"><span class="annottext">(Platform -&gt; Bool) -&gt; Platform -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w -&gt; Platform
forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-identifier hs-var">wasmPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809167"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; WasmTypeTag w
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64 -&gt; WasmTypeTag w
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span id="local-6989586621682808555"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-type">wasmWordCmmTypeM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808555"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span></span><span>
</span><span id="line-470"></span><span id="wasmWordCmmTypeM"><span class="annot"><span class="annottext">wasmWordCmmTypeM :: forall (w :: WasmType). WasmCodeGenM w CmmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-var hs-var">wasmWordCmmTypeM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; CmmType) -&gt; WasmCodeGenM w CmmType
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; a) -&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmGetsM"><span class="hs-identifier hs-var">wasmGetsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">(Platform -&gt; CmmType)
-&gt; (WasmCodeGenState w -&gt; Platform)
-&gt; WasmCodeGenState w
-&gt; CmmType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w -&gt; Platform
forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-identifier hs-var">wasmPlatform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span id="local-6989586621682808540"><span id="local-6989586621682808541"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-type">wasmStateM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808540"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><a href="#local-6989586621682808541"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808540"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">#)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-474"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808540"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808541"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-475"></span><span id="wasmStateM"><span class="annot"><span class="annottext">wasmStateM :: forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-var hs-var">wasmStateM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a -&gt; WasmCodeGenM w a
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">(State (WasmCodeGenState w) a -&gt; WasmCodeGenM w a)
-&gt; ((WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
    -&gt; State (WasmCodeGenState w) a)
-&gt; (WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; State (WasmCodeGenState w) a
forall s a. (s -&gt; (# a, s #)) -&gt; State s a
</span><a href="GHC.Utils.Monad.State.Strict.html#State"><span class="hs-identifier hs-var">State</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span id="local-6989586621682808562"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-type">wasmModifyM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808562"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808562"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808562"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-478"></span><span id="wasmModifyM"><span class="annot"><span class="annottext">wasmModifyM :: forall (w :: WasmType).
(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-var hs-var">wasmModifyM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) () -&gt; WasmCodeGenM w ()
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span> </span><span class="annot"><span class="annottext">(State (WasmCodeGenState w) () -&gt; WasmCodeGenM w ())
-&gt; ((WasmCodeGenState w -&gt; WasmCodeGenState w)
    -&gt; State (WasmCodeGenState w) ())
-&gt; (WasmCodeGenState w -&gt; WasmCodeGenState w)
-&gt; WasmCodeGenM w ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; WasmCodeGenState w)
-&gt; State (WasmCodeGenState w) ()
forall s. (s -&gt; s) -&gt; State s ()
</span><a href="GHC.Utils.Monad.State.Strict.html#modify"><span class="hs-identifier hs-var">modify</span></a></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span id="local-6989586621682808565"><span id="local-6989586621682808566"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmExecM"><span class="hs-identifier hs-type">wasmExecM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808565"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808566"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808565"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808565"><span class="hs-identifier hs-type">w</span></a></span></span></span><span>
</span><span id="line-481"></span><span id="wasmExecM"><span class="annot"><span class="annottext">wasmExecM :: forall (w :: WasmType) a.
WasmCodeGenM w a -&gt; WasmCodeGenState w -&gt; WasmCodeGenState w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmExecM"><span class="hs-identifier hs-var hs-var">wasmExecM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span id="local-6989586621682809174"><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
</span><a href="#local-6989586621682809174"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
-&gt; WasmCodeGenState w -&gt; WasmCodeGenState w
forall s a. State s a -&gt; s -&gt; s
</span><a href="GHC.Utils.Monad.State.Strict.html#execState"><span class="hs-identifier hs-var">execState</span></a></span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
</span><a href="#local-6989586621682809174"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span id="local-6989586621682808571"><span id="local-6989586621682808572"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmRunM"><span class="hs-identifier hs-type">wasmRunM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808571"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808571"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682808572"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808571"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-484"></span><span id="wasmRunM"><span class="annot"><span class="annottext">wasmRunM :: forall (w :: WasmType) a.
WasmCodeGenM w a -&gt; WasmCodeGenState w -&gt; (a, WasmCodeGenState w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmRunM"><span class="hs-identifier hs-var hs-var">wasmRunM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span id="local-6989586621682809176"><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
</span><a href="#local-6989586621682809176"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
-&gt; WasmCodeGenState w -&gt; (a, WasmCodeGenState w)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="GHC.Utils.Monad.State.Strict.html#runState"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="annot"><span class="annottext">State (WasmCodeGenState w) a
</span><a href="#local-6989586621682809176"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682808580"><span class="annot"><a href="GHC.Types.Unique.DSM.html#MonadGetUnique"><span class="hs-identifier hs-type">MonadGetUnique</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808580"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-487"></span><span>  </span><span id="local-6989586621682809183"><span class="annot"><span class="annottext">getUniqueM :: WasmCodeGenM w Unique
</span><a href="#local-6989586621682809183"><span class="hs-identifier hs-var hs-var hs-var">getUniqueM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; (# Unique, WasmCodeGenState w #))
-&gt; WasmCodeGenM w Unique
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-var">wasmStateM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; (# Unique, WasmCodeGenState w #))
 -&gt; WasmCodeGenM w Unique)
-&gt; (WasmCodeGenState w -&gt; (# Unique, WasmCodeGenState w #))
-&gt; WasmCodeGenM w Unique
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-488"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621682809185"><span class="annot"><span class="annottext">s :: WasmCodeGenState w
</span><a href="#local-6989586621682809185"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682809186"><span id="local-6989586621682809187"><span id="local-6989586621682809188"><span id="local-6989586621682809189"><span id="local-6989586621682809190"><span id="local-6989586621682809191"><span id="local-6989586621682809192"><span id="local-6989586621682809193"><span id="local-6989586621682809194"><span class="annot"><span class="annottext">Int
[SymName]
UniqFM LocalReg LocalInfo
DUniqSupply
SymSet
SymMap ([SomeWasmType], [SomeWasmType])
SymMap (FuncBody w)
SymMap DataSection
Platform
wasmPlatform :: forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
defaultSyms :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymSet
funcTypes :: forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
dataSections :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
ctors :: forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
localRegs :: forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg LocalInfo
localRegsCount :: forall (w :: WasmType). WasmCodeGenState w -&gt; Int
wasmDUniqSupply :: forall (w :: WasmType). WasmCodeGenState w -&gt; DUniqSupply
wasmPlatform :: Platform
defaultSyms :: SymSet
funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: SymMap (FuncBody w)
dataSections :: SymMap DataSection
ctors :: [SymName]
localRegs :: UniqFM LocalReg LocalInfo
localRegsCount :: Int
wasmDUniqSupply :: DUniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DUniqSupply -&gt; (Unique, DUniqSupply)
</span><a href="GHC.Types.Unique.DSM.html#takeUniqueFromDSupply"><span class="hs-identifier hs-var">takeUniqueFromDSupply</span></a></span><span> </span><span class="annot"><span class="annottext">DUniqSupply
</span><a href="#local-6989586621682809194"><span class="hs-identifier hs-var">wasmDUniqSupply</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-489"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682809196"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682809196"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682809197"><span class="annot"><span class="annottext">DUniqSupply
</span><a href="#local-6989586621682809197"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682809196"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682809185"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmDUniqSupply"><span class="hs-identifier hs-var">wasmDUniqSupply</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682809197"><span class="hs-identifier hs-type">us</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-keyword">data</span><span> </span><span id="WasmAsmConfig"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAsmConfig"><span class="hs-identifier hs-var">WasmAsmConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WasmAsmConfig"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAsmConfig"><span class="hs-identifier hs-var">WasmAsmConfig</span></a></span></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-special">{</span><span>
</span><span id="line-493"></span><span>    </span><span id="pic"><span class="annot"><span class="annottext">WasmAsmConfig -&gt; Bool
</span><a href="GHC.CmmToAsm.Wasm.Types.html#pic"><span class="hs-identifier hs-var hs-var">pic</span></a></span></span><span class="hs-special">,</span><span> </span><span id="tailcall"><span class="annot"><span class="annottext">WasmAsmConfig -&gt; Bool
</span><a href="GHC.CmmToAsm.Wasm.Types.html#tailcall"><span class="hs-identifier hs-var hs-var">tailcall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-comment">-- | Data/function symbols with 'SymStatic' visibility (defined</span><span>
</span><span id="line-495"></span><span>    </span><span class="hs-comment">-- but not visible to other compilation units). When doing PIC</span><span>
</span><span id="line-496"></span><span>    </span><span class="hs-comment">-- codegen, private symbols must be emitted as @MBREL@/@TBREL@</span><span>
</span><span id="line-497"></span><span>    </span><span class="hs-comment">-- relocations in the code section. The public symbols, defined or</span><span>
</span><span id="line-498"></span><span>    </span><span class="hs-comment">-- elsewhere, are all emitted as @GOT@ relocations instead.</span><span>
</span><span id="line-499"></span><span>    </span><span id="mbrelSyms"><span class="annot"><span class="annottext">WasmAsmConfig -&gt; SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#mbrelSyms"><span class="hs-identifier hs-var hs-var">mbrelSyms</span></a></span></span><span class="hs-special">,</span><span> </span><span id="tbrelSyms"><span class="annot"><span class="annottext">WasmAsmConfig -&gt; SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#tbrelSyms"><span class="hs-identifier hs-var hs-var">tbrelSyms</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">~</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymSet"><span class="hs-identifier hs-type">SymSet</span></a></span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span class="hs-comment">-- | The default 'WasmAsmConfig' must be extracted from the final</span><span>
</span><span id="line-503"></span><span class="hs-comment">-- 'WasmCodeGenState'.</span><span>
</span><span id="line-504"></span><span id="local-6989586621682808582"><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#defaultWasmAsmConfig"><span class="hs-identifier hs-type">defaultWasmAsmConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808582"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAsmConfig"><span class="hs-identifier hs-type">WasmAsmConfig</span></a></span></span><span>
</span><span id="line-505"></span><span id="defaultWasmAsmConfig"><span class="annot"><span class="annottext">defaultWasmAsmConfig :: forall (w :: WasmType). WasmCodeGenState w -&gt; WasmAsmConfig
</span><a href="GHC.CmmToAsm.Wasm.Types.html#defaultWasmAsmConfig"><span class="hs-identifier hs-var hs-var">defaultWasmAsmConfig</span></a></span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682809203"><span id="local-6989586621682809204"><span id="local-6989586621682809205"><span id="local-6989586621682809206"><span id="local-6989586621682809207"><span id="local-6989586621682809208"><span id="local-6989586621682809209"><span id="local-6989586621682809210"><span id="local-6989586621682809211"><span class="annot"><span class="annottext">Int
[SymName]
UniqFM LocalReg LocalInfo
DUniqSupply
SymSet
SymMap ([SomeWasmType], [SomeWasmType])
SymMap (FuncBody w)
SymMap DataSection
Platform
wasmPlatform :: forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
defaultSyms :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymSet
funcTypes :: forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
dataSections :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
ctors :: forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
localRegs :: forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg LocalInfo
localRegsCount :: forall (w :: WasmType). WasmCodeGenState w -&gt; Int
wasmDUniqSupply :: forall (w :: WasmType). WasmCodeGenState w -&gt; DUniqSupply
wasmPlatform :: Platform
defaultSyms :: SymSet
funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: SymMap (FuncBody w)
dataSections :: SymMap DataSection
ctors :: [SymName]
localRegs :: UniqFM LocalReg LocalInfo
localRegsCount :: Int
wasmDUniqSupply :: DUniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatform"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAsmConfig"><span class="hs-identifier hs-type">WasmAsmConfig</span></a></span><span>
</span><span id="line-507"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pic :: Bool
</span><a href="GHC.CmmToAsm.Wasm.Types.html#pic"><span class="hs-identifier hs-var">pic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-508"></span><span>      </span><span class="annot"><span class="annottext">tailcall :: Bool
</span><a href="GHC.CmmToAsm.Wasm.Types.html#tailcall"><span class="hs-identifier hs-var">tailcall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-509"></span><span>      </span><span class="annot"><span class="annottext">mbrelSyms :: SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#mbrelSyms"><span class="hs-identifier hs-var">mbrelSyms</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymMap DataSection -&gt; SymSet
forall a. SymMap a -&gt; SymSet
</span><a href="#local-6989586621682809212"><span class="hs-identifier hs-var">mk_rel_syms</span></a></span><span> </span><span class="annot"><span class="annottext">SymMap DataSection
</span><a href="#local-6989586621682809207"><span class="hs-identifier hs-var">dataSections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-510"></span><span>      </span><span class="annot"><span class="annottext">tbrelSyms :: SymSet
</span><a href="GHC.CmmToAsm.Wasm.Types.html#tbrelSyms"><span class="hs-identifier hs-var">tbrelSyms</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymMap (FuncBody w) -&gt; SymSet
forall a. SymMap a -&gt; SymSet
</span><a href="#local-6989586621682809212"><span class="hs-identifier hs-var">mk_rel_syms</span></a></span><span> </span><span class="annot"><span class="annottext">SymMap (FuncBody w)
</span><a href="#local-6989586621682809206"><span class="hs-identifier hs-var">funcBodies</span></a></span><span>
</span><span id="line-511"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-513"></span><span>    </span><span id="local-6989586621682808584"><span class="annot"><a href="#local-6989586621682809212"><span class="hs-identifier hs-type">mk_rel_syms</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymMap"><span class="hs-identifier hs-type">SymMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682808584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymSet"><span class="hs-identifier hs-type">SymSet</span></a></span></span><span>
</span><span id="line-514"></span><span>    </span><span id="local-6989586621682809212"><span class="annot"><span class="annottext">mk_rel_syms :: forall a. SymMap a -&gt; SymSet
</span><a href="#local-6989586621682809212"><span class="hs-identifier hs-var hs-var">mk_rel_syms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-515"></span><span>      </span><span class="annot"><span class="annottext">((SymName, a) -&gt; SymSet -&gt; SymSet)
-&gt; SymSet -&gt; UniqMap SymName a -&gt; SymSet
forall k a b. ((k, a) -&gt; b -&gt; b) -&gt; b -&gt; UniqMap k a -&gt; b
</span><a href="GHC.Types.Unique.Map.html#nonDetFoldUniqMap"><span class="hs-identifier hs-var">nonDetFoldUniqMap</span></a></span><span>
</span><span id="line-516"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682809216"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682809216"><span class="hs-identifier hs-var">sym</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682809217"><span class="annot"><span class="annottext">SymSet
</span><a href="#local-6989586621682809217"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-517"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SymName -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682809216"><span class="hs-identifier hs-var">sym</span></a></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; SymSet -&gt; Bool
</span><a href="GHC.Types.Unique.Set.html#memberUniqueSet"><span class="hs-operator hs-var">`memberUniqueSet`</span></a></span><span> </span><span class="annot"><span class="annottext">SymSet
</span><a href="#local-6989586621682809204"><span class="hs-identifier hs-var">defaultSyms</span></a></span><span>
</span><span id="line-518"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SymSet
</span><a href="#local-6989586621682809217"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-519"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; SymSet -&gt; SymSet
</span><a href="GHC.Types.Unique.Set.html#insertUniqueSet"><span class="hs-identifier hs-var">insertUniqueSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682809216"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SymSet
</span><a href="#local-6989586621682809217"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-520"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>        </span><span class="annot"><span class="annottext">SymSet
</span><a href="GHC.Types.Unique.Set.html#emptyUniqueSet"><span class="hs-identifier hs-var">emptyUniqueSet</span></a></span><span>
</span><span id="line-522"></span></pre></body></html>