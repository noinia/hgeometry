<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Driver.Config.StgToJS.html"><span class="hs-identifier">GHC.Driver.Config.StgToJS</span></a></span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Driver.Config.StgToJS.html#initStgToJSConfig"><span class="hs-identifier">initStgToJSConfig</span></a></span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Config.StgToJS.html#initJSLinkConfig"><span class="hs-identifier">initJSLinkConfig</span></a></span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html"><span class="hs-identifier">GHC.StgToJS.Types</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToJS.Linker.Types.html"><span class="hs-identifier">GHC.StgToJS.Linker.Types</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html"><span class="hs-identifier">GHC.Driver.DynFlags</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Config.Linker.html"><span class="hs-identifier">GHC.Driver.Config.Linker</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html"><span class="hs-identifier">GHC.Platform.Ways</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="annot"><span class="hs-comment">-- | Initialize StgToJS settings from DynFlags</span></span><span>
</span><span id="line-19"></span><span class="annot"><a href="GHC.Driver.Config.StgToJS.html#initStgToJSConfig"><span class="hs-identifier hs-type">initStgToJSConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#StgToJSConfig"><span class="hs-identifier hs-type">StgToJSConfig</span></a></span><span>
</span><span id="line-20"></span><span id="initStgToJSConfig"><span class="annot"><span class="annottext">initStgToJSConfig :: DynFlags -&gt; StgToJSConfig
</span><a href="GHC.Driver.Config.StgToJS.html#initStgToJSConfig"><span class="hs-identifier hs-var hs-var">initStgToJSConfig</span></a></span></span><span> </span><span id="local-6989586621682970177"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#StgToJSConfig"><span class="hs-identifier hs-type">StgToJSConfig</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-comment">-- flags</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">csInlinePush :: Bool
</span><a href="GHC.StgToJS.Types.html#csInlinePush"><span class="hs-identifier hs-var">csInlinePush</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csInlineBlackhole :: Bool
</span><a href="GHC.StgToJS.Types.html#csInlineBlackhole"><span class="hs-identifier hs-var">csInlineBlackhole</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csInlineLoadRegs :: Bool
</span><a href="GHC.StgToJS.Types.html#csInlineLoadRegs"><span class="hs-identifier hs-var">csInlineLoadRegs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csInlineEnter :: Bool
</span><a href="GHC.StgToJS.Types.html#csInlineEnter"><span class="hs-identifier hs-var">csInlineEnter</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csInlineAlloc :: Bool
</span><a href="GHC.StgToJS.Types.html#csInlineAlloc"><span class="hs-identifier hs-var">csInlineAlloc</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csPrettyRender :: Bool
</span><a href="GHC.StgToJS.Types.html#csPrettyRender"><span class="hs-identifier hs-var">csPrettyRender</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_DisableJsMinifier"><span class="hs-identifier hs-var">Opt_DisableJsMinifier</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csTraceRts :: Bool
</span><a href="GHC.StgToJS.Types.html#csTraceRts"><span class="hs-identifier hs-var">csTraceRts</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csAssertRts :: Bool
</span><a href="GHC.StgToJS.Types.html#csAssertRts"><span class="hs-identifier hs-var">csAssertRts</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csBoundsCheck :: Bool
</span><a href="GHC.StgToJS.Types.html#csBoundsCheck"><span class="hs-identifier hs-var">csBoundsCheck</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_DoBoundsChecking"><span class="hs-identifier hs-var">Opt_DoBoundsChecking</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csDebugAlloc :: Bool
</span><a href="GHC.StgToJS.Types.html#csDebugAlloc"><span class="hs-identifier hs-var">csDebugAlloc</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csTraceForeign :: Bool
</span><a href="GHC.StgToJS.Types.html#csTraceForeign"><span class="hs-identifier hs-var">csTraceForeign</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csProf :: Bool
</span><a href="GHC.StgToJS.Types.html#csProf"><span class="hs-identifier hs-var">csProf</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Ways
</span><a href="GHC.Driver.DynFlags.html#ways"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Ways -&gt; Way -&gt; Bool
</span><a href="GHC.Platform.Ways.html#hasWay"><span class="hs-operator hs-var">`hasWay`</span></a></span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Platform.Ways.html#WayProf"><span class="hs-identifier hs-var">WayProf</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csRuntimeAssert :: Bool
</span><a href="GHC.StgToJS.Types.html#csRuntimeAssert"><span class="hs-identifier hs-var">csRuntimeAssert</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-comment">-- settings</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csContext :: SDocContext
</span><a href="GHC.StgToJS.Types.html#csContext"><span class="hs-identifier hs-var">csContext</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; PprStyle -&gt; SDocContext
</span><a href="GHC.Driver.DynFlags.html#initSDocContext"><span class="hs-identifier hs-var">initSDocContext</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="GHC.Utils.Outputable.html#defaultDumpStyle"><span class="hs-identifier hs-var">defaultDumpStyle</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csLinkerConfig :: LinkerConfig
</span><a href="GHC.StgToJS.Types.html#csLinkerConfig"><span class="hs-identifier hs-var">csLinkerConfig</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; LinkerConfig
</span><a href="GHC.Driver.Config.Linker.html#initLinkerConfig"><span class="hs-identifier hs-var">initLinkerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970177"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><span class="hs-comment">-- | Default linker configuration</span></span><span>
</span><span id="line-41"></span><span class="annot"><a href="GHC.Driver.Config.StgToJS.html#initJSLinkConfig"><span class="hs-identifier hs-type">initJSLinkConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToJS.Linker.Types.html#JSLinkConfig"><span class="hs-identifier hs-type">JSLinkConfig</span></a></span><span>
</span><span id="line-42"></span><span id="initJSLinkConfig"><span class="annot"><span class="annottext">initJSLinkConfig :: DynFlags -&gt; JSLinkConfig
</span><a href="GHC.Driver.Config.StgToJS.html#initJSLinkConfig"><span class="hs-identifier hs-var hs-var">initJSLinkConfig</span></a></span></span><span> </span><span id="local-6989586621682970203"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970203"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.StgToJS.Linker.Types.html#JSLinkConfig"><span class="hs-identifier hs-type">JSLinkConfig</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lcNoJSExecutables :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcNoJSExecutables"><span class="hs-identifier hs-var">lcNoJSExecutables</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcNoHsMain :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcNoHsMain"><span class="hs-identifier hs-var">lcNoHsMain</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcNoRts :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcNoRts"><span class="hs-identifier hs-var">lcNoRts</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcNoStats :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcNoStats"><span class="hs-identifier hs-var">lcNoStats</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcCombineAll :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcCombineAll"><span class="hs-identifier hs-var">lcCombineAll</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcForeignRefs :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcForeignRefs"><span class="hs-identifier hs-var">lcForeignRefs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcForceEmccRts :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcForceEmccRts"><span class="hs-identifier hs-var">lcForceEmccRts</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lcLinkCsources :: Bool
</span><a href="GHC.StgToJS.Linker.Types.html#lcLinkCsources"><span class="hs-identifier hs-var">lcLinkCsources</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_DisableJsCsources"><span class="hs-identifier hs-var">Opt_DisableJsCsources</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682970203"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span></pre></body></html>