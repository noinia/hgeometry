<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Runtime.Interpreter.Types</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.12.2: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Runtime.Interpreter.Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">GHC.Runtime.Interpreter.Types</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">IServ</a></li><li><a href="#g:2">JSInterp</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Types used by the runtime interpreter</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Interp">Interp</a> = <a href="#v:Interp">Interp</a> {<ul class="subs"><li><a href="#v:interpInstance">interpInstance</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:InterpInstance" title="GHC.Runtime.Interpreter.Types">InterpInstance</a></li><li><a href="#v:interpLoader">interpLoader</a> :: !<a href="GHC-Linker-Types.html#t:Loader" title="GHC.Linker.Types">Loader</a></li><li><a href="#v:interpLookupSymbolCache">interpLookupSymbolCache</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (<a href="GHC-Types-Unique-FM.html#t:UniqFM" title="GHC.Types.Unique.FM">UniqFM</a> <a href="GHC-Data-FastString.html#t:FastString" title="GHC.Data.FastString">FastString</a> (<a href="../base-4.21.0.0-ae91/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> ())))</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:InterpInstance">InterpInstance</a><ul class="subs"><li>= <a href="#v:ExternalInterp">ExternalInterp</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterp" title="GHC.Runtime.Interpreter.Types">ExtInterp</a></li><li>| <a href="#v:InternalInterp">InternalInterp</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:InterpProcess">InterpProcess</a> = <a href="#v:InterpProcess">InterpProcess</a> {<ul class="subs"><li><a href="#v:interpPipe">interpPipe</a> :: !<a href="../ghci-9.12.2-bd10/GHCi-Message.html#t:Pipe" title="GHCi.Message">Pipe</a></li><li><a href="#v:interpHandle">interpHandle</a> :: !<a href="../process-1.6.25.0-5f54/System-Process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></li><li><a href="#v:interpLock">interpLock</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ())</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ExtInterp">ExtInterp</a><ul class="subs"><li>= <a href="#v:ExtIServ">ExtIServ</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:IServ" title="GHC.Runtime.Interpreter.Types">IServ</a></li><li>| <a href="#v:ExtJS">ExtJS</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:JSInterp" title="GHC.Runtime.Interpreter.Types">JSInterp</a></li><li>| <a href="#v:ExtWasm">ExtWasm</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:WasmInterp" title="GHC.Runtime.Interpreter.Types">WasmInterp</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:ExtInterpStatusVar">ExtInterpStatusVar</a> d = <a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (<a href="GHC-Runtime-Interpreter-Types.html#t:InterpStatus" title="GHC.Runtime.Interpreter.Types">InterpStatus</a> (<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpInstance" title="GHC.Runtime.Interpreter.Types">ExtInterpInstance</a> d))</li><li class="src short"><span class="keyword">data</span> <a href="#t:ExtInterpInstance">ExtInterpInstance</a> c = <a href="#v:ExtInterpInstance">ExtInterpInstance</a> {<ul class="subs"><li><a href="#v:instProcess">instProcess</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:InterpProcess" title="GHC.Runtime.Interpreter.Types">InterpProcess</a></li><li><a href="#v:instPendingFrees">instPendingFrees</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="../ghci-9.12.2-bd10/GHCi-RemoteTypes.html#t:HValueRef" title="GHCi.RemoteTypes">HValueRef</a>])</li><li><a href="#v:instExtra">instExtra</a> :: !c</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ExtInterpState">ExtInterpState</a> cfg details = <a href="#v:ExtInterpState">ExtInterpState</a> {<ul class="subs"><li><a href="#v:interpConfig">interpConfig</a> :: !cfg</li><li><a href="#v:interpStatus">interpStatus</a> :: !(<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpStatusVar" title="GHC.Runtime.Interpreter.Types">ExtInterpStatusVar</a> details)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:InterpStatus">InterpStatus</a> inst<ul class="subs"><li>= <a href="#v:InterpPending">InterpPending</a></li><li>| <a href="#v:InterpRunning">InterpRunning</a> !inst</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:IServ">IServ</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:IServConfig" title="GHC.Runtime.Interpreter.Types">IServConfig</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:IServConfig">IServConfig</a> = <a href="#v:IServConfig">IServConfig</a> {<ul class="subs"><li><a href="#v:iservConfProgram">iservConfProgram</a> :: !<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></li><li><a href="#v:iservConfOpts">iservConfOpts</a> :: ![<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</li><li><a href="#v:iservConfProfiled">iservConfProfiled</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li><a href="#v:iservConfDynamic">iservConfDynamic</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li><a href="#v:iservConfHook">iservConfHook</a> :: !(<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="../process-1.6.25.0-5f54/System-Process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="../process-1.6.25.0-5f54/System-Process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>))</li><li><a href="#v:iservConfTrace">iservConfTrace</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:JSInterp">JSInterp</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSInterpConfig" title="GHC.Runtime.Interpreter.Types">JSInterpConfig</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSInterpExtra" title="GHC.Runtime.Interpreter.Types">JSInterpExtra</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JSInterpExtra">JSInterpExtra</a> = <a href="#v:JSInterpExtra">JSInterpExtra</a> {<ul class="subs"><li><a href="#v:instStdIn">instStdIn</a> :: !<a href="../base-4.21.0.0-ae91/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></li><li><a href="#v:instFinderCache">instFinderCache</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderCache" title="GHC.Unit.Finder.Types">FinderCache</a></li><li><a href="#v:instFinderOpts">instFinderOpts</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderOpts" title="GHC.Unit.Finder.Types">FinderOpts</a></li><li><a href="#v:instJSState">instJSState</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSState" title="GHC.Runtime.Interpreter.Types">JSState</a>)</li><li><a href="#v:instGhciUnitId">instGhciUnitId</a> :: !<a href="GHC-Unit-Types.html#t:UnitId" title="GHC.Unit.Types">UnitId</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSInterpConfig">JSInterpConfig</a> = <a href="#v:JSInterpConfig">JSInterpConfig</a> {<ul class="subs"><li><a href="#v:jsInterpNodeConfig">jsInterpNodeConfig</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:NodeJsSettings" title="GHC.Runtime.Interpreter.Types">NodeJsSettings</a></li><li><a href="#v:jsInterpScript">jsInterpScript</a> :: !<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li><a href="#v:jsInterpTmpFs">jsInterpTmpFs</a> :: !<a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a></li><li><a href="#v:jsInterpTmpDir">jsInterpTmpDir</a> :: !<a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a></li><li><a href="#v:jsInterpLogger">jsInterpLogger</a> :: !<a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a></li><li><a href="#v:jsInterpCodegenCfg">jsInterpCodegenCfg</a> :: !<a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a></li><li><a href="#v:jsInterpUnitEnv">jsInterpUnitEnv</a> :: !<a href="GHC-Unit-Env.html#t:UnitEnv" title="GHC.Unit.Env">UnitEnv</a></li><li><a href="#v:jsInterpFinderOpts">jsInterpFinderOpts</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderOpts" title="GHC.Unit.Finder.Types">FinderOpts</a></li><li><a href="#v:jsInterpFinderCache">jsInterpFinderCache</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderCache" title="GHC.Unit.Finder.Types">FinderCache</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSState">JSState</a> = <a href="#v:JSState">JSState</a> {<ul class="subs"><li><a href="#v:jsLinkState">jsLinkState</a> :: !<a href="GHC-StgToJS-Linker-Types.html#t:LinkPlan" title="GHC.StgToJS.Linker.Types">LinkPlan</a></li><li><a href="#v:jsServerStarted">jsServerStarted</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NodeJsSettings">NodeJsSettings</a> = <a href="#v:NodeJsSettings">NodeJsSettings</a> {<ul class="subs"><li><a href="#v:nodeProgram">nodeProgram</a> :: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li><a href="#v:nodePath">nodePath</a> :: <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li><a href="#v:nodeExtraArgs">nodeExtraArgs</a> :: [<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</li><li><a href="#v:nodeKeepAliveMaxMem">nodeKeepAliveMaxMem</a> :: <a href="GHC-Prelude-Basic.html#t:Integer" title="GHC.Prelude.Basic">Integer</a></li></ul>}</li><li class="src short"><a href="#v:defaultNodeJsSettings">defaultNodeJsSettings</a> :: <a href="GHC-Runtime-Interpreter-Types.html#t:NodeJsSettings" title="GHC.Runtime.Interpreter.Types">NodeJsSettings</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:WasmInterp">WasmInterp</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:WasmInterpConfig" title="GHC.Runtime.Interpreter.Types">WasmInterpConfig</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:WasmInterpConfig">WasmInterpConfig</a> = <a href="#v:WasmInterpConfig">WasmInterpConfig</a> {<ul class="subs"><li><a href="#v:wasmInterpDyLD">wasmInterpDyLD</a> :: !<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li><a href="#v:wasmInterpLibDir">wasmInterpLibDir</a> :: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li><a href="#v:wasmInterpOpts">wasmInterpOpts</a> :: ![<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</li><li><a href="#v:wasmInterpTargetPlatform">wasmInterpTargetPlatform</a> :: !<a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a></li><li><a href="#v:wasmInterpProfiled">wasmInterpProfiled</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li><a href="#v:wasmInterpHsSoSuffix">wasmInterpHsSoSuffix</a> :: !<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></li><li><a href="#v:wasmInterpUnitState">wasmInterpUnitState</a> :: !<a href="GHC-Unit-State.html#t:UnitState" title="GHC.Unit.State">UnitState</a></li></ul>}</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Interp" class="def">Interp</a> <a href="src/GHC.Runtime.Interpreter.Types.html#Interp" class="link">Source</a> <a href="#t:Interp" class="selflink">#</a></p><div class="doc"><p>Interpreter</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Interp" class="def">Interp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:interpInstance" class="def">interpInstance</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:InterpInstance" title="GHC.Runtime.Interpreter.Types">InterpInstance</a></dfn><div class="doc"><p>Interpreter instance (internal, external)</p></div></li><li><dfn class="src"><a id="v:interpLoader" class="def">interpLoader</a> :: !<a href="GHC-Linker-Types.html#t:Loader" title="GHC.Linker.Types">Loader</a></dfn><div class="doc"><p>Interpreter loader</p></div></li><li><dfn class="src"><a id="v:interpLookupSymbolCache" class="def">interpLookupSymbolCache</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (<a href="GHC-Types-Unique-FM.html#t:UniqFM" title="GHC.Types.Unique.FM">UniqFM</a> <a href="GHC-Data-FastString.html#t:FastString" title="GHC.Data.FastString">FastString</a> (<a href="../base-4.21.0.0-ae91/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> ())))</dfn><div class="doc"><p>LookupSymbol cache</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InterpInstance" class="def">InterpInstance</a> <a href="src/GHC.Runtime.Interpreter.Types.html#InterpInstance" class="link">Source</a> <a href="#t:InterpInstance" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExternalInterp" class="def">ExternalInterp</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterp" title="GHC.Runtime.Interpreter.Types">ExtInterp</a></td><td class="doc"><p>External interpreter</p></td></tr><tr><td class="src"><a id="v:InternalInterp" class="def">InternalInterp</a></td><td class="doc"><p>Internal interpreter</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InterpProcess" class="def">InterpProcess</a> <a href="src/GHC.Runtime.Interpreter.Types.html#InterpProcess" class="link">Source</a> <a href="#t:InterpProcess" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InterpProcess" class="def">InterpProcess</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:interpPipe" class="def">interpPipe</a> :: !<a href="../ghci-9.12.2-bd10/GHCi-Message.html#t:Pipe" title="GHCi.Message">Pipe</a></dfn><div class="doc"><p>Pipe to communicate with the server</p></div></li><li><dfn class="src"><a id="v:interpHandle" class="def">interpHandle</a> :: !<a href="../process-1.6.25.0-5f54/System-Process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></dfn><div class="doc"><p>Process handle of the server</p></div></li><li><dfn class="src"><a id="v:interpLock" class="def">interpLock</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ())</dfn><div class="doc"><p>Lock to prevent concurrent access to the stream</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExtInterp" class="def">ExtInterp</a> <a href="src/GHC.Runtime.Interpreter.Types.html#ExtInterp" class="link">Source</a> <a href="#t:ExtInterp" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExtIServ" class="def">ExtIServ</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:IServ" title="GHC.Runtime.Interpreter.Types">IServ</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExtJS" class="def">ExtJS</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:JSInterp" title="GHC.Runtime.Interpreter.Types">JSInterp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExtWasm" class="def">ExtWasm</a> !<a href="GHC-Runtime-Interpreter-Types.html#t:WasmInterp" title="GHC.Runtime.Interpreter.Types">WasmInterp</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ExtInterpStatusVar" class="def">ExtInterpStatusVar</a> d = <a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (<a href="GHC-Runtime-Interpreter-Types.html#t:InterpStatus" title="GHC.Runtime.Interpreter.Types">InterpStatus</a> (<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpInstance" title="GHC.Runtime.Interpreter.Types">ExtInterpInstance</a> d)) <a href="src/GHC.Runtime.Interpreter.Types.html#ExtInterpStatusVar" class="link">Source</a> <a href="#t:ExtInterpStatusVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExtInterpInstance" class="def">ExtInterpInstance</a> c <a href="src/GHC.Runtime.Interpreter.Types.html#ExtInterpInstance" class="link">Source</a> <a href="#t:ExtInterpInstance" class="selflink">#</a></p><div class="doc"><p>Common field between native external interpreter and the JS one</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExtInterpInstance" class="def">ExtInterpInstance</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:instProcess" class="def">instProcess</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:InterpProcess" title="GHC.Runtime.Interpreter.Types">InterpProcess</a></dfn><div class="doc"><p>External interpreter process and its pipe (communication channel)</p></div></li><li><dfn class="src"><a id="v:instPendingFrees" class="def">instPendingFrees</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="../ghci-9.12.2-bd10/GHCi-RemoteTypes.html#t:HValueRef" title="GHCi.RemoteTypes">HValueRef</a>])</dfn><div class="doc"><p>Values that need to be freed before the next command is sent.
 Finalizers for ForeignRefs can append values to this list
 asynchronously.</p></div></li><li><dfn class="src"><a id="v:instExtra" class="def">instExtra</a> :: !c</dfn><div class="doc"><p>Instance specific extra fields</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExtInterpState" class="def">ExtInterpState</a> cfg details <a href="src/GHC.Runtime.Interpreter.Types.html#ExtInterpState" class="link">Source</a> <a href="#t:ExtInterpState" class="selflink">#</a></p><div class="doc"><p>External interpreter</p><p>The external interpreter is spawned lazily (on first use) to avoid slowing
 down sessions that don't require it. The contents of the MVar reflects the
 state of the interpreter (running or not).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExtInterpState" class="def">ExtInterpState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:interpConfig" class="def">interpConfig</a> :: !cfg</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:interpStatus" class="def">interpStatus</a> :: !(<a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpStatusVar" title="GHC.Runtime.Interpreter.Types">ExtInterpStatusVar</a> details)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InterpStatus" class="def">InterpStatus</a> inst <a href="src/GHC.Runtime.Interpreter.Types.html#InterpStatus" class="link">Source</a> <a href="#t:InterpStatus" class="selflink">#</a></p><div class="doc"><p>Status of an external interpreter</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InterpPending" class="def">InterpPending</a></td><td class="doc"><p>Not spawned yet</p></td></tr><tr><td class="src"><a id="v:InterpRunning" class="def">InterpRunning</a> !inst</td><td class="doc"><p>Running</p></td></tr></table></div></div><a href="#g:1" id="g:1"><h1>IServ</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IServ" class="def">IServ</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:IServConfig" title="GHC.Runtime.Interpreter.Types">IServConfig</a> () <a href="src/GHC.Runtime.Interpreter.Types.html#IServ" class="link">Source</a> <a href="#t:IServ" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IServConfig" class="def">IServConfig</a> <a href="src/GHC.Runtime.Interpreter.Types.html#IServConfig" class="link">Source</a> <a href="#t:IServConfig" class="selflink">#</a></p><div class="doc"><p>Configuration needed to spawn an external interpreter</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IServConfig" class="def">IServConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:iservConfProgram" class="def">iservConfProgram</a> :: !<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></dfn><div class="doc"><p>External program to run</p></div></li><li><dfn class="src"><a id="v:iservConfOpts" class="def">iservConfOpts</a> :: ![<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</dfn><div class="doc"><p>Command-line options</p></div></li><li><dfn class="src"><a id="v:iservConfProfiled" class="def">iservConfProfiled</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>Use Profiling way</p></div></li><li><dfn class="src"><a id="v:iservConfDynamic" class="def">iservConfDynamic</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>Use Dynamic way</p></div></li><li><dfn class="src"><a id="v:iservConfHook" class="def">iservConfHook</a> :: !(<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="../process-1.6.25.0-5f54/System-Process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="../process-1.6.25.0-5f54/System-Process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>))</dfn><div class="doc"><p>Hook</p></div></li><li><dfn class="src"><a id="v:iservConfTrace" class="def">iservConfTrace</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</dfn><div class="doc"><p>Trace action executed after spawn</p></div></li></ul></div></td></tr></table></div></div><a href="#g:2" id="g:2"><h1>JSInterp</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:JSInterp" class="def">JSInterp</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSInterpConfig" title="GHC.Runtime.Interpreter.Types">JSInterpConfig</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSInterpExtra" title="GHC.Runtime.Interpreter.Types">JSInterpExtra</a> <a href="src/GHC.Runtime.Interpreter.Types.html#JSInterp" class="link">Source</a> <a href="#t:JSInterp" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:JSInterpExtra" class="def">JSInterpExtra</a> <a href="src/GHC.Runtime.Interpreter.Types.html#JSInterpExtra" class="link">Source</a> <a href="#t:JSInterpExtra" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JSInterpExtra" class="def">JSInterpExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:instStdIn" class="def">instStdIn</a> :: !<a href="../base-4.21.0.0-ae91/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></dfn><div class="doc"><p>Stdin for the process</p></div></li><li><dfn class="src"><a id="v:instFinderCache" class="def">instFinderCache</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderCache" title="GHC.Unit.Finder.Types">FinderCache</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:instFinderOpts" class="def">instFinderOpts</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderOpts" title="GHC.Unit.Finder.Types">FinderOpts</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:instJSState" class="def">instJSState</a> :: !(<a href="../base-4.21.0.0-ae91/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="GHC-Runtime-Interpreter-Types.html#t:JSState" title="GHC.Runtime.Interpreter.Types">JSState</a>)</dfn><div class="doc"><p>Mutable state</p></div></li><li><dfn class="src"><a id="v:instGhciUnitId" class="def">instGhciUnitId</a> :: !<a href="GHC-Unit-Types.html#t:UnitId" title="GHC.Unit.Types">UnitId</a></dfn><div class="doc"><p>GHCi unit-id</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:JSInterpConfig" class="def">JSInterpConfig</a> <a href="src/GHC.Runtime.Interpreter.Types.html#JSInterpConfig" class="link">Source</a> <a href="#t:JSInterpConfig" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JSInterpConfig" class="def">JSInterpConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:jsInterpNodeConfig" class="def">jsInterpNodeConfig</a> :: !<a href="GHC-Runtime-Interpreter-Types.html#t:NodeJsSettings" title="GHC.Runtime.Interpreter.Types">NodeJsSettings</a></dfn><div class="doc"><p>NodeJS settings</p></div></li><li><dfn class="src"><a id="v:jsInterpScript" class="def">jsInterpScript</a> :: !<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></dfn><div class="doc"><p>Path to &quot;ghc-interp.js&quot; script</p></div></li><li><dfn class="src"><a id="v:jsInterpTmpFs" class="def">jsInterpTmpFs</a> :: !<a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpTmpDir" class="def">jsInterpTmpDir</a> :: !<a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpLogger" class="def">jsInterpLogger</a> :: !<a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpCodegenCfg" class="def">jsInterpCodegenCfg</a> :: !<a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpUnitEnv" class="def">jsInterpUnitEnv</a> :: !<a href="GHC-Unit-Env.html#t:UnitEnv" title="GHC.Unit.Env">UnitEnv</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpFinderOpts" class="def">jsInterpFinderOpts</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderOpts" title="GHC.Unit.Finder.Types">FinderOpts</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jsInterpFinderCache" class="def">jsInterpFinderCache</a> :: !<a href="GHC-Unit-Finder-Types.html#t:FinderCache" title="GHC.Unit.Finder.Types">FinderCache</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:JSState" class="def">JSState</a> <a href="src/GHC.Runtime.Interpreter.Types.html#JSState" class="link">Source</a> <a href="#t:JSState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JSState" class="def">JSState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:jsLinkState" class="def">jsLinkState</a> :: !<a href="GHC-StgToJS-Linker-Types.html#t:LinkPlan" title="GHC.StgToJS.Linker.Types">LinkPlan</a></dfn><div class="doc"><p>Linker state of the interpreter</p></div></li><li><dfn class="src"><a id="v:jsServerStarted" class="def">jsServerStarted</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>Is the Haskell server started?</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NodeJsSettings" class="def">NodeJsSettings</a> <a href="src/GHC.Runtime.Interpreter.Types.html#NodeJsSettings" class="link">Source</a> <a href="#t:NodeJsSettings" class="selflink">#</a></p><div class="doc"><p>NodeJs configuration</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NodeJsSettings" class="def">NodeJsSettings</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nodeProgram" class="def">nodeProgram</a> :: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></dfn><div class="doc"><p>location of node.js program</p></div></li><li><dfn class="src"><a id="v:nodePath" class="def">nodePath</a> :: <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></dfn><div class="doc"><p>value of NODE_PATH environment variable (search path for Node modules; GHCJS used to provide some)</p></div></li><li><dfn class="src"><a id="v:nodeExtraArgs" class="def">nodeExtraArgs</a> :: [<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</dfn><div class="doc"><p>extra arguments to pass to node.js</p></div></li><li><dfn class="src"><a id="v:nodeKeepAliveMaxMem" class="def">nodeKeepAliveMaxMem</a> :: <a href="GHC-Prelude-Basic.html#t:Integer" title="GHC.Prelude.Basic">Integer</a></dfn><div class="doc"><p>keep node.js (TH, GHCJSi) processes alive if they don't use more than this</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultNodeJsSettings" class="def">defaultNodeJsSettings</a> :: <a href="GHC-Runtime-Interpreter-Types.html#t:NodeJsSettings" title="GHC.Runtime.Interpreter.Types">NodeJsSettings</a> <a href="src/GHC.Runtime.Interpreter.Types.html#defaultNodeJsSettings" class="link">Source</a> <a href="#v:defaultNodeJsSettings" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WasmInterp" class="def">WasmInterp</a> = <a href="GHC-Runtime-Interpreter-Types.html#t:ExtInterpState" title="GHC.Runtime.Interpreter.Types">ExtInterpState</a> <a href="GHC-Runtime-Interpreter-Types.html#t:WasmInterpConfig" title="GHC.Runtime.Interpreter.Types">WasmInterpConfig</a> () <a href="src/GHC.Runtime.Interpreter.Types.html#WasmInterp" class="link">Source</a> <a href="#t:WasmInterp" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WasmInterpConfig" class="def">WasmInterpConfig</a> <a href="src/GHC.Runtime.Interpreter.Types.html#WasmInterpConfig" class="link">Source</a> <a href="#t:WasmInterpConfig" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WasmInterpConfig" class="def">WasmInterpConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:wasmInterpDyLD" class="def">wasmInterpDyLD</a> :: !<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></dfn><div class="doc"><p>Location of dyld.mjs script</p></div></li><li><dfn class="src"><a id="v:wasmInterpLibDir" class="def">wasmInterpLibDir</a> :: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></dfn><div class="doc"><p>wasi-sdk sysroot libdir containing libc.so, etc</p></div></li><li><dfn class="src"><a id="v:wasmInterpOpts" class="def">wasmInterpOpts</a> :: ![<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>]</dfn><div class="doc"><p>Additional command line arguments for iserv</p></div></li><li><dfn class="src"><a id="v:wasmInterpTargetPlatform" class="def">wasmInterpTargetPlatform</a> :: !<a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:wasmInterpProfiled" class="def">wasmInterpProfiled</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>Are we profiling yet?</p></div></li><li><dfn class="src"><a id="v:wasmInterpHsSoSuffix" class="def">wasmInterpHsSoSuffix</a> :: !<a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></dfn><div class="doc"><p>Shared lib filename common suffix sans .so, e.g. p-ghc9.13.20241001</p></div></li><li><dfn class="src"><a id="v:wasmInterpUnitState" class="def">wasmInterpUnitState</a> :: !<a href="GHC-Unit-State.html#t:UnitState" title="GHC.Unit.State">UnitState</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>