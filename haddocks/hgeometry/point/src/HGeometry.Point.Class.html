<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-5"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Module      :  HGeometry.Point.Class</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Copyright   :  (C) Frank Staals</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- License     :  see the LICENSE file</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Maintainer  :  Frank Staals</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- A class of types that can act as \(d\)-dimensional points.</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-15"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html"><span class="hs-identifier">HGeometry.Point.Class</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier">HasVector</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier">HasCoordinates</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier">Affine_</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier">Point_</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point1_"><span class="hs-identifier">Point1_</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point2_"><span class="hs-identifier">Point2_</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point3_"><span class="hs-identifier">Point3_</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point4_"><span class="hs-identifier">Point4_</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier">ConstructablePoint_</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#origin"><span class="hs-identifier">origin</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#pointFromList"><span class="hs-identifier">pointFromList</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier">coord</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#xCoord"><span class="hs-identifier">xCoord</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#yCoord"><span class="hs-identifier">yCoord</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#zCoord"><span class="hs-identifier">zCoord</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#wCoord"><span class="hs-identifier">wCoord</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#dCoord"><span class="hs-identifier">dCoord</span></a></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-comment">-- , projectPoint</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-comment">-- , PointFor</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints"><span class="hs-identifier">HasPoints</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints%27"><span class="hs-identifier">HasPoints'</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.html/Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/data-default-class-0.1.2.2-9185eb0aa55f99f191be3586b1b58b308eb6ae659d38483435d98792575f79ef/share/doc/html/src/Data.Default.Class.html/Data.Default.Class.html"><span class="hs-identifier">Data.Default.Class</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">on</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeNats</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html"><span class="hs-identifier">HGeometry.Ext</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">HGeometry.Properties</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">HGeometry.Vector</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html"><span class="hs-identifier">Linear.Affine</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.html/Linear.html"><span class="hs-identifier">Linear</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- &gt;&gt;&gt; import HGeometry.Point</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- let myVector :: Vector 3 Int</span><span>
</span><span id="line-47"></span><span class="hs-comment">--     myVector = Vector3 1 2 3</span><span>
</span><span id="line-48"></span><span class="hs-comment">--     myPoint = Point myVector</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">-- | Type class for types, usually points, that have a Lens to interpret the</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- point as a vector.</span><span>
</span><span id="line-56"></span><span class="hs-keyword">class</span><span> </span><span id="HasVector"><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-var">HasVector</span></a></span></span><span> </span><span id="local-6989586621679212090"><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212091"><span class="annot"><a href="#local-6989586621679212091"><span class="hs-identifier hs-type">point'</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-comment">-- | Lens to access the vector corresponding to this point.</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; myPoint ^. vector</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-comment">-- Vector3 1 2 3</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; ( myPoint &amp; vector .~ Vector3 3 2 1  ) :: Point 3 Int</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-comment">-- Point3 3 2 1</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; (myPoint &amp; coordinates %~ show ) :: Point 3 String</span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-comment">-- Point3 &quot;1&quot; &quot;2&quot; &quot;3&quot;</span><span>
</span><span id="line-65"></span><span>  </span><span id="vector"><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-type">vector</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212082"><span id="local-6989586621679212084"><span id="local-6989586621679212086"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212082"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-66"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212084"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-67"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212091"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span>  </span><span class="annot"><a href="#local-6989586621679212082"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-68"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212091"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212086"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-69"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212091"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212082"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212084"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212082"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212086"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Dimension"><span class="annot"><span class="hs-identifier hs-var">Dimension</span></span></span><span> </span><span id="local-6989586621679212456"><span id="local-6989586621679212457"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212456"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212457"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212456"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212457"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="NumType"><span class="annot"><span class="hs-identifier hs-var">NumType</span></span></span><span> </span><span id="local-6989586621679212458"><span id="local-6989586621679212459"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212458"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212459"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679212459"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212094"><span id="local-6989586621679212095"><span id="local-6989586621679212096"><span id="local-6989586621679212097"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212094"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212095"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212096"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212095"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-76"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212094"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212097"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212096"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212097"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-77"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212094"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212095"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212094"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212097"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679212499"><span class="annot"><span class="annottext">vector :: forall (d :: Nat) r s.
(Dimension (Point v r) ~ d, NumType (Point v r) ~ r,
 Dimension (Point v s) ~ d, NumType (Point v s) ~ s) =&gt;
Lens (Point v r) (Point v s) (Vector d r) (Vector d s)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var hs-var hs-var">vector</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Point v r -&gt; Vector d r)
-&gt; (Point v r -&gt; Vector d s -&gt; Point v s)
-&gt; Lens (Point v r) (Point v s) (Vector d r) (Vector d s)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Lens.html/Control.Lens.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#P"><span class="hs-identifier hs-type">Linear.P</span></a></span><span> </span><span id="local-6989586621679212502"><span class="annot"><span class="annottext">v r
</span><a href="#local-6989586621679212502"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v r
</span><a href="#local-6989586621679212502"><span class="hs-identifier hs-var">v</span></a></span><span class="annot"><span class="annottext">v r -&gt; Getting (Vector d r) (v r) (Vector d r) -&gt; Vector d r
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span class="annot"><span class="annottext">(Vector d r -&gt; Const (Vector d r) (Vector d r))
-&gt; v r -&gt; Const (Vector d r) (v r)
Getting (Vector d r) (v r) (Vector d r)
forall vector vector' (d :: Nat) r s.
AsVector_ vector vector' d r s =&gt;
Iso vector vector' (Vector d r) (Vector d s)
Iso (v r) (v r) (Vector d r) (Vector d r)
</span><span class="hs-identifier hs-var">_Vector</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>                </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Point v r
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679212505"><span class="annot"><span class="annottext">Vector d s
</span><a href="#local-6989586621679212505"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v s -&gt; Point v s
forall (f :: * -&gt; *) a. f a -&gt; Point f a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#P"><span class="hs-identifier hs-var">Linear.P</span></a></span><span> </span><span class="annot"><span class="annottext">(v s -&gt; Point v s) -&gt; v s -&gt; Point v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Vector d s
</span><a href="#local-6989586621679212505"><span class="hs-identifier hs-var">v</span></a></span><span class="annot"><span class="annottext">Vector d s -&gt; Getting (v s) (Vector d s) (v s) -&gt; v s
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span class="annot"><span class="annottext">AnIso (v s) (v s) (Vector d s) (Vector d s)
-&gt; Iso (Vector d s) (Vector d s) (v s) (v s)
forall s t a b. AnIso s t a b -&gt; Iso b a t s
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Iso.html/Control.Lens.Iso.html#from"><span class="hs-identifier hs-var">from</span></a></span><span> </span><span class="annot"><span class="annottext">AnIso (v s) (v s) (Vector d s) (Vector d s)
forall vector vector' (d :: Nat) r s.
AsVector_ vector vector' d r s =&gt;
Iso vector vector' (Vector d r) (Vector d s)
Iso (v s) (v s) (Vector d s) (Vector d s)
</span><span class="hs-identifier hs-var">_Vector</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-pragma hs-type">vector</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Class for point types that have a type changing traversal over</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- all coordinates.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Has_</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Has_</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasComponents</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span>
</span><span id="line-89"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span>
</span><span id="line-90"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span id="HasCoordinates"><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier hs-var">HasCoordinates</span></a></span></span><span> </span><span id="local-6989586621679212140"><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212141"><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-comment">-- | Traversal over *all* coordinates of the points. Coordinates are 1-indexed.</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; imapMOf_ coordinates (\i x -&gt; print (i,x)) (Point2 10 20 :: Point 2 Int)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">-- (1,10)</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-comment">-- (2,20)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; itraverseOf coordinates (\i x -&gt; print (i,x)) (Point2 10 20) :: IO (Point 2 ())</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-comment">-- (1,10)</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-comment">-- (2,20)</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-comment">-- Point2 () ()</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; over coordinates (+1) $ Point2 10 20 :: Point 2 Int</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-comment">-- Point2 11 21</span><span>
</span><span id="line-103"></span><span>  </span><span id="coordinates"><span class="annot"><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-identifier hs-type">coordinates</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedTraversal1"><span class="hs-identifier hs-type">IndexedTraversal1</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621679212514"><span class="annot"><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-identifier hs-var hs-var">coordinates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Vector (Dimension point') (NumType point)
 -&gt; f (Vector (Dimension point') (NumType point')))
-&gt; point -&gt; f point'
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point' ~ d,
 NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens
  point
  point'
  (Vector (Dimension point') (NumType point))
  (Vector (Dimension point') (NumType point'))
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span>  </span><span class="annot"><span class="annottext">((Vector (Dimension point') (NumType point)
  -&gt; f (Vector (Dimension point') (NumType point')))
 -&gt; point -&gt; f point')
-&gt; (p (NumType point) (f (NumType point'))
    -&gt; Vector (Dimension point') (NumType point)
    -&gt; f (Vector (Dimension point') (NumType point')))
-&gt; p (NumType point) (f (NumType point'))
-&gt; point
-&gt; f point'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int)
-&gt; (Indexed Int (NumType point) (f (NumType point'))
    -&gt; Vector (Dimension point') (NumType point)
    -&gt; f (Vector (Dimension point') (NumType point')))
-&gt; p (NumType point) (f (NumType point'))
-&gt; Vector (Dimension point') (NumType point)
-&gt; f (Vector (Dimension point') (NumType point'))
forall j (p :: * -&gt; * -&gt; *) i a b r.
Indexable j p =&gt;
(i -&gt; j) -&gt; (Indexed i a b -&gt; r) -&gt; p a b -&gt; r
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Indexed.html/Control.Lens.Indexed.html#reindexed"><span class="hs-identifier hs-var">reindexed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Indexed
  Int
  (IxValue (Vector (Dimension point') (NumType point)))
  (f (IxValue (Vector (Dimension point') (NumType point'))))
-&gt; Vector (Dimension point') (NumType point)
-&gt; f (Vector (Dimension point') (NumType point'))
Indexed Int (NumType point) (f (NumType point'))
-&gt; Vector (Dimension point') (NumType point)
-&gt; f (Vector (Dimension point') (NumType point'))
forall vector vector'.
HasComponents vector vector' =&gt;
IndexedTraversal1
  Int vector vector' (IxValue vector) (IxValue vector')
IndexedTraversal1
  Int
  (Vector (Dimension point') (NumType point))
  (Vector (Dimension point') (NumType point'))
  (IxValue (Vector (Dimension point') (NumType point)))
  (IxValue (Vector (Dimension point') (NumType point')))
</span><span class="hs-identifier hs-var">components</span></span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-pragma hs-type">coordinates</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Affine space; essentially the same as Linear.Affine, but for</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- points of kind Type rather than (Type -&gt; Type).</span><span>
</span><span id="line-111"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Additive_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-112"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier hs-type">HasCoordinates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-113"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-114"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-115"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Affine_"><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier hs-var">Affine_</span></a></span></span><span> </span><span id="local-6989586621679212167"><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212168"><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212169"><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-116"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-comment">-- | p .-. q represents the vector from q to p</span><span>
</span><span id="line-120"></span><span>  </span><span id=".-."><span class="annot"><a href="HGeometry.Point.Class.html#.-."><span class="hs-operator hs-type">(.-.)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id=".-."><span class="annot"><a href="HGeometry.Point.Class.html#.-."><span class="hs-operator hs-type">(.-.)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621679212549"><span id="local-6989586621679212602"><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212602"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#.-."><span class="hs-operator hs-var hs-var">.-.</span></a></span><span> </span><span id="local-6989586621679212603"><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212603"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212602"><span class="hs-identifier hs-var">p</span></a></span><span class="annot"><span class="annottext">point -&gt; Getting (Vector d r) point (Vector d r) -&gt; Vector d r
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span class="annot"><span class="annottext">Getting (Vector d r) point (Vector d r)
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point ~ d,
 NumType point ~ s) =&gt;
Lens point point (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens point point (Vector d r) (Vector d r)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector d r -&gt; Vector d r -&gt; Vector d r
forall r vector (d :: Nat).
(Num r, Additive_ vector d r) =&gt;
vector -&gt; vector -&gt; vector
</span><span class="hs-operator hs-var">^-^</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212603"><span class="hs-identifier hs-var">q</span></a></span><span class="annot"><span class="annottext">point -&gt; Getting (Vector d r) point (Vector d r) -&gt; Vector d r
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span class="annot"><span class="annottext">Getting (Vector d r) point (Vector d r)
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point ~ d,
 NumType point ~ s) =&gt;
Lens point point (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens point point (Vector d r) (Vector d r)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.-.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-comment">-- | add a vector to a point</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; myPoint .+^ Vector3 100 200 300</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-comment">-- Point3 101 202 303</span><span>
</span><span id="line-129"></span><span>  </span><span id=".%2B%5E"><span class="annot"><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-type">(.+^)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id=".%2B%5E"><span class="annot"><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-type">(.+^)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span id="local-6989586621679212606"><span id="local-6989586621679212647"><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212647"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-var hs-var">.+^</span></a></span><span> </span><span id="local-6989586621679212648"><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679212648"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212647"><span class="hs-identifier hs-var">p</span></a></span><span class="annot"><span class="annottext">point -&gt; (point -&gt; point) -&gt; point
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span class="annot"><span class="annottext">(Vector d r -&gt; Identity (Vector d r)) -&gt; point -&gt; Identity point
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point ~ d,
 NumType point ~ s) =&gt;
Lens point point (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens point point (Vector d r) (Vector d r)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector d r -&gt; Identity (Vector d r)) -&gt; point -&gt; Identity point)
-&gt; (Vector d r -&gt; Vector d r) -&gt; point -&gt; point
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector d r -&gt; Vector d r -&gt; Vector d r
forall r vector (d :: Nat).
(Num r, Additive_ vector d r) =&gt;
vector -&gt; vector -&gt; vector
</span><span class="hs-operator hs-var">^+^</span></span><span> </span><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679212648"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.+^</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-comment">-- | subtract a vector from a point</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; myPoint .-^ Vector3 100 200 300</span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-comment">-- Point3 (-99) (-198) (-297)</span><span>
</span><span id="line-138"></span><span>  </span><span id=".-%5E"><span class="annot"><a href="HGeometry.Point.Class.html#.-%5E"><span class="hs-operator hs-type">(.-^)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212167"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679212653"><span id="local-6989586621679212683"><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212683"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#.-%5E"><span class="hs-operator hs-var hs-var">.-^</span></a></span><span> </span><span id="local-6989586621679212684"><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679212684"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">point
</span><a href="#local-6989586621679212683"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">point -&gt; Vector d r -&gt; point
forall point (d :: Nat) r.
(Affine_ point d r, Num r) =&gt;
point -&gt; Vector d r -&gt; point
</span><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-var">.+^</span></a></span><span> </span><span class="annot"><span class="annottext">Vector d r -&gt; Vector d r
forall r vector (d :: Nat).
(Num r, Vector_ vector d r) =&gt;
vector -&gt; vector
</span><span class="hs-identifier hs-var">negated</span></span><span> </span><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679212684"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.-^</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212195"><span id="local-6989586621679212196"><span id="local-6989586621679212197"><span id="local-6989586621679212198"><span id="local-6989586621679212711"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-147"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-148"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Has_</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-149"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Has_</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-150"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasComponents</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier hs-type">HasCoordinates</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212202"><span id="local-6989586621679212203"><span id="local-6989586621679212204"><span id="local-6989586621679212791"><span id="local-6989586621679212802"><span id="local-6989586621679212812"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-156"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Additive_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-157"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier hs-type">Affine_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="annot"><span class="hs-comment">-- | A class representing points in d-dimensional space.</span></span><span>
</span><span id="line-162"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier hs-type">Affine_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212206"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-164"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Point_"><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-var">Point_</span></a></span></span><span> </span><span id="local-6989586621679212205"><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212206"><span class="annot"><a href="#local-6989586621679212206"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212207"><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-comment">-- | Get the coordinate in a given dimension. This operation is unsafe in the</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-comment">-- sense that no bounds are checked. Consider using `coord` instead.</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; myPoint ^.. coord' 2</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">-- [2]</span><span>
</span><span id="line-172"></span><span>  </span><span id="coord%27"><span class="annot"><a href="HGeometry.Point.Class.html#coord%27"><span class="hs-identifier hs-type">coord'</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedTraversal%27"><span class="hs-identifier hs-type">IndexedTraversal'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679212863"><span class="annot"><a href="HGeometry.Point.Class.html#coord%27"><span class="hs-identifier hs-var hs-var">coord'</span></a></span><span> </span><span id="local-6989586621679212909"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679212909"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Vector d r -&gt; f (Vector d r)) -&gt; point -&gt; f point
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point ~ d,
 NumType point ~ s) =&gt;
Lens point point (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens point point (Vector d r) (Vector d r)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span> </span><span class="annot"><span class="annottext">((Vector d r -&gt; f (Vector d r)) -&gt; point -&gt; f point)
-&gt; (p r (f r) -&gt; Vector d r -&gt; f (Vector d r))
-&gt; p r (f r)
-&gt; point
-&gt; f point
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">p r (f r) -&gt; Vector d r -&gt; f (Vector d r)
</span><a href="#local-6989586621679212910"><span class="hs-identifier hs-var">elem'</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>      </span><span class="hs-comment">-- elem' :: IndexedTraversal' Int (VectorFor point) r</span><span>
</span><span id="line-176"></span><span>      </span><span id="local-6989586621679212910"><span class="annot"><span class="annottext">elem' :: p r (f r) -&gt; Vector d r -&gt; f (Vector d r)
</span><a href="#local-6989586621679212910"><span class="hs-identifier hs-var hs-var">elem'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; IndexedTraversal' Int (Vector d r) r
forall vector (d :: Nat) r.
Vector_ vector d r =&gt;
Int -&gt; IndexedTraversal' Int vector r
</span><span class="hs-identifier hs-var">component'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679212909"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-177"></span><span>                </span><span class="hs-comment">-- vectors are 0 indexed, whereas we are 1 indexed.</span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#coord%27"><span class="hs-pragma hs-type">coord'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | Type class for constructable points</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212212"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212213"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ConstructablePoint_"><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-var">ConstructablePoint_</span></a></span></span><span> </span><span id="local-6989586621679212212"><span class="annot"><a href="#local-6989586621679212212"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212213"><span class="annot"><a href="#local-6989586621679212213"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212214"><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-pragma hs-type">fromVector</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-comment">-- | Construct a point from a vector</span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; fromVector (Vector4 1 2 3 4) :: Point 4 Int</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-comment">-- Point4 1 2 3 4</span><span>
</span><span id="line-189"></span><span>  </span><span id="fromVector"><span class="annot"><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-type">fromVector</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212213"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212212"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | Get the coordinate in a given dimension</span><span>
</span><span id="line-193"></span><span class="hs-comment">--</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint ^. coord @2</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- 2</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint &amp; coord @1 .~ 10</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- Point3 10 2 3</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint &amp; coord @3 %~ (+1)</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- Point3 1 2 4</span><span>
</span><span id="line-200"></span><span class="annot"><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-type">coord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212216"><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679212219"><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212218"><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212220"><span class="annot"><a href="#local-6989586621679212220"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212220"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212220"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-202"></span><span id="coord"><span class="annot"><span class="annottext">coord :: forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var hs-var">coord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Traversing p f point point r r -&gt; Over p f point point r r
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s t a.
(HasCallStack, Conjoined p, Functor f) =&gt;
Traversing p f s t a a -&gt; Over p f s t a a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Traversal.html/Control.Lens.Traversal.html#singular"><span class="hs-identifier hs-var">singular</span></a></span><span> </span><span class="annot"><span class="annottext">(Traversing p f point point r r -&gt; Over p f point point r r)
-&gt; Traversing p f point point r r -&gt; Over p f point point r r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IndexedTraversal' Int point r
forall point (d :: Nat) r.
Point_ point d r =&gt;
Int -&gt; IndexedTraversal' Int point r
</span><a href="HGeometry.Point.Class.html#coord%27"><span class="hs-identifier hs-var">coord'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Int) -&gt; (Proxy i -&gt; Nat) -&gt; Proxy i -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Proxy i -&gt; Nat
forall (n :: Nat) (proxy :: Nat -&gt; *). KnownNat n =&gt; proxy n -&gt; Nat
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="annot"><span class="annottext">(Proxy i -&gt; Int) -&gt; Proxy i -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: Nat). Proxy t
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#coord"><span class="hs-pragma hs-type">coord</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212254"><span id="local-6989586621679212255"><span id="local-6989586621679212256"><span id="local-6989586621679213013"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212255"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212255"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212255"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-209"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Additive_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-210"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212255"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212260"><span id="local-6989586621679212261"><span id="local-6989586621679212262"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-215"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Additive_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-216"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-type">ConstructablePoint_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>  </span><span id="local-6989586621679213065"><span class="annot"><span class="annottext">fromVector :: Vector d r -&gt; Point v r
</span><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-var hs-var hs-var">fromVector</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v r -&gt; Point v r
forall (f :: * -&gt; *) a. f a -&gt; Point f a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#P"><span class="hs-identifier hs-var">Linear.P</span></a></span><span> </span><span class="annot"><span class="annottext">(v r -&gt; Point v r)
-&gt; (Vector d r -&gt; v r) -&gt; Vector d r -&gt; Point v r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AReview (v r) (Vector d r) -&gt; Vector d r -&gt; v r
forall b (m :: * -&gt; *) t. MonadReader b m =&gt; AReview t b -&gt; m t
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Review.html/Control.Lens.Review.html#review"><span class="hs-identifier hs-var">review</span></a></span><span> </span><span class="annot"><span class="annottext">AReview (v r) (Vector d r)
forall vector vector' (d :: Nat) r s.
AsVector_ vector vector' d r s =&gt;
Iso vector vector' (Vector d r) (Vector d s)
Iso (v r) (v r) (Vector d r) (Vector d r)
</span><span class="hs-identifier hs-var">_Vector</span></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-pragma hs-type">fromVector</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | Point representing the origin in d dimensions</span><span>
</span><span id="line-221"></span><span class="hs-comment">--</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- &gt;&gt;&gt; origin :: Point 4 Int</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- Point4 0 0 0 0</span><span>
</span><span id="line-224"></span><span class="annot"><a href="HGeometry.Point.Class.html#origin"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212271"><span class="annot"><a href="#local-6989586621679212271"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212272"><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212270"><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-type">ConstructablePoint_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212271"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212271"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-225"></span><span id="origin"><span class="annot"><span class="annottext">origin :: forall point (d :: Nat) r.
(Num r, ConstructablePoint_ point d r) =&gt;
point
</span><a href="HGeometry.Point.Class.html#origin"><span class="hs-identifier hs-var hs-var">origin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector d r -&gt; point
forall point (d :: Nat) r.
ConstructablePoint_ point d r =&gt;
Vector d r -&gt; point
</span><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-var">fromVector</span></a></span><span> </span><span class="annot"><span class="annottext">Vector d r
forall r vector (d :: Nat). (Num r, Additive_ vector d r) =&gt; vector
</span><span class="hs-identifier hs-var">zero</span></span><span>
</span><span id="line-226"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#origin"><span class="hs-pragma hs-type">origin</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">-- | A pattern synonym for 1 dimensional points.</span></span><span>
</span><span id="line-229"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point1_"><span class="hs-identifier hs-type">Point1_</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212075"><span id="local-6989586621679212076"><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212075"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212076"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212076"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212075"><span class="hs-identifier hs-type">point</span></a></span></span></span><span>
</span><span id="line-230"></span><span class="hs-keyword">pattern</span><span> </span><span id="Point1_"><span id="%24mPoint1_"><span class="annot"><span class="annottext">$mPoint1_ :: forall {r} {point} {r}.
Point_ point 1 r =&gt;
point -&gt; (r -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="HGeometry.Point.Class.html#Point1_"><span class="hs-identifier hs-var hs-var">Point1_</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679213151"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#view"><span class="hs-identifier hs-type">view</span></a></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#xCoord"><span class="hs-identifier hs-type">xCoord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679213151"><span class="annot"><a href="#local-6989586621679213151"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span class="hs-comment">--   where</span><span>
</span><span id="line-232"></span><span class="hs-comment">--     Point1_ x = fromVector $ Vector1 x</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- {-# INLINE Point1_ #-}</span><span>
</span><span id="line-234"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point1_"><span class="hs-pragma hs-type">Point1_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="annot"><span class="hs-comment">-- | A pattern synonym for 2 dimensional points.</span></span><span>
</span><span id="line-237"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point2_"><span class="hs-identifier hs-type">Point2_</span></a></span><span>     </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212073"><span id="local-6989586621679212074"><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212073"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><a href="#local-6989586621679212074"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-238"></span><span>                       </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212073"><span class="hs-identifier hs-type">point</span></a></span></span></span><span>
</span><span id="line-239"></span><span class="hs-keyword">pattern</span><span> </span><span id="Point2_"><span id="%24mPoint2_"><span class="annot"><span class="annottext">$mPoint2_ :: forall {r} {point} {r}.
Point_ point 2 r =&gt;
point -&gt; (r -&gt; r -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="HGeometry.Point.Class.html#Point2_"><span class="hs-identifier hs-var hs-var">Point2_</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679213228"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213229"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#view"><span class="hs-identifier hs-type">view</span></a></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-type">vector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector2</span></span><span> </span><span id="local-6989586621679213228"><span class="annot"><a href="#local-6989586621679213228"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679213229"><span class="annot"><a href="#local-6989586621679213229"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span class="hs-comment">--  where</span><span>
</span><span id="line-241"></span><span class="hs-comment">--    Point2_ x y = fromVector $ Vector2 x y</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- {-# INLINE Point2_ #-}</span><span>
</span><span id="line-243"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point2_"><span class="hs-pragma hs-type">Point2_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="annot"><span class="hs-comment">-- | A pattern synonym for 3 dimensional points.</span></span><span>
</span><span id="line-247"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point3_"><span class="hs-identifier hs-type">Point3_</span></a></span><span>       </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212071"><span id="local-6989586621679212072"><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212071"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><a href="#local-6989586621679212072"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-248"></span><span>                         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212072"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212072"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212072"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212071"><span class="hs-identifier hs-type">point</span></a></span></span></span><span>
</span><span id="line-249"></span><span class="hs-keyword">pattern</span><span> </span><span id="Point3_"><span id="%24mPoint3_"><span class="annot"><span class="annottext">$mPoint3_ :: forall {r} {point} {r}.
Point_ point 3 r =&gt;
point -&gt; (r -&gt; r -&gt; r -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="HGeometry.Point.Class.html#Point3_"><span class="hs-identifier hs-var hs-var">Point3_</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679213251"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213252"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213253"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#view"><span class="hs-identifier hs-type">view</span></a></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-type">vector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector3</span></span><span> </span><span id="local-6989586621679213251"><span class="annot"><a href="#local-6989586621679213251"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679213252"><span class="annot"><a href="#local-6989586621679213252"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679213253"><span class="annot"><a href="#local-6989586621679213253"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span class="hs-comment">--   where</span><span>
</span><span id="line-251"></span><span class="hs-comment">--     Point3_ x y z = fromVector $ Vector3 x y z</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- {-# INLINE Point3_ #-}</span><span>
</span><span id="line-253"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point3_"><span class="hs-pragma hs-type">Point3_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="annot"><span class="hs-comment">-- | A bidirectional pattern synonym for 4 dimensional points.</span></span><span>
</span><span id="line-256"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point4_"><span class="hs-identifier hs-type">Point4_</span></a></span><span>         </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212068"><span id="local-6989586621679212069"><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212068"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-257"></span><span>                           </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212068"><span class="hs-identifier hs-type">point</span></a></span></span></span><span>
</span><span id="line-258"></span><span class="hs-keyword">pattern</span><span> </span><span id="Point4_"><span id="%24mPoint4_"><span class="annot"><span class="annottext">$mPoint4_ :: forall {r} {point} {r}.
Point_ point 4 r =&gt;
point -&gt; (r -&gt; r -&gt; r -&gt; r -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="HGeometry.Point.Class.html#Point4_"><span class="hs-identifier hs-var hs-var">Point4_</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679213275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213276"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213277"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213278"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#view"><span class="hs-identifier hs-type">view</span></a></span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-type">vector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector4</span></span><span> </span><span id="local-6989586621679213275"><span class="annot"><a href="#local-6989586621679213275"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679213276"><span class="annot"><a href="#local-6989586621679213276"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679213277"><span class="annot"><a href="#local-6989586621679213277"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679213278"><span class="annot"><a href="#local-6989586621679213278"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span class="hs-comment">--   where</span><span>
</span><span id="line-260"></span><span class="hs-comment">--     Point4_ x y z w = fromVector $ Vector4 x y z w</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- {-# INLINE Point4_ #-}</span><span>
</span><span id="line-262"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point4_"><span class="hs-pragma hs-type">Point4_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-comment">-- | Constructs a point from a list of coordinates. The length of the</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- list has to match the dimension exactly.</span><span>
</span><span id="line-267"></span><span class="hs-comment">--</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- &gt;&gt;&gt; pointFromList [1,2,3] :: Maybe (Point 3 Int)</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- Just (Point3 1 2 3)</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- &gt;&gt;&gt; pointFromList [1] :: Maybe (Point 3 Int)</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- &gt;&gt;&gt; pointFromList [1,2,3,4] :: Maybe (Point 3 Int)</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-274"></span><span id="local-6989586621679212299"><span id="local-6989586621679212300"><span id="local-6989586621679212301"><span class="annot"><a href="HGeometry.Point.Class.html#pointFromList"><span class="hs-identifier hs-type">pointFromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-type">ConstructablePoint_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212300"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212301"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-275"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679212300"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212301"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212300"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212301"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-276"></span><span>                 </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212301"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type">point</span></a></span></span></span></span><span>
</span><span id="line-277"></span><span id="pointFromList"><span class="annot"><span class="annottext">pointFromList :: forall point (d :: Nat) r.
(ConstructablePoint_ point d r, Vector_ (Vector d r) d r) =&gt;
[r] -&gt; Maybe point
</span><a href="HGeometry.Point.Class.html#pointFromList"><span class="hs-identifier hs-var hs-var">pointFromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Vector d r -&gt; point) -&gt; Maybe (Vector d r) -&gt; Maybe point
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Vector d r -&gt; point
forall point (d :: Nat) r.
ConstructablePoint_ point d r =&gt;
Vector d r -&gt; point
</span><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-var">fromVector</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Vector d r) -&gt; Maybe point)
-&gt; ([r] -&gt; Maybe (Vector d r)) -&gt; [r] -&gt; Maybe point
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[r] -&gt; Maybe (Vector d r)
forall vector (d :: Nat) r.
Vector_ vector d r =&gt;
[r] -&gt; Maybe vector
</span><span class="hs-identifier hs-var">vectorFromList</span></span><span>
</span><span id="line-278"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#pointFromList"><span class="hs-pragma hs-type">pointFromList</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="hs-comment">-- | Shorthand to access the first coordinate</span><span>
</span><span id="line-283"></span><span class="hs-comment">--</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint ^. xCoord</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- 1</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- &gt;&gt;&gt; Point2 1 (2 :: Int) &amp; xCoord .~ 10</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- Point2 10 2</span><span>
</span><span id="line-288"></span><span id="local-6989586621679212290"><span id="local-6989586621679212291"><span id="local-6989586621679212292"><span class="annot"><a href="HGeometry.Point.Class.html#xCoord"><span class="hs-identifier hs-type">xCoord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212290"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212290"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212292"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212292"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-289"></span><span id="xCoord"><span class="annot"><span class="annottext">xCoord :: forall (d :: Nat) point r.
(1 &lt;= d, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#xCoord"><span class="hs-identifier hs-var hs-var">xCoord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var">coord</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-290"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#xCoord"><span class="hs-pragma hs-type">xCoord</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Shorthand to access the second coordinate</span><span>
</span><span id="line-293"></span><span class="hs-comment">--</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- &gt;&gt;&gt; Point2 1 (2 :: Int) ^. yCoord</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- 2</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint &amp; yCoord %~ (+1)</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- Point3 1 3 3</span><span>
</span><span id="line-298"></span><span id="local-6989586621679212316"><span id="local-6989586621679212317"><span id="local-6989586621679212318"><span class="annot"><a href="HGeometry.Point.Class.html#yCoord"><span class="hs-identifier hs-type">yCoord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212316"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212317"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212316"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212318"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212317"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212318"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-299"></span><span id="yCoord"><span class="annot"><span class="annottext">yCoord :: forall (d :: Nat) point r.
(2 &lt;= d, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#yCoord"><span class="hs-identifier hs-var hs-var">yCoord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var">coord</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">2</span></span><span>
</span><span id="line-300"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#yCoord"><span class="hs-pragma hs-type">yCoord</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-comment">-- | Shorthand to access the third coordinate</span><span>
</span><span id="line-303"></span><span class="hs-comment">--</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint ^. zCoord</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- 3</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- &gt;&gt;&gt; myPoint &amp; zCoord %~ (+1)</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- Point3 1 2 4</span><span>
</span><span id="line-308"></span><span id="local-6989586621679212324"><span id="local-6989586621679212325"><span id="local-6989586621679212326"><span class="annot"><a href="HGeometry.Point.Class.html#zCoord"><span class="hs-identifier hs-type">zCoord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212324"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212325"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212324"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212326"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212325"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212326"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-309"></span><span id="zCoord"><span class="annot"><span class="annottext">zCoord :: forall (d :: Nat) point r.
(3 &lt;= d, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#zCoord"><span class="hs-identifier hs-var hs-var">zCoord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var">coord</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">3</span></span><span>
</span><span id="line-310"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#zCoord"><span class="hs-pragma hs-type">zCoord</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="hs-comment">-- | Shorthand to access the fourth coordinate</span><span>
</span><span id="line-313"></span><span class="hs-comment">--</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- &gt;&gt;&gt; (Point4 1 2 3 4 :: Point 4 Int) ^. wCoord</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- 4</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- &gt;&gt;&gt; (Point4 1 2 3 4 :: Point 4 Int) &amp; wCoord %~ (+1)</span><span>
</span><span id="line-317"></span><span class="hs-comment">-- Point4 1 2 3 5</span><span>
</span><span id="line-318"></span><span id="local-6989586621679212332"><span id="local-6989586621679212333"><span id="local-6989586621679212334"><span class="annot"><a href="HGeometry.Point.Class.html#wCoord"><span class="hs-identifier hs-type">wCoord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212332"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212333"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212332"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212334"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212333"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212334"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-319"></span><span id="wCoord"><span class="annot"><span class="annottext">wCoord :: forall (d :: Nat) point r.
(4 &lt;= d, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#wCoord"><span class="hs-identifier hs-var hs-var">wCoord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var">coord</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">4</span></span><span>
</span><span id="line-320"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#wCoord"><span class="hs-pragma hs-type">wCoord</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">-- | Shorthand to access the last coordinate</span><span>
</span><span id="line-323"></span><span class="hs-comment">--</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- &gt;&gt;&gt; (Point2 1 2 :: Point 2 Int) ^. dCoord</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- 2</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- &gt;&gt;&gt; (Point4 1 2 3 4 :: Point 4 Int) ^. dCoord</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- 4</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- &gt;&gt;&gt; (Point4 1 2 3 4 :: Point 4 Int) &amp; dCoord %~ (+1)</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- Point4 1 2 3 5</span><span>
</span><span id="line-330"></span><span class="annot"><a href="HGeometry.Point.Class.html#dCoord"><span class="hs-identifier hs-type">dCoord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212341"><span class="annot"><a href="#local-6989586621679212341"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212340"><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679212342"><span class="annot"><a href="#local-6989586621679212342"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=</span></span><span> </span><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212341"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212342"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679212341"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212342"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-331"></span><span id="dCoord"><span class="annot"><span class="annottext">dCoord :: forall point (d :: Nat) r.
(1 &lt;= d, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#dCoord"><span class="hs-identifier hs-var hs-var">dCoord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (i :: Nat) point (d :: Nat) r.
(1 &lt;= i, i &lt;= d, KnownNat i, Point_ point d r) =&gt;
IndexedLens' Int point r
</span><a href="HGeometry.Point.Class.html#coord"><span class="hs-identifier hs-var">coord</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="annot"><span class="hs-comment">-- | Data types that store points</span></span><span>
</span><span id="line-336"></span><span class="hs-keyword">class</span><span> </span><span id="HasPoints"><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints"><span class="hs-identifier hs-var">HasPoints</span></a></span></span><span> </span><span id="local-6989586621679212357"><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679212358"><span class="annot"><a href="#local-6989586621679212358"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212355"><span class="annot"><a href="#local-6989586621679212355"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span id="local-6989586621679212356"><span class="annot"><a href="#local-6989586621679212356"><span class="hs-identifier hs-type">point'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212355"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-337"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679212358"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212356"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-comment">-- | Traversal over all points in the structure</span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; let xs = NonEmpty.fromList [Point2 10 10, Point2 20 (30 :: Int)]</span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; xs^..allPoints</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-comment">-- [Point2 10 10,Point2 20 30]</span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; over allPoints (.+^ Vector2 10 10) xs :: NonEmpty.NonEmpty (Point 2 Int)</span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-comment">-- Point2 20 20 :| [Point2 30 40]</span><span>
</span><span id="line-345"></span><span>  </span><span id="allPoints"><span class="annot"><a href="HGeometry.Point.Class.html#allPoints"><span class="hs-identifier hs-type">allPoints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679212349"><span id="local-6989586621679212350"><span id="local-6989586621679212352"><span class="hs-special">(</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212355"><span class="hs-identifier hs-type">point</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212350"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-346"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212356"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212352"><span class="hs-identifier hs-type">r'</span></a></span><span>
</span><span id="line-347"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212350"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-348"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212358"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212352"><span class="hs-identifier hs-type">r'</span></a></span><span>
</span><span id="line-349"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="annot"><a href="#local-6989586621679212358"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-350"></span><span>               </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Type.html/Control.Lens.Type.html#Traversal1"><span class="hs-identifier hs-type">Traversal1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212358"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212355"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212356"><span class="hs-identifier hs-type">point'</span></a></span></span></span></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212359"><span id="local-6989586621679212360"><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints"><span class="hs-identifier hs-type">HasPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty.NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679212359"><span class="hs-identifier hs-type">point</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty.NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-type">point'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212359"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-type">point'</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>  </span><span id="local-6989586621679213775"><span class="annot"><span class="annottext">allPoints :: forall (d :: Nat) r r'.
(Point_ point d r, Point_ point' d r',
 NumType (NonEmpty point) ~ r, NumType (NonEmpty point') ~ r',
 Dimension (NonEmpty point) ~ d, Dimension (NonEmpty point') ~ d) =&gt;
Traversal1 (NonEmpty point) (NonEmpty point') point point'
</span><a href="HGeometry.Point.Class.html#allPoints"><span class="hs-identifier hs-var hs-var hs-var">allPoints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(point -&gt; f point') -&gt; NonEmpty point -&gt; f (NonEmpty point')
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable1 t, Apply f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Apply f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/semigroupoids-6.0.1-a8bbfdf809d26cf53d1649155d1175ff37b07769640f0e81bd2ce91845990ef7/share/doc/html/src/Data.Semigroup.Traversable.Class.html/Data.Semigroup.Traversable.Class.html#traverse1"><span class="hs-identifier hs-var">traverse1</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="annot"><span class="hs-comment">-- | Shorthand for 'HasPoints s s point point'</span></span><span>
</span><span id="line-356"></span><span class="hs-keyword">type</span><span> </span><span id="HasPoints%27"><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints%27"><span class="hs-identifier hs-var">HasPoints'</span></a></span></span><span> </span><span id="local-6989586621679213777"><span class="annot"><a href="#local-6989586621679213777"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679213778"><span class="annot"><a href="#local-6989586621679213778"><span class="hs-identifier hs-type">point</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints"><span class="hs-identifier hs-type">HasPoints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213777"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213777"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213778"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213778"><span class="hs-identifier hs-type">point</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212374"><span id="local-6989586621679212375"><span id="local-6989586621679212376"><span id="local-6989586621679212377"><span class="annot"><a href="HGeometry.Point.Class.html#HasPoints"><span class="hs-identifier hs-type">HasPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212374"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212375"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212376"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212377"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212374"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212375"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/linear-1.23-6dc9143686270fa4c8d1a60fa04a14a561ab989d430cb5a284241da45cf3ba13/share/doc/html/src/Linear.Affine.html/Linear.Affine.html#Point"><span class="hs-identifier hs-type">Linear.Point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212376"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212377"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-360"></span><span>  </span><span id="local-6989586621679213788"><span class="annot"><span class="annottext">allPoints :: forall (d :: Nat) r r'.
(Point_ (Point v r) d r, Point_ (Point v' r') d r',
 NumType (Point v r) ~ r, NumType (Point v' r') ~ r',
 Dimension (Point v r) ~ d, Dimension (Point v' r') ~ d) =&gt;
Traversal1 (Point v r) (Point v' r') (Point v r) (Point v' r')
</span><a href="HGeometry.Point.Class.html#allPoints"><span class="hs-identifier hs-var hs-var hs-var">allPoints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Point v r -&gt; f (Point v' r')) -&gt; Point v r -&gt; f (Point v' r')
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212387"><span id="local-6989586621679212388"><span id="local-6989586621679212389"><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212387"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212388"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasVector"><span class="hs-identifier hs-type">HasVector</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212387"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212389"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212388"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212389"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-366"></span><span>  </span><span id="local-6989586621679213817"><span class="annot"><span class="annottext">vector :: forall (d :: Nat) r s.
(Dimension (point :+ extra) ~ d, NumType (point :+ extra) ~ r,
 Dimension (point' :+ extra) ~ d, NumType (point' :+ extra) ~ s) =&gt;
Lens (point :+ extra) (point' :+ extra) (Vector d r) (Vector d s)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var hs-var hs-var">vector</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(point -&gt; f point') -&gt; (point :+ extra) -&gt; f (point' :+ extra)
forall core extra core' (f :: * -&gt; *).
Functor f =&gt;
(core -&gt; f core') -&gt; (core :+ extra) -&gt; f (core' :+ extra)
</span><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#core"><span class="hs-identifier hs-var">core</span></a></span><span class="annot"><span class="annottext">((point -&gt; f point') -&gt; (point :+ extra) -&gt; f (point' :+ extra))
-&gt; ((Vector d r -&gt; f (Vector d s)) -&gt; point -&gt; f point')
-&gt; (Vector d r -&gt; f (Vector d s))
-&gt; (point :+ extra)
-&gt; f (point' :+ extra)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">(Vector d r -&gt; f (Vector d s)) -&gt; point -&gt; f point'
forall (d :: Nat) r s.
(Dimension point ~ d, NumType point ~ r, Dimension point' ~ d,
 NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
forall point point' (d :: Nat) r s.
(HasVector point point', Dimension point ~ d, NumType point ~ r,
 Dimension point' ~ d, NumType point' ~ s) =&gt;
Lens point point' (Vector d r) (Vector d s)
Lens point point' (Vector d r) (Vector d s)
</span><a href="HGeometry.Point.Class.html#vector"><span class="hs-identifier hs-var">vector</span></a></span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#vector"><span class="hs-pragma hs-type">vector</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212401"><span id="local-6989586621679212402"><span id="local-6989586621679212403"><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier hs-type">HasCoordinates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212401"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212402"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#HasCoordinates"><span class="hs-identifier hs-type">HasCoordinates</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212401"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212403"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212402"><span class="hs-identifier hs-type">point'</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212403"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-370"></span><span>  </span><span id="local-6989586621679213847"><span class="annot"><span class="annottext">coordinates :: IndexedTraversal1
  Int
  (point :+ extra)
  (point' :+ extra)
  (NumType (point :+ extra))
  (NumType (point' :+ extra))
</span><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-identifier hs-var hs-var hs-var">coordinates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(point -&gt; f point') -&gt; (point :+ extra) -&gt; f (point' :+ extra)
forall core extra core' (f :: * -&gt; *).
Functor f =&gt;
(core -&gt; f core') -&gt; (core :+ extra) -&gt; f (core' :+ extra)
</span><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#core"><span class="hs-identifier hs-var">core</span></a></span><span class="annot"><span class="annottext">((point -&gt; f point') -&gt; (point :+ extra) -&gt; f (point' :+ extra))
-&gt; (p (NumType point) (f (NumType point')) -&gt; point -&gt; f point')
-&gt; p (NumType point) (f (NumType point'))
-&gt; (point :+ extra)
-&gt; f (point' :+ extra)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">p (NumType point) (f (NumType point')) -&gt; point -&gt; f point'
forall point point'.
HasCoordinates point point' =&gt;
IndexedTraversal1 Int point point' (NumType point) (NumType point')
IndexedTraversal1 Int point point' (NumType point) (NumType point')
</span><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-identifier hs-var">coordinates</span></a></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#coordinates"><span class="hs-pragma hs-type">coordinates</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212410"><span id="local-6989586621679212411"><span id="local-6989586621679212412"><span id="local-6989586621679212413"><span id="local-6989586621679213866"><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier hs-type">Affine_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212410"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212411"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212412"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Affine_"><span class="hs-identifier hs-type">Affine_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212410"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212413"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212411"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212412"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621679213880"><span class="annot"><span class="annottext">.-. :: Num r =&gt; (point :+ extra) -&gt; (point :+ extra) -&gt; Vector d r
</span><a href="HGeometry.Point.Class.html#.-."><span class="hs-operator hs-var hs-var hs-var">(.-.)</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">point -&gt; point -&gt; Vector d r
forall point (d :: Nat) r.
(Affine_ point d r, Num r) =&gt;
point -&gt; point -&gt; Vector d r
</span><a href="HGeometry.Point.Class.html#.-."><span class="hs-operator hs-var">(.-.)</span></a></span><span> </span><span class="annot"><span class="annottext">(point -&gt; point -&gt; Vector d r)
-&gt; ((point :+ extra) -&gt; point)
-&gt; (point :+ extra)
-&gt; (point :+ extra)
-&gt; Vector d r
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">Getting point (point :+ extra) point -&gt; (point :+ extra) -&gt; point
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">Getting point (point :+ extra) point
forall core extra core' (f :: * -&gt; *).
Functor f =&gt;
(core -&gt; f core') -&gt; (core :+ extra) -&gt; f (core' :+ extra)
</span><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#core"><span class="hs-identifier hs-var">core</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.-.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-376"></span><span>  </span><span id="local-6989586621679213885"><span class="annot"><span class="annottext">point :+ extra
</span><a href="#local-6989586621679213885"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679213886"><span class="annot"><span class="annottext">.+^ :: Num r =&gt; (point :+ extra) -&gt; Vector d r -&gt; point :+ extra
</span><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-var hs-var hs-var">.+^</span></a></span></span><span> </span><span id="local-6989586621679213887"><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679213887"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">point :+ extra
</span><a href="#local-6989586621679213885"><span class="hs-identifier hs-var">p</span></a></span><span class="annot"><span class="annottext">(point :+ extra)
-&gt; ((point :+ extra) -&gt; point :+ extra) -&gt; point :+ extra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span class="annot"><span class="annottext">(point -&gt; Identity point)
-&gt; (point :+ extra) -&gt; Identity (point :+ extra)
forall core extra core' (f :: * -&gt; *).
Functor f =&gt;
(core -&gt; f core') -&gt; (core :+ extra) -&gt; f (core' :+ extra)
</span><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#core"><span class="hs-identifier hs-var">core</span></a></span><span> </span><span class="annot"><span class="annottext">((point -&gt; Identity point)
 -&gt; (point :+ extra) -&gt; Identity (point :+ extra))
-&gt; (point -&gt; point) -&gt; (point :+ extra) -&gt; point :+ extra
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/lens-5.3.2-2c225bc76acc8fc1e6dce12ee325f5b0d01c05bbb9d72de01b3c6c240d1fc294/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">point -&gt; Vector d r -&gt; point
forall point (d :: Nat) r.
(Affine_ point d r, Num r) =&gt;
point -&gt; Vector d r -&gt; point
</span><a href="HGeometry.Point.Class.html#.%2B%5E"><span class="hs-operator hs-var">.+^</span></a></span><span> </span><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679213887"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.+^</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212421"><span id="local-6989586621679212422"><span id="local-6989586621679212423"><span id="local-6989586621679212424"><span id="local-6989586621679213896"><span class="hs-special">(</span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212421"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212422"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212423"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-identifier hs-type">Point_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212421"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212424"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212422"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212423"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="hs-pragma">instance</span><span> </span><span id="local-6989586621679213899"><span id="local-6989586621679213900"><span id="local-6989586621679213901"><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-pragma hs-type">Point_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213899"><span class="hs-pragma hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213900"><span class="hs-pragma hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213901"><span class="hs-pragma hs-type">r</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#Point_"><span class="hs-pragma hs-type">Point_</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679213899"><span class="hs-pragma hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-pragma hs-type">:+</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679213900"><span class="hs-pragma hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213901"><span class="hs-pragma hs-type">r</span></a></span></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679212430"><span id="local-6989586621679212431"><span id="local-6989586621679212432"><span id="local-6989586621679212433"><span class="hs-special">(</span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-type">ConstructablePoint_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212430"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212431"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212432"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/data-default-class-0.1.2.2-9185eb0aa55f99f191be3586b1b58b308eb6ae659d38483435d98792575f79ef/share/doc/html/src/Data.Default.Class.html/Data.Default.Class.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212433"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-identifier hs-type">ConstructablePoint_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212430"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-type">:+</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212433"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212431"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212432"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="hs-pragma">instance</span><span> </span><span id="local-6989586621679213909"><span id="local-6989586621679213910"><span id="local-6989586621679213911"><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-pragma hs-type">ConstructablePoint_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213909"><span class="hs-pragma hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213910"><span class="hs-pragma hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213911"><span class="hs-pragma hs-type">r</span></a></span><span>
</span><span id="line-385"></span><span>                          </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="HGeometry.Point.Class.html#ConstructablePoint_"><span class="hs-pragma hs-type">ConstructablePoint_</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679213909"><span class="hs-pragma hs-type">point</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-pragma hs-type">:+</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679213910"><span class="hs-pragma hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213911"><span class="hs-pragma hs-type">r</span></a></span></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-386"></span><span>  </span><span id="local-6989586621679213914"><span class="annot"><span class="annottext">fromVector :: Vector d r -&gt; point :+ extra
</span><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-var hs-var hs-var">fromVector</span></a></span></span><span> </span><span id="local-6989586621679213915"><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679213915"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector d r -&gt; point
forall point (d :: Nat) r.
ConstructablePoint_ point d r =&gt;
Vector d r -&gt; point
</span><a href="HGeometry.Point.Class.html#fromVector"><span class="hs-identifier hs-var">fromVector</span></a></span><span> </span><span class="annot"><span class="annottext">Vector d r
</span><a href="#local-6989586621679213915"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">point -&gt; extra -&gt; point :+ extra
forall core extra. core -&gt; extra -&gt; core :+ extra
</span><a href="file:///home/runner/work/hgeometry/hgeometry/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hgeometry-combinatorial-1.0.0.0/doc/html/hgeometry-combinatorial/src/HGeometry.Ext.html/HGeometry.Ext.html#%3A%2B"><span class="hs-operator hs-var">:+</span></a></span><span> </span><span class="annot"><span class="annottext">extra
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.cabal/store/ghc-9.10.1-69c3/data-default-class-0.1.2.2-9185eb0aa55f99f191be3586b1b58b308eb6ae659d38483435d98792575f79ef/share/doc/html/src/Data.Default.Class.html/Data.Default.Class.html#def"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-387"></span></pre></body></html>