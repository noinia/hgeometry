<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679507364"><span id="local-6989586621679507365"></span></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RoleAnnotations #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html"><span class="hs-identifier">Distribution.Utils.Path</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Symbolic path endpoints</span></span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Distribution.Utils.Path.html#FileOrDir"><span class="hs-identifier">FileOrDir</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier">AllowAbsolute</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Abstract directory locations</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#CWD"><span class="hs-identifier">CWD</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Pkg"><span class="hs-identifier">Pkg</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Dist"><span class="hs-identifier">Dist</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Source"><span class="hs-identifier">Source</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Include"><span class="hs-identifier">Include</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Lib"><span class="hs-identifier">Lib</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Framework"><span class="hs-identifier">Framework</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Build"><span class="hs-identifier">Build</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier">Artifacts</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#PkgDB"><span class="hs-identifier">PkgDB</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#DataDir"><span class="hs-identifier">DataDir</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Mix"><span class="hs-identifier">Mix</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Tix"><span class="hs-identifier">Tix</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Tmp"><span class="hs-identifier">Tmp</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Response"><span class="hs-identifier">Response</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#PkgConf"><span class="hs-identifier">PkgConf</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Symbolic paths</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#RelativePath"><span class="hs-identifier">RelativePath</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier">SymbolicPath</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier">AbsolutePath</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier">SymbolicPathX</span></a></span><span> </span><span class="hs-comment">-- NB: constructor not exposed, to retain type safety.</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Symbolic path API</span></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier">getSymbolicPath</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#getAbsolutePath"><span class="hs-identifier">getAbsolutePath</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#sameDirectory"><span class="hs-identifier">sameDirectory</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier">makeRelativePathEx</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#makeSymbolicPath"><span class="hs-identifier">makeSymbolicPath</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#unsafeMakeSymbolicPath"><span class="hs-identifier">unsafeMakeSymbolicPath</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#coerceSymbolicPath"><span class="hs-identifier">coerceSymbolicPath</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#unsafeCoerceSymbolicPath"><span class="hs-identifier">unsafeCoerceSymbolicPath</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#relativeSymbolicPath"><span class="hs-identifier">relativeSymbolicPath</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#symbolicPathRelative_maybe"><span class="hs-identifier">symbolicPathRelative_maybe</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier">interpretSymbolicPath</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPathAbsolute"><span class="hs-identifier">interpretSymbolicPathAbsolute</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** General filepath API</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator">(&lt;/&gt;)</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator">(&lt;.&gt;)</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#takeDirectorySymbolicPath"><span class="hs-identifier">takeDirectorySymbolicPath</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#dropExtensionsSymbolicPath"><span class="hs-identifier">dropExtensionsSymbolicPath</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#replaceExtensionSymbolicPath"><span class="hs-identifier">replaceExtensionSymbolicPath</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#normaliseSymbolicPath"><span class="hs-identifier">normaliseSymbolicPath</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Working directory handling</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier">interpretSymbolicPathCWD</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#absoluteWorkingDir"><span class="hs-identifier">absoluteWorkingDir</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#tryMakeRelative"><span class="hs-identifier">tryMakeRelative</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Module names</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#moduleNameSymbolicPath"><span class="hs-identifier">moduleNameSymbolicPath</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Coerce.html"><span class="hs-identifier">Data.Coerce</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.ModuleName.html"><span class="hs-identifier">Distribution.ModuleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.ModuleName.html#ModuleName"><span class="hs-identifier">ModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.ModuleName.html"><span class="hs-identifier">Distribution.ModuleName</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ModuleName</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.ModuleName.html#toFilePath"><span class="hs-identifier">toFilePath</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Parsec.html"><span class="hs-identifier">Distribution.Parsec</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Pretty.html"><span class="hs-identifier">Distribution.Pretty</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Utils.Generic.html"><span class="hs-identifier">Distribution.Utils.Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier">isAbsoluteOnAnyPlatform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Compat.CharParsing.html"><span class="hs-identifier">Distribution.Compat.CharParsing</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html"><span class="hs-identifier">System.Directory</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Directory</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FilePath</span></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">HasCallStack</span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="annot"><span class="hs-comment">-- * SymbolicPath</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">{- Note [Symbolic paths]
~~~~~~~~~~~~~~~~~~~~~~~~
We want functions within the Cabal library to support getting the working
directory from their arguments, rather than retrieving it from the current
directory, which depends on the the state of the current process
(via getCurrentDirectory).

With such a constraint, to ensure correctness we need to know, for each relative
filepath, whether it is relative to the passed in working directory or to the
current working directory. We achieve this with the following API:

  - newtype SymbolicPath from to
  - getSymbolicPath :: SymbolicPath from to -&gt; FilePath
  - interpretSymbolicPath
      :: Maybe (SymbolicPath CWD (Dir from)) -&gt; SymbolicPath from to -&gt; FilePath

Note that, in the type @SymbolicPath from to@, @from@ is the name of a directory,
whereas @to@ is either @Dir toDir@ or @File@. For example, a source directory
typically has the type @SymbolicPath Pkg (Dir Source)@, while a source
file has a type such as @SymbolicPath &quot;Source&quot; File@.

Here, a symbolic path refers to an **uninterpreted** file path, i.e. any
passed in working directory **has not** been taken into account.
Whenever we see a symbolic path, it is a sign we must take into account this
working directory in some way.
Thus, whenever we interact with the file system, we do the following:

  - in a direct interaction (e.g. `doesFileExist`), we interpret the
    path relative to a working directory argument, e.g.

      doCheck :: Maybe (SymbolicPath CWD (Dir from))
              -&gt; SymbolicPath from File
              -&gt; Bool
      doCheck mbWorkDir file = doesFileExist $ interpretSymbolicPath mbWorkDir file

  - when invoking a sub-process (such as GHC), we ensure that the working directory
    of the sub-process is the same as the passed-in working directory, in which
    case we interpret the symbolic paths by using `interpretSymbolicPathCWD`:

      callGhc :: Maybe (SymbolicPath CWD (Dir Pkg))
              -&gt; SymbolicPath (Dir Pkg) File
              -&gt; IO ()
      callGhc mbWorkDir inputFile =
        runProgramInvocation $
          programInvocationCwd mbWorkDir ghcProg [interpretSymbolicPathCWD inputFile]

In practice, we often use:

  -- Interpret a symbolic path with respect to the working directory argument
  -- @'mbWorkDir' :: Maybe (SymbolicPath CWD (Dir Pkg))@.
  i :: SymbolicPath Pkg to -&gt; FilePath
  i = interpretSymbolicPath mbWorkDir

  -- Interpret a symbolic path, provided that the current working directory
  -- is the package directory.
  u :: SymbolicPath Pkg to -&gt; FilePath
  u = interpretSymbolicPathCWD

Note [Symbolic relative paths]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This module defines:

  data kind AllowAbsolute = AllowAbsolute | OnlyRelative
  data kind FileOrDir = File | Dir Symbol

  type SymbolicPathX :: AllowAbsolute -&gt; Symbol -&gt; FileOrDir -&gt; Type
  newtype SymbolicPathX allowAbsolute from to = SymbolicPath FilePath

  type RelativePath = SymbolicPathX 'OnlyRelative
  type SymbolicPath = SymbolicPathX 'AllowAbsolute

A 'SymbolicPath' is thus a symbolic path that is allowed to be absolute, whereas
a 'RelativePath' is a symbolic path that is additionally required to be relative.

This distinction allows us to keep track of which filepaths must be kept
relative.
-}</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-- | A type-level symbolic name, to an abstract file or directory</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- (e.g. the Cabal package directory).</span><span>
</span><span id="line-183"></span><span class="hs-keyword">data</span><span> </span><span id="FileOrDir"><span class="annot"><a href="Distribution.Utils.Path.html#FileOrDir"><span class="hs-identifier hs-var">FileOrDir</span></a></span></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | A file (with no further information).</span></span><span>
</span><span id="line-185"></span><span>    </span><span id="File"><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-var">File</span></a></span></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | The abstract name of a directory or category of directories,</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-comment">-- e.g. the package directory or a source directory.</span><span>
</span><span id="line-188"></span><span>    </span><span id="Dir"><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-var">Dir</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><span class="hs-comment">-- | Is this symbolic path allowed to be absolute, or must it be relative?</span></span><span>
</span><span id="line-191"></span><span class="hs-keyword">data</span><span> </span><span id="AllowAbsolute"><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier hs-var">AllowAbsolute</span></a></span></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | The path may be absolute, or it may be relative.</span></span><span>
</span><span id="line-193"></span><span>    </span><span id="AllowAbsolute"><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier hs-var">AllowAbsolute</span></a></span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | The path must be relative.</span></span><span>
</span><span id="line-195"></span><span>    </span><span id="OnlyRelative"><span class="annot"><a href="Distribution.Utils.Path.html#OnlyRelative"><span class="hs-identifier hs-var">OnlyRelative</span></a></span></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | A symbolic path, possibly relative to an abstract location specified</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- by the @from@ type parameter.</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- They are *symbolic*, which means we cannot perform any 'IO'</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- until we interpret them (using e.g. 'interpretSymbolicPath').</span><span>
</span><span id="line-202"></span><span class="hs-keyword">newtype</span><span> </span><span id="SymbolicPathX"><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-var">SymbolicPathX</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679507163"><span class="annot"><a href="#local-6989586621679507163"><span class="hs-identifier hs-type">allowAbsolute</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier hs-type">AllowAbsolute</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679507164"><span class="annot"><a href="#local-6989586621679507164"><span class="hs-identifier hs-type">from</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679507165"><span class="annot"><a href="#local-6989586621679507165"><span class="hs-identifier hs-type">to</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#FileOrDir"><span class="hs-identifier hs-type">FileOrDir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SymbolicPath"><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679507406"><span id="local-6989586621679507408"><span class="annot"><span class="annottext">(forall x.
 SymbolicPathX allowAbsolute from to
 -&gt; Rep (SymbolicPathX allowAbsolute from to) x)
-&gt; (forall x.
    Rep (SymbolicPathX allowAbsolute from to) x
    -&gt; SymbolicPathX allowAbsolute from to)
-&gt; Generic (SymbolicPathX allowAbsolute from to)
forall x.
Rep (SymbolicPathX allowAbsolute from to) x
-&gt; SymbolicPathX allowAbsolute from to
forall x.
SymbolicPathX allowAbsolute from to
-&gt; Rep (SymbolicPathX allowAbsolute from to) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) x.
Rep (SymbolicPathX allowAbsolute from to) x
-&gt; SymbolicPathX allowAbsolute from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) x.
SymbolicPathX allowAbsolute from to
-&gt; Rep (SymbolicPathX allowAbsolute from to) x
$cfrom :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) x.
SymbolicPathX allowAbsolute from to
-&gt; Rep (SymbolicPathX allowAbsolute from to) x
from :: forall x.
SymbolicPathX allowAbsolute from to
-&gt; Rep (SymbolicPathX allowAbsolute from to) x
$cto :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) x.
Rep (SymbolicPathX allowAbsolute from to) x
-&gt; SymbolicPathX allowAbsolute from to
to :: forall x.
Rep (SymbolicPathX allowAbsolute from to) x
-&gt; SymbolicPathX allowAbsolute from to
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679507414"><span id="local-6989586621679507421"><span id="local-6989586621679507425"><span class="annot"><span class="annottext">Int -&gt; SymbolicPathX allowAbsolute from to -&gt; ShowS
[SymbolicPathX allowAbsolute from to] -&gt; ShowS
SymbolicPathX allowAbsolute from to -&gt; String
(Int -&gt; SymbolicPathX allowAbsolute from to -&gt; ShowS)
-&gt; (SymbolicPathX allowAbsolute from to -&gt; String)
-&gt; ([SymbolicPathX allowAbsolute from to] -&gt; ShowS)
-&gt; Show (SymbolicPathX allowAbsolute from to)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
Int -&gt; SymbolicPathX allowAbsolute from to -&gt; ShowS
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
[SymbolicPathX allowAbsolute from to] -&gt; ShowS
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
$cshowsPrec :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
Int -&gt; SymbolicPathX allowAbsolute from to -&gt; ShowS
showsPrec :: Int -&gt; SymbolicPathX allowAbsolute from to -&gt; ShowS
$cshow :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
show :: SymbolicPathX allowAbsolute from to -&gt; String
$cshowList :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
[SymbolicPathX allowAbsolute from to] -&gt; ShowS
showList :: [SymbolicPathX allowAbsolute from to] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679507431"><span id="local-6989586621679507435"><span id="local-6989586621679507438"><span id="local-6989586621679507447"><span class="annot"><span class="annottext">ReadPrec [SymbolicPathX allowAbsolute from to]
ReadPrec (SymbolicPathX allowAbsolute from to)
Int -&gt; ReadS (SymbolicPathX allowAbsolute from to)
ReadS [SymbolicPathX allowAbsolute from to]
(Int -&gt; ReadS (SymbolicPathX allowAbsolute from to))
-&gt; ReadS [SymbolicPathX allowAbsolute from to]
-&gt; ReadPrec (SymbolicPathX allowAbsolute from to)
-&gt; ReadPrec [SymbolicPathX allowAbsolute from to]
-&gt; Read (SymbolicPathX allowAbsolute from to)
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadPrec [SymbolicPathX allowAbsolute from to]
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadPrec (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
Int -&gt; ReadS (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadS [SymbolicPathX allowAbsolute from to]
$creadsPrec :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
Int -&gt; ReadS (SymbolicPathX allowAbsolute from to)
readsPrec :: Int -&gt; ReadS (SymbolicPathX allowAbsolute from to)
$creadList :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadS [SymbolicPathX allowAbsolute from to]
readList :: ReadS [SymbolicPathX allowAbsolute from to]
$creadPrec :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadPrec (SymbolicPathX allowAbsolute from to)
readPrec :: ReadPrec (SymbolicPathX allowAbsolute from to)
$creadListPrec :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
ReadPrec [SymbolicPathX allowAbsolute from to]
readListPrec :: ReadPrec [SymbolicPathX allowAbsolute from to]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679507455"><span id="local-6989586621679507461"><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
(SymbolicPathX allowAbsolute from to
 -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; Eq (SymbolicPathX allowAbsolute from to)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$c== :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
== :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$c/= :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
/= :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679507472"><span id="local-6989586621679507478"><span id="local-6989586621679507483"><span id="local-6989586621679507488"><span id="local-6989586621679507493"><span id="local-6989586621679507498"><span id="local-6989586621679507503"><span class="annot"><span class="annottext">Eq (SymbolicPathX allowAbsolute from to)
Eq (SymbolicPathX allowAbsolute from to) =&gt;
(SymbolicPathX allowAbsolute from to
 -&gt; SymbolicPathX allowAbsolute from to -&gt; Ordering)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to -&gt; Bool)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to)
-&gt; (SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to)
-&gt; Ord (SymbolicPathX allowAbsolute from to)
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Ordering
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
Eq (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Ordering
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
$ccompare :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Ordering
compare :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Ordering
$c&lt; :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
&lt; :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$c&lt;= :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
&lt;= :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$c&gt; :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
&gt; :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$c&gt;= :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
&gt;= :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to -&gt; Bool
$cmax :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
max :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
$cmin :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
min :: SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679507523"><span id="local-6989586621679507528"><span id="local-6989586621679507532"><span id="local-6989586621679507534"><span id="local-6989586621679507536"><span id="local-6989586621679507542"><span id="local-6989586621679507547"><span id="local-6989586621679507550"><span id="local-6989586621679507553"><span id="local-6989586621679507556"><span id="local-6989586621679507559"><span id="local-6989586621679507562"><span id="local-6989586621679507567"><span id="local-6989586621679507572"><span class="annot"><span class="annottext">Typeable (SymbolicPathX allowAbsolute from to)
Typeable (SymbolicPathX allowAbsolute from to) =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g)
 -&gt; SymbolicPathX allowAbsolute from to
 -&gt; c (SymbolicPathX allowAbsolute from to))
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r)
    -&gt; Constr
    -&gt; c (SymbolicPathX allowAbsolute from to))
-&gt; (SymbolicPathX allowAbsolute from to -&gt; Constr)
-&gt; (SymbolicPathX allowAbsolute from to -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d))
    -&gt; Maybe (c (SymbolicPathX allowAbsolute from to)))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c (SymbolicPathX allowAbsolute from to)))
-&gt; ((forall b. Data b =&gt; b -&gt; b)
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; SymbolicPathX allowAbsolute from to)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r
    -&gt; (forall d. Data d =&gt; d -&gt; r')
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r
    -&gt; (forall d. Data d =&gt; d -&gt; r')
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; r)
-&gt; (forall u.
    (forall d. Data d =&gt; d -&gt; u)
    -&gt; SymbolicPathX allowAbsolute from to -&gt; [u])
-&gt; (forall u.
    Int
    -&gt; (forall d. Data d =&gt; d -&gt; u)
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; m (SymbolicPathX allowAbsolute from to))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; m (SymbolicPathX allowAbsolute from to))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; SymbolicPathX allowAbsolute from to
    -&gt; m (SymbolicPathX allowAbsolute from to))
-&gt; Data (SymbolicPathX allowAbsolute from to)
SymbolicPathX allowAbsolute from to -&gt; Constr
SymbolicPathX allowAbsolute from to -&gt; DataType
(forall b. Data b =&gt; b -&gt; b)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u.
Int
-&gt; (forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; u
forall u.
(forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
Typeable (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
SymbolicPathX allowAbsolute from to -&gt; Constr
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
SymbolicPathX allowAbsolute from to -&gt; DataType
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall b. Data b =&gt; b -&gt; b)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) u.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
Int
-&gt; (forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; u
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) u.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to -&gt; [u]
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) r
       r'.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) r
       r'.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (m :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (m :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to,
 MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r)
-&gt; Constr
-&gt; c (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; c (SymbolicPathX allowAbsolute from to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (t :: * -&gt; *) (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r)
-&gt; Constr
-&gt; c (SymbolicPathX allowAbsolute from to)
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; c (SymbolicPathX allowAbsolute from to)
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
$cgfoldl :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; c (SymbolicPathX allowAbsolute from to)
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; c (SymbolicPathX allowAbsolute from to)
$cgunfold :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r)
-&gt; Constr
-&gt; c (SymbolicPathX allowAbsolute from to)
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r)
-&gt; Constr
-&gt; c (SymbolicPathX allowAbsolute from to)
$ctoConstr :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
SymbolicPathX allowAbsolute from to -&gt; Constr
toConstr :: SymbolicPathX allowAbsolute from to -&gt; Constr
$cdataTypeOf :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
SymbolicPathX allowAbsolute from to -&gt; DataType
dataTypeOf :: SymbolicPathX allowAbsolute from to -&gt; DataType
$cdataCast1 :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (t :: * -&gt; *) (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
$cdataCast2 :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SymbolicPathX allowAbsolute from to))
$cgmapT :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall b. Data b =&gt; b -&gt; b)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
gmapT :: (forall b. Data b =&gt; b -&gt; b)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
$cgmapQl :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) r
       r'.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
$cgmapQr :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) r
       r'.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r
-&gt; (forall d. Data d =&gt; d -&gt; r')
-&gt; SymbolicPathX allowAbsolute from to
-&gt; r
$cgmapQ :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) u.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
(forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to -&gt; [u]
gmapQ :: forall u.
(forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to -&gt; [u]
$cgmapQi :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir) u.
(Typeable from, Typeable allowAbsolute, Typeable to) =&gt;
Int
-&gt; (forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; u
gmapQi :: forall u.
Int
-&gt; (forall d. Data d =&gt; d -&gt; u)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; u
$cgmapM :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (m :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
$cgmapMp :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (m :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to,
 MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
$cgmapMo :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir)
       (m :: * -&gt; *).
(Typeable from, Typeable allowAbsolute, Typeable to,
 MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; m (SymbolicPathX allowAbsolute from to)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">role</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-comment">-- | A symbolic relative path, relative to an abstract location specified</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- by the @from@ type parameter.</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- They are *symbolic*, which means we cannot perform any 'IO'</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- until we interpret them (using e.g. 'interpretSymbolicPath').</span><span>
</span><span id="line-213"></span><span class="hs-keyword">type</span><span> </span><span id="RelativePath"><span class="annot"><a href="Distribution.Utils.Path.html#RelativePath"><span class="hs-identifier hs-var">RelativePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#OnlyRelative"><span class="hs-identifier hs-type">OnlyRelative</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- | A symbolic path which is allowed to be absolute.</span><span>
</span><span id="line-216"></span><span class="hs-comment">--</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- They are *symbolic*, which means we cannot perform any 'IO'</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- until we interpret them (using e.g. 'interpretSymbolicPath').</span><span>
</span><span id="line-219"></span><span class="hs-keyword">type</span><span> </span><span id="SymbolicPath"><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier hs-type">AllowAbsolute</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">newtype</span><span> </span><span id="AbsolutePath"><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-var">AbsolutePath</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679507073"><span class="annot"><a href="#local-6989586621679507073"><span class="hs-identifier hs-type">to</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#FileOrDir"><span class="hs-identifier hs-type">FileOrDir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AbsolutePath"><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-var">AbsolutePath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679507070"><span class="annot"><a href="#local-6989586621679507070"><span class="hs-identifier hs-type">from</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507070"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507073"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span id="local-6989586621679507068"><span class="annot"><a href="Distribution.Utils.Path.html#unsafeMakeAbsolutePath"><span class="hs-identifier hs-type">unsafeMakeAbsolutePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507068"><span class="hs-identifier hs-type">to</span></a></span></span><span>
</span><span id="line-224"></span><span id="unsafeMakeAbsolutePath"><span class="annot"><span class="annottext">unsafeMakeAbsolutePath :: forall (to :: FileOrDir). String -&gt; AbsolutePath to
</span><a href="Distribution.Utils.Path.html#unsafeMakeAbsolutePath"><span class="hs-identifier hs-var hs-var">unsafeMakeAbsolutePath</span></a></span></span><span> </span><span id="local-6989586621679507586"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507586"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall from. SymbolicPath from to) -&gt; AbsolutePath to
forall (to :: FileOrDir).
(forall from. SymbolicPath from to) -&gt; AbsolutePath to
</span><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-var">AbsolutePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SymbolicPath from to
forall from (to :: FileOrDir). String -&gt; SymbolicPath from to
</span><a href="Distribution.Utils.Path.html#makeSymbolicPath"><span class="hs-identifier hs-var">makeSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507586"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507098"><span id="local-6989586621679507099"><span id="local-6989586621679507100"><span id="local-6989586621679507588"><span id="local-6989586621679507595"><span id="local-6989586621679507601"><span class="annot"><a href="../../binary-0.8.9.3-25e5/src/Data.Binary.Class.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507098"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507099"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507100"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621679507134"><span id="local-6989586621679507135"><span id="local-6989586621679507136"><span id="local-6989586621679507627"><span id="local-6989586621679507634"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621679507134"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621679507135"><span class="hs-identifier hs-type">from</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621679507136"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Structured.html#Structured"><span class="hs-identifier hs-type">Structured</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507134"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507135"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507136"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-230"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507142"><span id="local-6989586621679507143"><span id="local-6989586621679507144"><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507142"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507143"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507144"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679507682"><span class="annot"><span class="annottext">rnf :: SymbolicPathX allowAbsolute from to -&gt; ()
</span><a href="#local-6989586621679507682"><span class="hs-identifier hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from to -&gt; ()
forall a. (Generic a, GNFData (Rep a)) =&gt; a -&gt; ()
</span><a href="Distribution.Compat.Prelude.html#genericRnf"><span class="hs-identifier hs-var">genericRnf</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Extract the 'FilePath' underlying a 'SymbolicPath' or 'RelativePath',</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- without interpreting it.</span><span>
</span><span id="line-234"></span><span class="hs-comment">--</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- Use this function e.g. to validate the underlying filepath.</span><span>
</span><span id="line-236"></span><span class="hs-comment">--</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- When interacting with the file system, you should instead use</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- 'interpretSymbolicPath' or 'interpretSymbolicPathCWD'.</span><span>
</span><span id="line-239"></span><span class="hs-comment">--</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-241"></span><span id="local-6989586621679507685"><span id="local-6989586621679507686"><span id="local-6989586621679507687"><span class="annot"><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-type">getSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507685"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507686"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507687"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span></span></span><span>
</span><span id="line-242"></span><span id="getSymbolicPath"><span class="annot"><span class="annottext">getSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var hs-var">getSymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507688"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507688"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507688"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="annot"><span class="hs-comment">-- | A symbolic path from a directory to itself.</span></span><span>
</span><span id="line-245"></span><span id="local-6989586621679507156"><span id="local-6989586621679507157"><span id="local-6989586621679507158"><span class="annot"><a href="Distribution.Utils.Path.html#sameDirectory"><span class="hs-identifier hs-type">sameDirectory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507156"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507157"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507158"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-246"></span><span id="sameDirectory"><span class="annot"><span class="annottext">sameDirectory :: forall (allowAbsolute :: AllowAbsolute) from to.
SymbolicPathX allowAbsolute from ('Dir to)
</span><a href="Distribution.Utils.Path.html#sameDirectory"><span class="hs-identifier hs-var hs-var">sameDirectory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute from ('Dir to)
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-comment">-- | Make a 'RelativePath', ensuring the path is not absolute,</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- but performing no further checks.</span><span>
</span><span id="line-250"></span><span id="local-6989586621679507167"><span id="local-6989586621679507168"><span class="annot"><a href="Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier hs-type">makeRelativePathEx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#RelativePath"><span class="hs-identifier hs-type">RelativePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507167"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507168"><span class="hs-identifier hs-type">to</span></a></span></span></span><span>
</span><span id="line-251"></span><span id="makeRelativePathEx"><span class="annot"><span class="annottext">makeRelativePathEx :: forall from (to :: FileOrDir).
HasCallStack =&gt;
String -&gt; RelativePath from to
</span><a href="Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier hs-var hs-var">makeRelativePathEx</span></a></span></span><span> </span><span id="local-6989586621679507692"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507692"><span class="hs-identifier hs-var">fp</span></a></span></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-var">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507692"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; RelativePath from to
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; RelativePath from to) -&gt; String -&gt; RelativePath from to
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cabal internal error: makeRelativePathEx: absolute path &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507692"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; RelativePath from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507692"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="annot"><span class="hs-comment">-- | Make a 'SymbolicPath', which may be relative or absolute.</span></span><span>
</span><span id="line-258"></span><span id="local-6989586621679507075"><span id="local-6989586621679507076"><span class="annot"><a href="Distribution.Utils.Path.html#makeSymbolicPath"><span class="hs-identifier hs-type">makeSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507075"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507076"><span class="hs-identifier hs-type">to</span></a></span></span></span><span>
</span><span id="line-259"></span><span id="makeSymbolicPath"><span class="annot"><span class="annottext">makeSymbolicPath :: forall from (to :: FileOrDir). String -&gt; SymbolicPath from to
</span><a href="Distribution.Utils.Path.html#makeSymbolicPath"><span class="hs-identifier hs-var hs-var">makeSymbolicPath</span></a></span></span><span> </span><span id="local-6989586621679507694"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507694"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX 'AllowAbsolute from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507694"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-comment">-- | Make a 'SymbolicPath' which may be relative or absolute,</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- without performing any checks.</span><span>
</span><span id="line-263"></span><span class="hs-comment">--</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- Avoid using this function in new code.</span><span>
</span><span id="line-265"></span><span id="local-6989586621679507695"><span id="local-6989586621679507696"><span id="local-6989586621679507697"><span class="annot"><a href="Distribution.Utils.Path.html#unsafeMakeSymbolicPath"><span class="hs-identifier hs-type">unsafeMakeSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507695"><span class="hs-identifier hs-type">allowAbs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507696"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507697"><span class="hs-identifier hs-type">to</span></a></span></span></span></span><span>
</span><span id="line-266"></span><span id="unsafeMakeSymbolicPath"><span class="annot"><span class="annottext">unsafeMakeSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#unsafeMakeSymbolicPath"><span class="hs-identifier hs-var hs-var">unsafeMakeSymbolicPath</span></a></span></span><span> </span><span id="local-6989586621679507698"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507698"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbs from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507698"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="annot"><span class="hs-comment">-- | Like 'System.FilePath.takeDirectory', for symbolic paths.</span></span><span>
</span><span id="line-269"></span><span id="local-6989586621679507185"><span id="local-6989586621679507186"><span id="local-6989586621679507188"><span class="annot"><a href="Distribution.Utils.Path.html#takeDirectorySymbolicPath"><span class="hs-identifier hs-type">takeDirectorySymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507185"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507186"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507185"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507186"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507188"><span class="hs-identifier hs-type">to'</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-270"></span><span id="takeDirectorySymbolicPath"><span class="annot"><span class="annottext">takeDirectorySymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from to'.
SymbolicPathX allowAbsolute from 'File
-&gt; SymbolicPathX allowAbsolute from ('Dir to')
</span><a href="Distribution.Utils.Path.html#takeDirectorySymbolicPath"><span class="hs-identifier hs-var hs-var">takeDirectorySymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507699"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507699"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute from ('Dir to')
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#takeDirectory"><span class="hs-identifier hs-var">FilePath.takeDirectory</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507699"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="annot"><span class="hs-comment">-- | Like 'System.FilePath.dropExtensions', for symbolic paths.</span></span><span>
</span><span id="line-273"></span><span id="local-6989586621679507192"><span id="local-6989586621679507193"><span class="annot"><a href="Distribution.Utils.Path.html#dropExtensionsSymbolicPath"><span class="hs-identifier hs-type">dropExtensionsSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507192"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507193"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507192"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507193"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span></span></span><span>
</span><span id="line-274"></span><span id="dropExtensionsSymbolicPath"><span class="annot"><span class="annottext">dropExtensionsSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from.
SymbolicPathX allowAbsolute from 'File
-&gt; SymbolicPathX allowAbsolute from 'File
</span><a href="Distribution.Utils.Path.html#dropExtensionsSymbolicPath"><span class="hs-identifier hs-var hs-var">dropExtensionsSymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507701"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507701"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute from 'File
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#dropExtensions"><span class="hs-identifier hs-var">FilePath.dropExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507701"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="annot"><span class="hs-comment">-- | Like 'System.FilePath.replaceExtension', for symbolic paths.</span></span><span>
</span><span id="line-277"></span><span id="local-6989586621679507196"><span id="local-6989586621679507197"><span class="annot"><a href="Distribution.Utils.Path.html#replaceExtensionSymbolicPath"><span class="hs-identifier hs-type">replaceExtensionSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507196"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507197"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507196"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507197"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span></span></span><span>
</span><span id="line-278"></span><span id="replaceExtensionSymbolicPath"><span class="annot"><span class="annottext">replaceExtensionSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from.
SymbolicPathX allowAbsolute from 'File
-&gt; String -&gt; SymbolicPathX allowAbsolute from 'File
</span><a href="Distribution.Utils.Path.html#replaceExtensionSymbolicPath"><span class="hs-identifier hs-var hs-var">replaceExtensionSymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507703"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507703"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679507704"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507704"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute from 'File
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#replaceExtension"><span class="hs-identifier hs-var">FilePath.replaceExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507703"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507704"><span class="hs-identifier hs-var">ext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="annot"><span class="hs-comment">-- | Like 'System.FilePath.normalise', for symbolic paths.</span></span><span>
</span><span id="line-281"></span><span id="local-6989586621679507200"><span id="local-6989586621679507201"><span id="local-6989586621679507202"><span class="annot"><a href="Distribution.Utils.Path.html#normaliseSymbolicPath"><span class="hs-identifier hs-type">normaliseSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507200"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507201"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507202"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507200"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507201"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507202"><span class="hs-identifier hs-type">to</span></a></span></span></span></span><span>
</span><span id="line-282"></span><span id="normaliseSymbolicPath"><span class="annot"><span class="annottext">normaliseSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to
-&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#normaliseSymbolicPath"><span class="hs-identifier hs-var hs-var">normaliseSymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507706"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507706"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier hs-var">FilePath.normalise</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507706"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="annot"><span class="hs-comment">-- | Retrieve the relative symbolic path to a Haskell module.</span></span><span>
</span><span id="line-285"></span><span id="local-6989586621679507207"><span class="annot"><a href="Distribution.Utils.Path.html#moduleNameSymbolicPath"><span class="hs-identifier hs-type">moduleNameSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.ModuleName.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507207"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span></span><span>
</span><span id="line-286"></span><span id="moduleNameSymbolicPath"><span class="annot"><span class="annottext">moduleNameSymbolicPath :: forall (allowAbsolute :: AllowAbsolute).
ModuleName -&gt; SymbolicPathX allowAbsolute Source 'File
</span><a href="Distribution.Utils.Path.html#moduleNameSymbolicPath"><span class="hs-identifier hs-var hs-var">moduleNameSymbolicPath</span></a></span></span><span> </span><span id="local-6989586621679507708"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679507708"><span class="hs-identifier hs-var">modNm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute Source 'File
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymbolicPathX allowAbsolute Source 'File)
-&gt; String -&gt; SymbolicPathX allowAbsolute Source 'File
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; String
</span><a href="Distribution.ModuleName.html#toFilePath"><span class="hs-identifier hs-var">ModuleName.toFilePath</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679507708"><span class="hs-identifier hs-var">modNm</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | Interpret a symbolic path with respect to the given directory.</span><span>
</span><span id="line-289"></span><span class="hs-comment">--</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- Use this function before directly interacting with the file system in order</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- to take into account a working directory argument.</span><span>
</span><span id="line-292"></span><span class="hs-comment">--</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- NB: when invoking external programs (such as @GHC@), it is preferable to set</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- the working directory of the process and use 'interpretSymbolicPathCWD'</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- rather than calling this function, as this function will turn relative paths</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- into absolute paths if the working directory is an absolute path.</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- This can degrade error messages, or worse, break the behaviour entirely</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- (because the program might expect certain paths to be relative).</span><span>
</span><span id="line-299"></span><span class="hs-comment">--</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-301"></span><span id="local-6989586621679507211"><span id="local-6989586621679507212"><span id="local-6989586621679507213"><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier hs-type">interpretSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507211"><span class="hs-identifier hs-type">from</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507212"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507211"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507213"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span></span></span><span>
</span><span id="line-302"></span><span id="interpretSymbolicPath"><span class="annot"><span class="annottext">interpretSymbolicPath :: forall from (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
Maybe (SymbolicPath CWD ('Dir from))
-&gt; SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier hs-var hs-var">interpretSymbolicPath</span></a></span></span><span> </span><span id="local-6989586621679507711"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir from))
</span><a href="#local-6989586621679507711"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507712"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507712"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-comment">-- Note that this properly handles an absolute symbolic path,</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-comment">-- because if @q@ is absolute, then @p &lt;/&gt; q = q@.</span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; (SymbolicPath CWD ('Dir from) -&gt; String)
-&gt; Maybe (SymbolicPath CWD ('Dir from))
-&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507712"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507712"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS
-&gt; (SymbolicPath CWD ('Dir from) -&gt; String)
-&gt; SymbolicPath CWD ('Dir from)
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath CWD ('Dir from) -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir from))
</span><a href="#local-6989586621679507711"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- | Interpret a symbolic path, **under the assumption that the working</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- directory is the package directory**.</span><span>
</span><span id="line-309"></span><span class="hs-comment">--</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- Use 'interpretSymbolicPath' instead if you need to take into account a</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- working directory argument before directly interacting with the file system.</span><span>
</span><span id="line-312"></span><span class="hs-comment">--</span><span>
</span><span id="line-313"></span><span class="hs-comment">-- Use this function instead of 'interpretSymbolicPath' when invoking a child</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- process: set the working directory of the sub-process, and use this function,</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- e.g.:</span><span>
</span><span id="line-316"></span><span class="hs-comment">--</span><span>
</span><span id="line-317"></span><span class="hs-comment">-- &gt; callGhc :: Maybe (SymbolicPath CWD (Dir Pkg))</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- &gt;         -&gt; SymbolicPath (Dir Pkg) File</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- &gt;         -&gt; IO ()</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- &gt; callGhc mbWorkDir inputFile =</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- &gt;   runProgramInvocation $</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- &gt;     programInvocationCwd mbWorkDir ghcProg [interpretSymbolicPathCWD inputFile]</span><span>
</span><span id="line-323"></span><span class="hs-comment">--</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- In this example, 'programInvocationCwd' sets the working directory, so it is</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- appropriate to use 'interpretSymbolicPathCWD' to provide its arguments.</span><span>
</span><span id="line-326"></span><span class="hs-comment">--</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-328"></span><span id="local-6989586621679507715"><span id="local-6989586621679507716"><span id="local-6989586621679507717"><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier hs-type">interpretSymbolicPathCWD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507715"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507716"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507717"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span></span></span><span>
</span><span id="line-329"></span><span id="interpretSymbolicPathCWD"><span class="annot"><span class="annottext">interpretSymbolicPathCWD :: forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier hs-var hs-var">interpretSymbolicPathCWD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507718"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507718"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507718"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span id="local-6989586621679507229"><span class="annot"><a href="Distribution.Utils.Path.html#getAbsolutePath"><span class="hs-identifier hs-type">getAbsolutePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507229"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span><span>
</span><span id="line-332"></span><span id="getAbsolutePath"><span class="annot"><span class="annottext">getAbsolutePath :: forall (to :: FileOrDir). AbsolutePath to -&gt; String
</span><a href="Distribution.Utils.Path.html#getAbsolutePath"><span class="hs-identifier hs-var hs-var">getAbsolutePath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span id="local-6989586621679507719"><span class="annot"><span class="annottext">forall from. SymbolicPath from to
</span><a href="#local-6989586621679507719"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute (ZonkAny 0) to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute (ZonkAny 0) to
forall from. SymbolicPath from to
</span><a href="#local-6989586621679507719"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span id="local-6989586621679507232"><span id="local-6989586621679507233"><span class="annot"><a href="Distribution.Utils.Path.html#interpretSymbolicPathAbsolute"><span class="hs-identifier hs-type">interpretSymbolicPathAbsolute</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507232"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507233"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span></span><span>
</span><span id="line-335"></span><span id="interpretSymbolicPathAbsolute"><span class="annot"><span class="annottext">interpretSymbolicPathAbsolute :: forall (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
AbsolutePath ('Dir Pkg)
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="Distribution.Utils.Path.html#interpretSymbolicPathAbsolute"><span class="hs-identifier hs-var hs-var">interpretSymbolicPathAbsolute</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span id="local-6989586621679507720"><span class="annot"><span class="annottext">forall from. SymbolicPath from ('Dir Pkg)
</span><a href="#local-6989586621679507720"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679507721"><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to
</span><a href="#local-6989586621679507721"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
forall from (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
Maybe (SymbolicPath CWD ('Dir from))
-&gt; SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier hs-var">interpretSymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath CWD ('Dir Pkg) -&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath CWD ('Dir Pkg)
forall from. SymbolicPath from ('Dir Pkg)
</span><a href="#local-6989586621679507720"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to
</span><a href="#local-6989586621679507721"><span class="hs-identifier hs-var">sym</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="annot"><span class="hs-comment">-- | Change what a symbolic path is pointing to.</span></span><span>
</span><span id="line-338"></span><span id="local-6989586621679507236"><span id="local-6989586621679507237"><span id="local-6989586621679507238"><span id="local-6989586621679507239"><span class="annot"><a href="Distribution.Utils.Path.html#coerceSymbolicPath"><span class="hs-identifier hs-type">coerceSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507236"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507237"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507238"><span class="hs-identifier hs-type">to1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507236"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507237"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507239"><span class="hs-identifier hs-type">to2</span></a></span></span></span></span></span><span>
</span><span id="line-339"></span><span id="coerceSymbolicPath"><span class="annot"><span class="annottext">coerceSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from (to1 :: FileOrDir)
       (to2 :: FileOrDir).
SymbolicPathX allowAbsolute from to1
-&gt; SymbolicPathX allowAbsolute from to2
</span><a href="Distribution.Utils.Path.html#coerceSymbolicPath"><span class="hs-identifier hs-var hs-var">coerceSymbolicPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from to1
-&gt; SymbolicPathX allowAbsolute from to2
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | Change both what a symbolic path is pointing from and pointing to.</span><span>
</span><span id="line-342"></span><span class="hs-comment">--</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- Avoid using this in new code.</span><span>
</span><span id="line-344"></span><span id="local-6989586621679507244"><span id="local-6989586621679507245"><span id="local-6989586621679507246"><span id="local-6989586621679507247"><span id="local-6989586621679507248"><span class="annot"><a href="Distribution.Utils.Path.html#unsafeCoerceSymbolicPath"><span class="hs-identifier hs-type">unsafeCoerceSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507244"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507245"><span class="hs-identifier hs-type">from1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507246"><span class="hs-identifier hs-type">to1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507244"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507247"><span class="hs-identifier hs-type">from2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507248"><span class="hs-identifier hs-type">to2</span></a></span></span></span></span></span></span><span>
</span><span id="line-345"></span><span id="unsafeCoerceSymbolicPath"><span class="annot"><span class="annottext">unsafeCoerceSymbolicPath :: forall (allowAbsolute :: AllowAbsolute) from1 (to1 :: FileOrDir)
       from2 (to2 :: FileOrDir).
SymbolicPathX allowAbsolute from1 to1
-&gt; SymbolicPathX allowAbsolute from2 to2
</span><a href="Distribution.Utils.Path.html#unsafeCoerceSymbolicPath"><span class="hs-identifier hs-var hs-var">unsafeCoerceSymbolicPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from1 to1
-&gt; SymbolicPathX allowAbsolute from2 to2
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">-- | Weakening: convert a relative symbolic path to a symbolic path,</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- \&quot;forgetting\&quot; that it is relative.</span><span>
</span><span id="line-349"></span><span id="local-6989586621679507254"><span id="local-6989586621679507255"><span class="annot"><a href="Distribution.Utils.Path.html#relativeSymbolicPath"><span class="hs-identifier hs-type">relativeSymbolicPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#RelativePath"><span class="hs-identifier hs-type">RelativePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507254"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507255"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507254"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507255"><span class="hs-identifier hs-type">to</span></a></span></span></span><span>
</span><span id="line-350"></span><span id="relativeSymbolicPath"><span class="annot"><span class="annottext">relativeSymbolicPath :: forall from (to :: FileOrDir).
RelativePath from to -&gt; SymbolicPath from to
</span><a href="Distribution.Utils.Path.html#relativeSymbolicPath"><span class="hs-identifier hs-var hs-var">relativeSymbolicPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507724"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507724"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX 'AllowAbsolute from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507724"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="annot"><span class="hs-comment">-- | Is this symbolic path a relative symbolic path?</span></span><span>
</span><span id="line-353"></span><span id="local-6989586621679507259"><span id="local-6989586621679507260"><span class="annot"><a href="Distribution.Utils.Path.html#symbolicPathRelative_maybe"><span class="hs-identifier hs-type">symbolicPathRelative_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507259"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507260"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#RelativePath"><span class="hs-identifier hs-type">RelativePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507259"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507260"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-354"></span><span id="symbolicPathRelative_maybe"><span class="annot"><span class="annottext">symbolicPathRelative_maybe :: forall from (to :: FileOrDir).
SymbolicPath from to -&gt; Maybe (RelativePath from to)
</span><a href="Distribution.Utils.Path.html#symbolicPathRelative_maybe"><span class="hs-identifier hs-var hs-var">symbolicPathRelative_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507725"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507725"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-var">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507725"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (RelativePath from to)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">RelativePath from to -&gt; Maybe (RelativePath from to)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(RelativePath from to -&gt; Maybe (RelativePath from to))
-&gt; RelativePath from to -&gt; Maybe (RelativePath from to)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; RelativePath from to
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507725"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="annot"><span class="hs-comment">-- | Absolute path to the current working directory.</span></span><span>
</span><span id="line-360"></span><span id="local-6989586621679507263"><span class="annot"><a href="Distribution.Utils.Path.html#absoluteWorkingDir"><span class="hs-identifier hs-type">absoluteWorkingDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507263"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507263"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-361"></span><span id="absoluteWorkingDir"><span class="annot"><span class="annottext">absoluteWorkingDir :: forall (to :: FileOrDir).
Maybe (SymbolicPath CWD to) -&gt; IO (AbsolutePath to)
</span><a href="Distribution.Utils.Path.html#absoluteWorkingDir"><span class="hs-identifier hs-var hs-var">absoluteWorkingDir</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD to)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; AbsolutePath to
forall (to :: FileOrDir). String -&gt; AbsolutePath to
</span><a href="Distribution.Utils.Path.html#unsafeMakeAbsolutePath"><span class="hs-identifier hs-var">unsafeMakeAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; AbsolutePath to) -&gt; IO String -&gt; IO (AbsolutePath to)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO String
</span><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#getCurrentDirectory"><span class="hs-identifier hs-var">Directory.getCurrentDirectory</span></a></span><span>
</span><span id="line-362"></span><span class="annot"><a href="Distribution.Utils.Path.html#absoluteWorkingDir"><span class="hs-identifier hs-var">absoluteWorkingDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679507731"><span class="annot"><span class="annottext">SymbolicPath CWD to
</span><a href="#local-6989586621679507731"><span class="hs-identifier hs-var">wd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; AbsolutePath to
forall (to :: FileOrDir). String -&gt; AbsolutePath to
</span><a href="Distribution.Utils.Path.html#unsafeMakeAbsolutePath"><span class="hs-identifier hs-var">unsafeMakeAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; AbsolutePath to) -&gt; IO String -&gt; IO (AbsolutePath to)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#makeAbsolute"><span class="hs-identifier hs-var">Directory.makeAbsolute</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath CWD to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath CWD to
</span><a href="#local-6989586621679507731"><span class="hs-identifier hs-var">wd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | Try to make a symbolic path relative.</span><span>
</span><span id="line-365"></span><span class="hs-comment">--</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- This function does nothing if the path is already relative.</span><span>
</span><span id="line-367"></span><span class="hs-comment">--</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- NB: this function may fail to make the path relative.</span><span>
</span><span id="line-369"></span><span id="local-6989586621679507268"><span id="local-6989586621679507269"><span class="annot"><a href="Distribution.Utils.Path.html#tryMakeRelative"><span class="hs-identifier hs-type">tryMakeRelative</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507268"><span class="hs-identifier hs-type">dir</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507268"><span class="hs-identifier hs-type">dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507269"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507268"><span class="hs-identifier hs-type">dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507269"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-370"></span><span id="tryMakeRelative"><span class="annot"><span class="annottext">tryMakeRelative :: forall dir (to :: FileOrDir).
Maybe (SymbolicPath CWD ('Dir dir))
-&gt; SymbolicPath dir to -&gt; IO (SymbolicPath dir to)
</span><a href="Distribution.Utils.Path.html#tryMakeRelative"><span class="hs-identifier hs-var hs-var">tryMakeRelative</span></a></span></span><span> </span><span id="local-6989586621679507736"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir dir))
</span><a href="#local-6989586621679507736"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507737"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507737"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span id="local-6989586621679507738"><span class="annot"><a href="#local-6989586621679507738"><span class="hs-identifier hs-var">wd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir dir)) -&gt; IO (AbsolutePath ('Dir dir))
forall (to :: FileOrDir).
Maybe (SymbolicPath CWD to) -&gt; IO (AbsolutePath to)
</span><a href="Distribution.Utils.Path.html#absoluteWorkingDir"><span class="hs-identifier hs-var">absoluteWorkingDir</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir dir))
</span><a href="#local-6989586621679507736"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#makeRelative"><span class="hs-identifier hs-type">FilePath.makeRelative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-type">getSymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507738"><span class="hs-identifier hs-type">wd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679507737"><span class="hs-identifier hs-type">fp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="annot"><span class="hs-comment">-- ** Parsing and pretty printing</span></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507280"><span id="local-6989586621679507281"><span class="annot"><a href="Distribution.Parsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#OnlyRelative"><span class="hs-identifier hs-type">OnlyRelative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507280"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507281"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-381"></span><span>  </span><span id="local-6989586621679507759"><span class="annot"><span class="annottext">parsec :: forall (m :: * -&gt; *).
CabalParsing m =&gt;
m (SymbolicPathX 'OnlyRelative from to)
</span><a href="#local-6989586621679507759"><span class="hs-identifier hs-var hs-var hs-var">parsec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621679507761"><span class="annot"><a href="#local-6989586621679507761"><span class="hs-identifier hs-var">token</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m String
forall (m :: * -&gt; *). CabalParsing m =&gt; m String
</span><a href="Distribution.Parsec.html#parsecToken"><span class="hs-identifier hs-var">parsecToken</span></a></span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621679507761"><span class="hs-identifier hs-type">token</span></a></span><span>
</span><span id="line-384"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="Distribution.Compat.Parsing.html#unexpected"><span class="hs-identifier hs-type">P.unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;empty FilePath&quot;</span></span><span>
</span><span id="line-385"></span><span>      </span><span class="hs-keyword">else</span><span>
</span><span id="line-386"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-type">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507761"><span class="hs-identifier hs-type">token</span></a></span><span>
</span><span id="line-387"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="Distribution.Compat.Parsing.html#unexpected"><span class="hs-identifier hs-type">P.unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;absolute FilePath&quot;</span></span><span>
</span><span id="line-388"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507761"><span class="hs-identifier hs-type">token</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507295"><span id="local-6989586621679507296"><span class="annot"><a href="Distribution.Parsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#AllowAbsolute"><span class="hs-identifier hs-type">AllowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507295"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507296"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-391"></span><span>  </span><span id="local-6989586621679507777"><span class="annot"><span class="annottext">parsec :: forall (m :: * -&gt; *).
CabalParsing m =&gt;
m (SymbolicPathX 'AllowAbsolute from to)
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var hs-var hs-var">parsec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-392"></span><span>    </span><span id="local-6989586621679507778"><span class="annot"><a href="#local-6989586621679507778"><span class="hs-identifier hs-var">token</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m String
forall (m :: * -&gt; *). CabalParsing m =&gt; m String
</span><a href="Distribution.Parsec.html#parsecToken"><span class="hs-identifier hs-var">parsecToken</span></a></span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621679507778"><span class="hs-identifier hs-type">token</span></a></span><span>
</span><span id="line-394"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="Distribution.Compat.Parsing.html#unexpected"><span class="hs-identifier hs-type">P.unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;empty FilePath&quot;</span></span><span>
</span><span id="line-395"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507778"><span class="hs-identifier hs-type">token</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507305"><span id="local-6989586621679507306"><span id="local-6989586621679507307"><span id="local-6989586621679507781"><span class="annot"><a href="Distribution.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507305"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507306"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507307"><span class="hs-identifier hs-type">to</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-398"></span><span>  </span><span id="local-6989586621679507785"><span class="annot"><span class="annottext">pretty :: SymbolicPathX allowAbsolute from to -&gt; Doc
</span><a href="#local-6989586621679507785"><span class="hs-identifier hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc
</span><a href="Distribution.Pretty.html#showFilePath"><span class="hs-identifier hs-var">showFilePath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Doc)
-&gt; (SymbolicPathX allowAbsolute from to -&gt; String)
-&gt; SymbolicPathX allowAbsolute from to
-&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="annot"><span class="hs-comment">-- * Composition</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">7</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-type">&lt;.&gt;</span></a></span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="annot"><span class="hs-comment">-- | Types that support 'System.FilePath.&lt;.&gt;'.</span></span><span>
</span><span id="line-409"></span><span class="hs-keyword">class</span><span> </span><span id="FileLike"><span class="annot"><a href="Distribution.Utils.Path.html#FileLike"><span class="hs-identifier hs-var">FileLike</span></a></span></span><span> </span><span id="local-6989586621679507309"><span class="annot"><a href="#local-6989586621679507309"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-comment">-- | Like 'System.FilePath.&lt;.&gt;', but also supporting symbolic paths.</span><span>
</span><span id="line-411"></span><span>  </span><span id="%3C.%3E"><span class="annot"><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-type">(&lt;.&gt;)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679507309"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507309"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#FileLike"><span class="hs-identifier hs-type">FileLike</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679507791"><span class="annot"><span class="annottext">&lt;.&gt; :: String -&gt; ShowS
</span><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-var hs-var hs-var">(&lt;.&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#%3C.%3E"><span class="hs-operator hs-var">(FilePath.&lt;.&gt;)</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679507313"><span id="local-6989586621679507314"><span id="local-6989586621679507315"><span class="annot"><a href="#local-6989586621679507313"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#FileLike"><span class="hs-identifier hs-type">FileLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507314"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507315"><span class="hs-identifier hs-type">dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507313"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507797"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507797"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679507798"><span class="annot"><span class="annottext">&lt;.&gt; :: SymbolicPathX allowAbsolute dir p
-&gt; String -&gt; SymbolicPathX allowAbsolute dir p
</span><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-var hs-var hs-var">&lt;.&gt;</span></a></span></span><span> </span><span id="local-6989586621679507799"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507799"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute dir p
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507797"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p. FileLike p =&gt; p -&gt; String -&gt; p
</span><a href="Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-var">&lt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507799"><span class="hs-identifier hs-var">ext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">5</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="annot"><span class="hs-comment">-- | Types that support 'System.FilePath.&lt;/&gt;'.</span></span><span>
</span><span id="line-422"></span><span class="hs-keyword">class</span><span> </span><span id="PathLike"><span class="annot"><a href="Distribution.Utils.Path.html#PathLike"><span class="hs-identifier hs-var">PathLike</span></a></span></span><span> </span><span id="local-6989586621679507220"><span class="annot"><a href="#local-6989586621679507220"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679507221"><span class="annot"><a href="#local-6989586621679507221"><span class="hs-identifier hs-type">q</span></a></span></span><span> </span><span id="local-6989586621679507222"><span class="annot"><a href="#local-6989586621679507222"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679507221"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507222"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507220"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507220"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507222"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507221"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507220"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507221"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507222"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-423"></span><span>  </span><span class="hs-comment">-- | Like 'System.FilePath.&lt;/&gt;', but also supporting symbolic paths.</span><span>
</span><span id="line-424"></span><span>  </span><span id="%3C%2F%3E"><span class="annot"><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">(&lt;/&gt;)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679507220"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507221"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679507222"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#PathLike"><span class="hs-identifier hs-type">PathLike</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-427"></span><span>  </span><span id="local-6989586621679507802"><span class="annot"><span class="annottext">&lt;/&gt; :: String -&gt; ShowS
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var hs-var hs-var">(&lt;/&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">(FilePath.&lt;/&gt;)</span></a></span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="hs-comment">-- | This instance ensures we don't accidentally discard a symbolic path</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- in a 'System.FilePath.&lt;/&gt;' operation due to the second path being absolute.</span><span>
</span><span id="line-431"></span><span class="hs-comment">--</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- (Recall that @a &lt;/&gt; b = b@ whenever @b@ is absolute.)</span><span>
</span><span id="line-433"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679507324"><span id="local-6989586621679507325"><span id="local-6989586621679507326"><span id="local-6989586621679507327"><span id="local-6989586621679507328"><span id="local-6989586621679507329"><span id="local-6989586621679507330"><span id="local-6989586621679507331"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679507324"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507325"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507326"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679507327"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507328"><span class="hs-identifier hs-type">c2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679507329"><span class="hs-identifier hs-type">c3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507330"><span class="hs-identifier hs-type">midAbsolute</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#OnlyRelative"><span class="hs-identifier hs-type">OnlyRelative</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#PathLike"><span class="hs-identifier hs-type">PathLike</span></a></span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507331"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507327"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507324"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507330"><span class="hs-identifier hs-type">midAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507325"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507328"><span class="hs-identifier hs-type">c2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507331"><span class="hs-identifier hs-type">allowAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507326"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507329"><span class="hs-identifier hs-type">c3</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507811"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507811"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679507812"><span class="annot"><span class="annottext">&lt;/&gt; :: SymbolicPathX allowAbsolute a1 b1
-&gt; SymbolicPathX midAbsolute b2 c2
-&gt; SymbolicPathX allowAbsolute a3 c3
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var hs-var hs-var">&lt;/&gt;</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507813"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507813"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPathX allowAbsolute a3 c3
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
String -&gt; SymbolicPathX allowAbsolute from to
</span><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-var">SymbolicPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507811"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507813"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679507337"><span id="local-6989586621679507338"><span id="local-6989586621679507339"><span id="local-6989586621679507340"><span id="local-6989586621679507341"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679507337"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507338"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507339"><span class="hs-identifier hs-type">c2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679507340"><span class="hs-identifier hs-type">c3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679507341"><span class="hs-identifier hs-type">midAbsolute</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#OnlyRelative"><span class="hs-identifier hs-type">OnlyRelative</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#PathLike"><span class="hs-identifier hs-type">PathLike</span></a></span><span>
</span><span id="line-445"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507337"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPathX"><span class="hs-identifier hs-type">SymbolicPathX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507341"><span class="hs-identifier hs-type">midAbsolute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507338"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507339"><span class="hs-identifier hs-type">c2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679507340"><span class="hs-identifier hs-type">c3</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-449"></span><span>  </span><span class="annot"><a href="Distribution.Utils.Path.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507820"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507820"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679507821"><span class="annot"><span class="annottext">&lt;/&gt; :: AbsolutePath b1
-&gt; SymbolicPathX midAbsolute b2 c2 -&gt; AbsolutePath c3
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var hs-var hs-var">&lt;/&gt;</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span id="local-6989586621679507822"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507822"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-450"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; AbsolutePath c3
forall (to :: FileOrDir). String -&gt; AbsolutePath to
</span><a href="Distribution.Utils.Path.html#unsafeMakeAbsolutePath"><span class="hs-identifier hs-var">unsafeMakeAbsolutePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507820"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679507822"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- Abstract directory locations.</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- | Abstract directory: current working directory.</span><span>
</span><span id="line-456"></span><span class="hs-comment">--</span><span>
</span><span id="line-457"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-458"></span><span class="hs-keyword">data</span><span> </span><span id="CWD"><span class="annot"><a href="Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-var">CWD</span></a></span></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">-- | Abstract directory: package directory (e.g. a directory containing the @.cabal@ file).</span><span>
</span><span id="line-461"></span><span class="hs-comment">--</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-463"></span><span class="hs-keyword">data</span><span> </span><span id="Pkg"><span class="annot"><a href="Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-var">Pkg</span></a></span></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- | Abstract directory: dist directory (e.g. @dist-newstyle@).</span><span>
</span><span id="line-466"></span><span class="hs-comment">--</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-468"></span><span class="hs-keyword">data</span><span> </span><span id="Dist"><span class="annot"><a href="Distribution.Utils.Path.html#Dist"><span class="hs-identifier hs-var">Dist</span></a></span></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span class="hs-comment">-- | Abstract directory: source directory (a search directory for source files).</span><span>
</span><span id="line-471"></span><span class="hs-comment">--</span><span>
</span><span id="line-472"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-473"></span><span class="hs-keyword">data</span><span> </span><span id="Source"><span class="annot"><a href="Distribution.Utils.Path.html#Source"><span class="hs-identifier hs-var">Source</span></a></span></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | Abstract directory: include directory (a search directory for CPP includes like header files, e.g. with @ghc -I@).</span><span>
</span><span id="line-476"></span><span class="hs-comment">--</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-478"></span><span class="hs-keyword">data</span><span> </span><span id="Include"><span class="annot"><a href="Distribution.Utils.Path.html#Include"><span class="hs-identifier hs-var">Include</span></a></span></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-comment">-- | Abstract directory: search directory for extra libraries.</span><span>
</span><span id="line-481"></span><span class="hs-comment">--</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-483"></span><span class="hs-keyword">data</span><span> </span><span id="Lib"><span class="annot"><a href="Distribution.Utils.Path.html#Lib"><span class="hs-identifier hs-var">Lib</span></a></span></span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="hs-comment">-- | Abstract directory: MacOS framework directory.</span><span>
</span><span id="line-486"></span><span class="hs-comment">--</span><span>
</span><span id="line-487"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-488"></span><span class="hs-keyword">data</span><span> </span><span id="Framework"><span class="annot"><a href="Distribution.Utils.Path.html#Framework"><span class="hs-identifier hs-var">Framework</span></a></span></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-- | Abstract directory: build directory.</span><span>
</span><span id="line-491"></span><span class="hs-comment">--</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-493"></span><span class="hs-keyword">data</span><span> </span><span id="Build"><span class="annot"><a href="Distribution.Utils.Path.html#Build"><span class="hs-identifier hs-var">Build</span></a></span></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | Abstract directory: directory for build artifacts, such as documentation or @.hie@ files.</span><span>
</span><span id="line-496"></span><span class="hs-comment">--</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-498"></span><span class="hs-keyword">data</span><span> </span><span id="Artifacts"><span class="annot"><a href="Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-var">Artifacts</span></a></span></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="hs-comment">-- | Abstract directory: package database directory.</span><span>
</span><span id="line-501"></span><span class="hs-comment">--</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-503"></span><span class="hs-keyword">data</span><span> </span><span id="PkgDB"><span class="annot"><a href="Distribution.Utils.Path.html#PkgDB"><span class="hs-identifier hs-var">PkgDB</span></a></span></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span class="hs-comment">-- | Abstract directory: data files directory.</span><span>
</span><span id="line-506"></span><span class="hs-comment">--</span><span>
</span><span id="line-507"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-508"></span><span class="hs-keyword">data</span><span> </span><span id="DataDir"><span class="annot"><a href="Distribution.Utils.Path.html#DataDir"><span class="hs-identifier hs-var">DataDir</span></a></span></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="hs-comment">-- | Abstract directory: directory for HPC @.mix@ files.</span><span>
</span><span id="line-511"></span><span class="hs-comment">--</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-513"></span><span class="hs-keyword">data</span><span> </span><span id="Mix"><span class="annot"><a href="Distribution.Utils.Path.html#Mix"><span class="hs-identifier hs-var">Mix</span></a></span></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">-- | Abstract directory: directory for HPC @.tix@ files.</span><span>
</span><span id="line-516"></span><span class="hs-comment">--</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-518"></span><span class="hs-keyword">data</span><span> </span><span id="Tix"><span class="annot"><a href="Distribution.Utils.Path.html#Tix"><span class="hs-identifier hs-var">Tix</span></a></span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="hs-comment">-- | Abstract directory: a temporary directory.</span><span>
</span><span id="line-521"></span><span class="hs-comment">--</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-523"></span><span class="hs-keyword">data</span><span> </span><span id="Tmp"><span class="annot"><a href="Distribution.Utils.Path.html#Tmp"><span class="hs-identifier hs-var">Tmp</span></a></span></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-comment">-- | Abstract directory: directory for response files.</span><span>
</span><span id="line-526"></span><span class="hs-comment">--</span><span>
</span><span id="line-527"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-528"></span><span class="hs-keyword">data</span><span> </span><span id="Response"><span class="annot"><a href="Distribution.Utils.Path.html#Response"><span class="hs-identifier hs-var">Response</span></a></span></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-- | Abstract directory: directory for pkg-config files.</span><span>
</span><span id="line-531"></span><span class="hs-comment">--</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path.</span><span>
</span><span id="line-533"></span><span class="hs-keyword">data</span><span> </span><span id="PkgConf"><span class="annot"><a href="Distribution.Utils.Path.html#PkgConf"><span class="hs-identifier hs-var">PkgConf</span></a></span></span><span>
</span><span id="line-534"></span></pre></body></html>